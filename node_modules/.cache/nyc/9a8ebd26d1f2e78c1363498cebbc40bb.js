'use strict';var cov_2hckn7e27g=function(){var path="/home/okwukwe/Desktop/Andela/sendIT/server/controllers/OrderController.js",hash="2cf51136df333dca568dadcf8f81ea4e23e8b8bb",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/okwukwe/Desktop/Andela/sendIT/server/controllers/OrderController.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:19},end:{line:7,column:55}},"2":{start:{line:9,column:20},end:{line:9,column:56}},"3":{start:{line:11,column:25},end:{line:11,column:74}},"4":{start:{line:13,column:25},end:{line:13,column:67}},"5":{start:{line:15,column:23},end:{line:15,column:70}},"6":{start:{line:17,column:23},end:{line:17,column:63}},"7":{start:{line:19,column:20},end:{line:19,column:64}},"8":{start:{line:21,column:20},end:{line:21,column:57}},"9":{start:{line:23,column:14},end:{line:23,column:31}},"10":{start:{line:25,column:15},end:{line:25,column:46}},"11":{start:{line:27,column:13},end:{line:27,column:47}},"12":{start:{line:29,column:16},end:{line:29,column:45}},"13":{start:{line:31,column:17},end:{line:31,column:50}},"14":{start:{line:33,column:13},end:{line:33,column:32}},"15":{start:{line:35,column:14},end:{line:35,column:44}},"16":{start:{line:37,column:39},end:{line:37,column:93}},"17":{start:{line:40,column:22},end:{line:660,column:3}},"18":{start:{line:42,column:4},end:{line:42,column:57}},"19":{start:{line:45,column:2},end:{line:658,column:6}},"20":{start:{line:56,column:17},end:{line:107,column:9}},"21":{start:{line:59,column:8},end:{line:106,column:37}},"22":{start:{line:60,column:10},end:{line:105,column:11}},"23":{start:{line:61,column:12},end:{line:104,column:13}},"24":{start:{line:63,column:16},end:{line:63,column:59}},"25":{start:{line:65,column:16},end:{line:68,column:17}},"26":{start:{line:66,column:18},end:{line:66,column:36}},"27":{start:{line:67,column:18},end:{line:67,column:24}},"28":{start:{line:70,column:16},end:{line:70,column:87}},"29":{start:{line:73,column:16},end:{line:73,column:395}},"30":{start:{line:74,column:16},end:{line:74,column:48}},"31":{start:{line:75,column:16},end:{line:75,column:54}},"32":{start:{line:76,column:16},end:{line:76,column:46}},"33":{start:{line:77,column:16},end:{line:77,column:326}},"34":{start:{line:78,column:16},end:{line:78,column:257}},"35":{start:{line:79,column:16},end:{line:79,column:34}},"36":{start:{line:80,column:16},end:{line:80,column:35}},"37":{start:{line:81,column:16},end:{line:81,column:64}},"38":{start:{line:84,column:16},end:{line:84,column:38}},"39":{start:{line:85,column:16},end:{line:85,column:34}},"40":{start:{line:86,column:16},end:{line:90,column:20}},"41":{start:{line:93,column:16},end:{line:93,column:35}},"42":{start:{line:94,column:16},end:{line:94,column:51}},"43":{start:{line:95,column:16},end:{line:99,column:20}},"44":{start:{line:103,column:16},end:{line:103,column:39}},"45":{start:{line:110,column:8},end:{line:110,column:43}},"46":{start:{line:113,column:6},end:{line:113,column:25}},"47":{start:{line:127,column:18},end:{line:176,column:9}},"48":{start:{line:130,column:8},end:{line:175,column:38}},"49":{start:{line:131,column:10},end:{line:174,column:11}},"50":{start:{line:132,column:12},end:{line:173,column:13}},"51":{start:{line:134,column:16},end:{line:134,column:51}},"52":{start:{line:135,column:16},end:{line:135,column:35}},"53":{start:{line:136,column:16},end:{line:136,column:35}},"54":{start:{line:137,column:16},end:{line:137,column:56}},"55":{start:{line:140,column:16},end:{line:140,column:39}},"56":{start:{line:141,column:16},end:{line:141,column:34}},"57":{start:{line:142,column:16},end:{line:142,column:42}},"58":{start:{line:144,column:16},end:{line:147,column:17}},"59":{start:{line:145,column:18},end:{line:145,column:37}},"60":{start:{line:146,column:18},end:{line:146,column:24}},"61":{start:{line:149,column:16},end:{line:152,column:20}},"62":{start:{line:155,column:16},end:{line:160,column:20}},"63":{start:{line:163,column:16},end:{line:163,column:36}},"64":{start:{line:164,column:16},end:{line:164,column:53}},"65":{start:{line:165,column:16},end:{line:168,column:20}},"66":{start:{line:172,column:16},end:{line:172,column:40}},"67":{start:{line:179,column:8},end:{line:179,column:44}},"68":{start:{line:182,column:6},end:{line:182,column:26}},"69":{start:{line:196,column:18},end:{line:244,column:9}},"70":{start:{line:199,column:8},end:{line:243,column:38}},"71":{start:{line:200,column:10},end:{line:242,column:11}},"72":{start:{line:201,column:12},end:{line:241,column:13}},"73":{start:{line:203,column:16},end:{line:203,column:60}},"74":{start:{line:204,column:16},end:{line:204,column:63}},"75":{start:{line:205,column:16},end:{line:205,column:35}},"76":{start:{line:206,column:16},end:{line:206,column:35}},"77":{start:{line:207,column:16},end:{line:207,column:68}},"78":{start:{line:210,column:16},end:{line:210,column:39}},"79":{start:{line:211,column:16},end:{line:211,column:34}},"80":{start:{line:213,column:16},end:{line:216,column:17}},"81":{start:{line:214,column:18},end:{line:214,column:37}},"82":{start:{line:215,column:18},end:{line:215,column:24}},"83":{start:{line:218,column:16},end:{line:221,column:20}},"84":{start:{line:224,column:16},end:{line:228,column:20}},"85":{start:{line:231,column:16},end:{line:231,column:36}},"86":{start:{line:232,column:16},end:{line:232,column:53}},"87":{start:{line:233,column:16},end:{line:236,column:20}},"88":{start:{line:240,column:16},end:{line:240,column:40}},"89":{start:{line:247,column:8},end:{line:247,column:44}},"90":{start:{line:250,column:6},end:{line:250,column:25}},"91":{start:{line:264,column:18},end:{line:314,column:9}},"92":{start:{line:267,column:8},end:{line:313,column:38}},"93":{start:{line:268,column:10},end:{line:312,column:11}},"94":{start:{line:269,column:12},end:{line:311,column:13}},"95":{start:{line:271,column:16},end:{line:271,column:56}},"96":{start:{line:272,column:16},end:{line:272,column:67}},"97":{start:{line:273,column:16},end:{line:273,column:35}},"98":{start:{line:274,column:16},end:{line:274,column:35}},"99":{start:{line:275,column:16},end:{line:275,column:66}},"100":{start:{line:278,column:16},end:{line:278,column:39}},"101":{start:{line:279,column:16},end:{line:279,column:34}},"102":{start:{line:280,column:16},end:{line:280,column:42}},"103":{start:{line:282,column:16},end:{line:285,column:17}},"104":{start:{line:283,column:18},end:{line:283,column:38}},"105":{start:{line:284,column:18},end:{line:284,column:24}},"106":{start:{line:287,column:16},end:{line:290,column:20}},"107":{start:{line:293,column:16},end:{line:298,column:20}},"108":{start:{line:301,column:16},end:{line:301,column:36}},"109":{start:{line:302,column:16},end:{line:302,column:53}},"110":{start:{line:303,column:16},end:{line:306,column:20}},"111":{start:{line:310,column:16},end:{line:310,column:40}},"112":{start:{line:317,column:8},end:{line:317,column:44}},"113":{start:{line:320,column:6},end:{line:320,column:29}},"114":{start:{line:334,column:18},end:{line:392,column:9}},"115":{start:{line:337,column:8},end:{line:391,column:38}},"116":{start:{line:338,column:10},end:{line:390,column:11}},"117":{start:{line:339,column:12},end:{line:389,column:13}},"118":{start:{line:341,column:16},end:{line:341,column:54}},"119":{start:{line:342,column:16},end:{line:342,column:60}},"120":{start:{line:343,column:16},end:{line:343,column:76}},"121":{start:{line:344,column:16},end:{line:344,column:115}},"122":{start:{line:346,column:16},end:{line:346,column:59}},"123":{start:{line:347,column:16},end:{line:347,column:35}},"124":{start:{line:348,column:16},end:{line:348,column:35}},"125":{start:{line:349,column:16},end:{line:349,column:75}},"126":{start:{line:352,column:16},end:{line:352,column:40}},"127":{start:{line:353,column:16},end:{line:353,column:35}},"128":{start:{line:355,column:16},end:{line:358,column:17}},"129":{start:{line:356,column:18},end:{line:356,column:38}},"130":{start:{line:357,column:18},end:{line:357,column:24}},"131":{start:{line:360,column:16},end:{line:363,column:20}},"132":{start:{line:366,column:16},end:{line:366,column:87}},"133":{start:{line:367,column:16},end:{line:367,column:36}},"134":{start:{line:368,column:16},end:{line:368,column:65}},"135":{start:{line:371,column:16},end:{line:371,column:40}},"136":{start:{line:372,column:16},end:{line:376,column:20}},"137":{start:{line:379,column:16},end:{line:379,column:36}},"138":{start:{line:380,column:16},end:{line:380,column:53}},"139":{start:{line:381,column:16},end:{line:384,column:20}},"140":{start:{line:388,column:16},end:{line:388,column:40}},"141":{start:{line:395,column:8},end:{line:395,column:44}},"142":{start:{line:398,column:6},end:{line:398,column:25}},"143":{start:{line:412,column:19},end:{line:469,column:9}},"144":{start:{line:415,column:8},end:{line:468,column:38}},"145":{start:{line:416,column:10},end:{line:467,column:11}},"146":{start:{line:417,column:12},end:{line:466,column:13}},"147":{start:{line:419,column:16},end:{line:419,column:134}},"148":{start:{line:420,column:16},end:{line:420,column:54}},"149":{start:{line:421,column:16},end:{line:421,column:60}},"150":{start:{line:422,column:16},end:{line:422,column:62}},"151":{start:{line:423,column:16},end:{line:423,column:143}},"152":{start:{line:424,column:16},end:{line:424,column:35}},"153":{start:{line:425,column:16},end:{line:425,column:35}},"154":{start:{line:426,column:16},end:{line:426,column:67}},"155":{start:{line:429,column:16},end:{line:429,column:40}},"156":{start:{line:430,column:16},end:{line:430,column:35}},"157":{start:{line:432,column:16},end:{line:435,column:17}},"158":{start:{line:433,column:18},end:{line:433,column:38}},"159":{start:{line:434,column:18},end:{line:434,column:24}},"160":{start:{line:437,column:16},end:{line:440,column:20}},"161":{start:{line:443,column:16},end:{line:443,column:172}},"162":{start:{line:444,column:16},end:{line:444,column:36}},"163":{start:{line:445,column:16},end:{line:445,column:65}},"164":{start:{line:448,column:16},end:{line:448,column:40}},"165":{start:{line:449,column:16},end:{line:453,column:20}},"166":{start:{line:456,column:16},end:{line:456,column:36}},"167":{start:{line:457,column:16},end:{line:457,column:53}},"168":{start:{line:458,column:16},end:{line:461,column:20}},"169":{start:{line:465,column:16},end:{line:465,column:40}},"170":{start:{line:472,column:8},end:{line:472,column:45}},"171":{start:{line:475,column:6},end:{line:475,column:36}},"172":{start:{line:489,column:19},end:{line:558,column:9}},"173":{start:{line:492,column:8},end:{line:557,column:38}},"174":{start:{line:493,column:10},end:{line:556,column:11}},"175":{start:{line:494,column:12},end:{line:555,column:13}},"176":{start:{line:496,column:16},end:{line:496,column:41}},"177":{start:{line:497,column:16},end:{line:497,column:60}},"178":{start:{line:498,column:16},end:{line:498,column:61}},"179":{start:{line:499,column:16},end:{line:499,column:62}},"180":{start:{line:500,column:16},end:{line:500,column:98}},"181":{start:{line:501,column:16},end:{line:501,column:35}},"182":{start:{line:502,column:16},end:{line:502,column:35}},"183":{start:{line:503,column:16},end:{line:503,column:67}},"184":{start:{line:506,column:16},end:{line:506,column:40}},"185":{start:{line:507,column:16},end:{line:507,column:35}},"186":{start:{line:509,column:16},end:{line:512,column:17}},"187":{start:{line:510,column:18},end:{line:510,column:38}},"188":{start:{line:511,column:18},end:{line:511,column:24}},"189":{start:{line:514,column:16},end:{line:517,column:20}},"190":{start:{line:520,column:16},end:{line:520,column:104}},"191":{start:{line:521,column:16},end:{line:521,column:36}},"192":{start:{line:522,column:16},end:{line:522,column:65}},"193":{start:{line:525,column:16},end:{line:525,column:40}},"194":{start:{line:526,column:16},end:{line:526,column:36}},"195":{start:{line:527,column:16},end:{line:527,column:73}},"196":{start:{line:530,column:16},end:{line:530,column:42}},"197":{start:{line:531,column:16},end:{line:531,column:44}},"198":{start:{line:532,column:16},end:{line:532,column:58}},"199":{start:{line:533,column:16},end:{line:533,column:50}},"200":{start:{line:534,column:16},end:{line:534,column:137}},"201":{start:{line:537,column:16},end:{line:537,column:73}},"202":{start:{line:538,column:16},end:{line:542,column:20}},"203":{start:{line:545,column:16},end:{line:545,column:36}},"204":{start:{line:546,column:16},end:{line:546,column:53}},"205":{start:{line:547,column:16},end:{line:550,column:20}},"206":{start:{line:554,column:16},end:{line:554,column:40}},"207":{start:{line:561,column:8},end:{line:561,column:45}},"208":{start:{line:564,column:6},end:{line:564,column:31}},"209":{start:{line:578,column:19},end:{line:650,column:9}},"210":{start:{line:581,column:8},end:{line:649,column:38}},"211":{start:{line:582,column:10},end:{line:648,column:11}},"212":{start:{line:583,column:12},end:{line:647,column:13}},"213":{start:{line:585,column:16},end:{line:585,column:146}},"214":{start:{line:586,column:16},end:{line:586,column:60}},"215":{start:{line:587,column:16},end:{line:587,column:61}},"216":{start:{line:588,column:16},end:{line:588,column:62}},"217":{start:{line:589,column:16},end:{line:589,column:108}},"218":{start:{line:590,column:16},end:{line:590,column:35}},"219":{start:{line:591,column:16},end:{line:591,column:35}},"220":{start:{line:592,column:16},end:{line:592,column:67}},"221":{start:{line:595,column:16},end:{line:595,column:40}},"222":{start:{line:596,column:16},end:{line:596,column:35}},"223":{start:{line:598,column:16},end:{line:601,column:17}},"224":{start:{line:599,column:18},end:{line:599,column:38}},"225":{start:{line:600,column:18},end:{line:600,column:24}},"226":{start:{line:603,column:16},end:{line:606,column:20}},"227":{start:{line:609,column:16},end:{line:609,column:84}},"228":{start:{line:610,column:16},end:{line:610,column:88}},"229":{start:{line:611,column:16},end:{line:611,column:36}},"230":{start:{line:612,column:16},end:{line:612,column:65}},"231":{start:{line:615,column:16},end:{line:615,column:40}},"232":{start:{line:616,column:16},end:{line:616,column:36}},"233":{start:{line:617,column:16},end:{line:617,column:73}},"234":{start:{line:620,column:16},end:{line:620,column:42}},"235":{start:{line:621,column:16},end:{line:621,column:44}},"236":{start:{line:622,column:16},end:{line:622,column:60}},"237":{start:{line:623,column:16},end:{line:623,column:50}},"238":{start:{line:624,column:16},end:{line:624,column:165}},"239":{start:{line:627,column:16},end:{line:627,column:62}},"240":{start:{line:629,column:16},end:{line:633,column:20}},"241":{start:{line:636,column:16},end:{line:636,column:36}},"242":{start:{line:637,column:16},end:{line:637,column:53}},"243":{start:{line:638,column:16},end:{line:642,column:20}},"244":{start:{line:646,column:16},end:{line:646,column:40}},"245":{start:{line:653,column:8},end:{line:653,column:45}},"246":{start:{line:656,column:6},end:{line:656,column:40}},"247":{start:{line:659,column:2},end:{line:659,column:25}},"248":{start:{line:662,column:0},end:{line:662,column:34}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:37,column:9},end:{line:37,column:31}},loc:{start:{line:37,column:37},end:{line:37,column:95}},line:37},"1":{name:"(anonymous_1)",decl:{start:{line:40,column:22},end:{line:40,column:23}},loc:{start:{line:40,column:34},end:{line:660,column:1}},line:40},"2":{name:"OrderController",decl:{start:{line:41,column:11},end:{line:41,column:26}},loc:{start:{line:41,column:29},end:{line:43,column:3}},line:41},"3":{name:"(anonymous_3)",decl:{start:{line:55,column:11},end:{line:55,column:12}},loc:{start:{line:55,column:23},end:{line:114,column:5}},line:55},"4":{name:"_callee",decl:{start:{line:56,column:99},end:{line:56,column:106}},loc:{start:{line:56,column:117},end:{line:107,column:7}},line:56},"5":{name:"_callee$",decl:{start:{line:59,column:51},end:{line:59,column:59}},loc:{start:{line:59,column:70},end:{line:106,column:9}},line:59},"6":{name:"createOrder",decl:{start:{line:109,column:15},end:{line:109,column:26}},loc:{start:{line:109,column:36},end:{line:111,column:7}},line:109},"7":{name:"(anonymous_7)",decl:{start:{line:126,column:11},end:{line:126,column:12}},loc:{start:{line:126,column:23},end:{line:183,column:5}},line:126},"8":{name:"_callee2",decl:{start:{line:127,column:100},end:{line:127,column:108}},loc:{start:{line:127,column:119},end:{line:176,column:7}},line:127},"9":{name:"_callee2$",decl:{start:{line:130,column:51},end:{line:130,column:60}},loc:{start:{line:130,column:72},end:{line:175,column:9}},line:130},"10":{name:"getAllOrders",decl:{start:{line:178,column:15},end:{line:178,column:27}},loc:{start:{line:178,column:38},end:{line:180,column:7}},line:178},"11":{name:"(anonymous_11)",decl:{start:{line:195,column:11},end:{line:195,column:12}},loc:{start:{line:195,column:23},end:{line:251,column:5}},line:195},"12":{name:"_callee3",decl:{start:{line:196,column:100},end:{line:196,column:108}},loc:{start:{line:196,column:119},end:{line:244,column:7}},line:196},"13":{name:"_callee3$",decl:{start:{line:199,column:51},end:{line:199,column:60}},loc:{start:{line:199,column:72},end:{line:243,column:9}},line:199},"14":{name:"getOneOrder",decl:{start:{line:246,column:15},end:{line:246,column:26}},loc:{start:{line:246,column:37},end:{line:248,column:7}},line:246},"15":{name:"(anonymous_15)",decl:{start:{line:263,column:11},end:{line:263,column:12}},loc:{start:{line:263,column:23},end:{line:321,column:5}},line:263},"16":{name:"_callee4",decl:{start:{line:264,column:100},end:{line:264,column:108}},loc:{start:{line:264,column:119},end:{line:314,column:7}},line:264},"17":{name:"_callee4$",decl:{start:{line:267,column:51},end:{line:267,column:60}},loc:{start:{line:267,column:72},end:{line:313,column:9}},line:267},"18":{name:"getOrdersbyUser",decl:{start:{line:316,column:15},end:{line:316,column:30}},loc:{start:{line:316,column:41},end:{line:318,column:7}},line:316},"19":{name:"(anonymous_19)",decl:{start:{line:333,column:11},end:{line:333,column:12}},loc:{start:{line:333,column:23},end:{line:399,column:5}},line:333},"20":{name:"_callee5",decl:{start:{line:334,column:100},end:{line:334,column:108}},loc:{start:{line:334,column:119},end:{line:392,column:7}},line:334},"21":{name:"_callee5$",decl:{start:{line:337,column:51},end:{line:337,column:60}},loc:{start:{line:337,column:72},end:{line:391,column:9}},line:337},"22":{name:"cancelOrder",decl:{start:{line:394,column:15},end:{line:394,column:26}},loc:{start:{line:394,column:38},end:{line:396,column:7}},line:394},"23":{name:"(anonymous_23)",decl:{start:{line:411,column:11},end:{line:411,column:12}},loc:{start:{line:411,column:23},end:{line:476,column:5}},line:411},"24":{name:"_callee6",decl:{start:{line:412,column:101},end:{line:412,column:109}},loc:{start:{line:412,column:120},end:{line:469,column:7}},line:412},"25":{name:"_callee6$",decl:{start:{line:415,column:51},end:{line:415,column:60}},loc:{start:{line:415,column:72},end:{line:468,column:9}},line:415},"26":{name:"changeOrderDestination",decl:{start:{line:471,column:15},end:{line:471,column:37}},loc:{start:{line:471,column:50},end:{line:473,column:7}},line:471},"27":{name:"(anonymous_27)",decl:{start:{line:488,column:11},end:{line:488,column:12}},loc:{start:{line:488,column:23},end:{line:565,column:5}},line:488},"28":{name:"_callee7",decl:{start:{line:489,column:101},end:{line:489,column:109}},loc:{start:{line:489,column:120},end:{line:558,column:7}},line:489},"29":{name:"_callee7$",decl:{start:{line:492,column:51},end:{line:492,column:60}},loc:{start:{line:492,column:72},end:{line:557,column:9}},line:492},"30":{name:"changeOrderStatus",decl:{start:{line:560,column:15},end:{line:560,column:32}},loc:{start:{line:560,column:45},end:{line:562,column:7}},line:560},"31":{name:"(anonymous_31)",decl:{start:{line:577,column:11},end:{line:577,column:12}},loc:{start:{line:577,column:23},end:{line:657,column:5}},line:577},"32":{name:"_callee8",decl:{start:{line:578,column:101},end:{line:578,column:109}},loc:{start:{line:578,column:120},end:{line:650,column:7}},line:578},"33":{name:"_callee8$",decl:{start:{line:581,column:51},end:{line:581,column:60}},loc:{start:{line:581,column:72},end:{line:649,column:9}},line:581},"34":{name:"changeOrderPresentLocation",decl:{start:{line:652,column:15},end:{line:652,column:41}},loc:{start:{line:652,column:54},end:{line:654,column:7}},line:652}},branchMap:{"0":{loc:{start:{line:37,column:46},end:{line:37,column:92}},type:"cond-expr",locations:[{start:{line:37,column:70},end:{line:37,column:73}},{start:{line:37,column:76},end:{line:37,column:92}}],line:37},"1":{loc:{start:{line:37,column:46},end:{line:37,column:67}},type:"binary-expr",locations:[{start:{line:37,column:46},end:{line:37,column:49}},{start:{line:37,column:53},end:{line:37,column:67}}],line:37},"2":{loc:{start:{line:61,column:12},end:{line:104,column:13}},type:"switch",locations:[{start:{line:62,column:14},end:{line:70,column:87}},{start:{line:72,column:14},end:{line:81,column:64}},{start:{line:83,column:14},end:{line:90,column:20}},{start:{line:92,column:14},end:{line:99,column:20}},{start:{line:101,column:14},end:{line:101,column:22}},{start:{line:102,column:14},end:{line:103,column:39}}],line:61},"3":{loc:{start:{line:65,column:16},end:{line:68,column:17}},type:"if",locations:[{start:{line:65,column:16},end:{line:68,column:17}},{start:{line:65,column:16},end:{line:68,column:17}}],line:65},"4":{loc:{start:{line:132,column:12},end:{line:173,column:13}},type:"switch",locations:[{start:{line:133,column:14},end:{line:137,column:56}},{start:{line:139,column:14},end:{line:152,column:20}},{start:{line:154,column:14},end:{line:160,column:20}},{start:{line:162,column:14},end:{line:168,column:20}},{start:{line:170,column:14},end:{line:170,column:22}},{start:{line:171,column:14},end:{line:172,column:40}}],line:132},"5":{loc:{start:{line:144,column:16},end:{line:147,column:17}},type:"if",locations:[{start:{line:144,column:16},end:{line:147,column:17}},{start:{line:144,column:16},end:{line:147,column:17}}],line:144},"6":{loc:{start:{line:201,column:12},end:{line:241,column:13}},type:"switch",locations:[{start:{line:202,column:14},end:{line:207,column:68}},{start:{line:209,column:14},end:{line:221,column:20}},{start:{line:223,column:14},end:{line:228,column:20}},{start:{line:230,column:14},end:{line:236,column:20}},{start:{line:238,column:14},end:{line:238,column:22}},{start:{line:239,column:14},end:{line:240,column:40}}],line:201},"7":{loc:{start:{line:213,column:16},end:{line:216,column:17}},type:"if",locations:[{start:{line:213,column:16},end:{line:216,column:17}},{start:{line:213,column:16},end:{line:216,column:17}}],line:213},"8":{loc:{start:{line:269,column:12},end:{line:311,column:13}},type:"switch",locations:[{start:{line:270,column:14},end:{line:275,column:66}},{start:{line:277,column:14},end:{line:290,column:20}},{start:{line:292,column:14},end:{line:298,column:20}},{start:{line:300,column:14},end:{line:306,column:20}},{start:{line:308,column:14},end:{line:308,column:22}},{start:{line:309,column:14},end:{line:310,column:40}}],line:269},"9":{loc:{start:{line:282,column:16},end:{line:285,column:17}},type:"if",locations:[{start:{line:282,column:16},end:{line:285,column:17}},{start:{line:282,column:16},end:{line:285,column:17}}],line:282},"10":{loc:{start:{line:339,column:12},end:{line:389,column:13}},type:"switch",locations:[{start:{line:340,column:14},end:{line:349,column:75}},{start:{line:351,column:14},end:{line:363,column:20}},{start:{line:365,column:14},end:{line:368,column:65}},{start:{line:370,column:14},end:{line:376,column:20}},{start:{line:378,column:14},end:{line:384,column:20}},{start:{line:386,column:14},end:{line:386,column:22}},{start:{line:387,column:14},end:{line:388,column:40}}],line:339},"11":{loc:{start:{line:355,column:16},end:{line:358,column:17}},type:"if",locations:[{start:{line:355,column:16},end:{line:358,column:17}},{start:{line:355,column:16},end:{line:358,column:17}}],line:355},"12":{loc:{start:{line:417,column:12},end:{line:466,column:13}},type:"switch",locations:[{start:{line:418,column:14},end:{line:426,column:67}},{start:{line:428,column:14},end:{line:440,column:20}},{start:{line:442,column:14},end:{line:445,column:65}},{start:{line:447,column:14},end:{line:453,column:20}},{start:{line:455,column:14},end:{line:461,column:20}},{start:{line:463,column:14},end:{line:463,column:22}},{start:{line:464,column:14},end:{line:465,column:40}}],line:417},"13":{loc:{start:{line:432,column:16},end:{line:435,column:17}},type:"if",locations:[{start:{line:432,column:16},end:{line:435,column:17}},{start:{line:432,column:16},end:{line:435,column:17}}],line:432},"14":{loc:{start:{line:443,column:26},end:{line:443,column:57}},type:"binary-expr",locations:[{start:{line:443,column:26},end:{line:443,column:35}},{start:{line:443,column:39},end:{line:443,column:57}}],line:443},"15":{loc:{start:{line:443,column:59},end:{line:443,column:84}},type:"binary-expr",locations:[{start:{line:443,column:59},end:{line:443,column:65}},{start:{line:443,column:69},end:{line:443,column:84}}],line:443},"16":{loc:{start:{line:443,column:86},end:{line:443,column:117}},type:"binary-expr",locations:[{start:{line:443,column:86},end:{line:443,column:95}},{start:{line:443,column:99},end:{line:443,column:117}}],line:443},"17":{loc:{start:{line:494,column:12},end:{line:555,column:13}},type:"switch",locations:[{start:{line:495,column:14},end:{line:503,column:67}},{start:{line:505,column:14},end:{line:517,column:20}},{start:{line:519,column:14},end:{line:522,column:65}},{start:{line:524,column:14},end:{line:527,column:73}},{start:{line:529,column:14},end:{line:542,column:20}},{start:{line:544,column:14},end:{line:550,column:20}},{start:{line:552,column:14},end:{line:552,column:22}},{start:{line:553,column:14},end:{line:554,column:40}}],line:494},"18":{loc:{start:{line:509,column:16},end:{line:512,column:17}},type:"if",locations:[{start:{line:509,column:16},end:{line:512,column:17}},{start:{line:509,column:16},end:{line:512,column:17}}],line:509},"19":{loc:{start:{line:520,column:26},end:{line:520,column:57}},type:"binary-expr",locations:[{start:{line:520,column:26},end:{line:520,column:39}},{start:{line:520,column:43},end:{line:520,column:57}}],line:520},"20":{loc:{start:{line:583,column:12},end:{line:647,column:13}},type:"switch",locations:[{start:{line:584,column:14},end:{line:592,column:67}},{start:{line:594,column:14},end:{line:606,column:20}},{start:{line:608,column:14},end:{line:612,column:65}},{start:{line:614,column:14},end:{line:617,column:73}},{start:{line:619,column:14},end:{line:633,column:20}},{start:{line:635,column:14},end:{line:642,column:20}},{start:{line:644,column:14},end:{line:644,column:22}},{start:{line:645,column:14},end:{line:646,column:40}}],line:583},"21":{loc:{start:{line:598,column:16},end:{line:601,column:17}},type:"if",locations:[{start:{line:598,column:16},end:{line:601,column:17}},{start:{line:598,column:16},end:{line:601,column:17}}],line:598}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0},b:{"0":[0,0],"1":[0,0],"2":[0,0,0,0,0,0],"3":[0,0],"4":[0,0,0,0,0,0],"5":[0,0],"6":[0,0,0,0,0,0],"7":[0,0],"8":[0,0,0,0,0,0],"9":[0,0],"10":[0,0,0,0,0,0,0],"11":[0,0],"12":[0,0,0,0,0,0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0,0,0,0,0,0,0],"18":[0,0],"19":[0,0],"20":[0,0,0,0,0,0,0,0],"21":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_2hckn7e27g.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _regenerator=(cov_2hckn7e27g.s[1]++,require('babel-runtime/regenerator'));var _regenerator2=(cov_2hckn7e27g.s[2]++,_interopRequireDefault(_regenerator));var _asyncToGenerator2=(cov_2hckn7e27g.s[3]++,require('babel-runtime/helpers/asyncToGenerator'));var _asyncToGenerator3=(cov_2hckn7e27g.s[4]++,_interopRequireDefault(_asyncToGenerator2));var _classCallCheck2=(cov_2hckn7e27g.s[5]++,require('babel-runtime/helpers/classCallCheck'));var _classCallCheck3=(cov_2hckn7e27g.s[6]++,_interopRequireDefault(_classCallCheck2));var _createClass2=(cov_2hckn7e27g.s[7]++,require('babel-runtime/helpers/createClass'));var _createClass3=(cov_2hckn7e27g.s[8]++,_interopRequireDefault(_createClass2));var _moment=(cov_2hckn7e27g.s[9]++,require('moment'));var _moment2=(cov_2hckn7e27g.s[10]++,_interopRequireDefault(_moment));var _check=(cov_2hckn7e27g.s[11]++,require('express-validator/check'));var _sendMail=(cov_2hckn7e27g.s[12]++,require('../mailer/sendMail'));var _sendMail2=(cov_2hckn7e27g.s[13]++,_interopRequireDefault(_sendMail));var _model=(cov_2hckn7e27g.s[14]++,require('../model'));var _model2=(cov_2hckn7e27g.s[15]++,_interopRequireDefault(_model));function _interopRequireDefault(obj){cov_2hckn7e27g.f[0]++;cov_2hckn7e27g.s[16]++;return(cov_2hckn7e27g.b[1][0]++,obj)&&(cov_2hckn7e27g.b[1][1]++,obj.__esModule)?(cov_2hckn7e27g.b[0][0]++,obj):(cov_2hckn7e27g.b[0][1]++,{default:obj});}/** Orders Controller Class */var OrderController=(cov_2hckn7e27g.s[17]++,function(){cov_2hckn7e27g.f[1]++;function OrderController(){cov_2hckn7e27g.f[2]++;cov_2hckn7e27g.s[18]++;(0,_classCallCheck3.default)(this,OrderController);}cov_2hckn7e27g.s[19]++;(0,_createClass3.default)(OrderController,null,[{key:'createOrder',/**
     * @desc POST api/v1/parcels
     * @param {object} req
     * @param {object} res
     * @returns {object} created order
     * @memberof Order
     */value:function(){cov_2hckn7e27g.f[3]++;var _ref=(cov_2hckn7e27g.s[20]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee(req,res){cov_2hckn7e27g.f[4]++;var errors,_req$body,parcelDescription,parcelWeight,fromAddress,fromCity,fromCountry,toAddress,toCity,toCountry,receiver,receiverPhone,orderPrice,userId,presentLocation,queryText,values,_ref2,rows;cov_2hckn7e27g.s[21]++;return _regenerator2.default.wrap(function _callee$(_context){cov_2hckn7e27g.f[5]++;cov_2hckn7e27g.s[22]++;while(1){cov_2hckn7e27g.s[23]++;switch(_context.prev=_context.next){case 0:cov_2hckn7e27g.b[2][0]++;cov_2hckn7e27g.s[24]++;errors=(0,_check.validationResult)(req);cov_2hckn7e27g.s[25]++;if(errors.isEmpty()){cov_2hckn7e27g.b[3][0]++;cov_2hckn7e27g.s[26]++;_context.next=3;cov_2hckn7e27g.s[27]++;break;}else{cov_2hckn7e27g.b[3][1]++;}cov_2hckn7e27g.s[28]++;return _context.abrupt('return',res.status(400).json(errors.array()));case 3:cov_2hckn7e27g.b[2][1]++;cov_2hckn7e27g.s[29]++;_req$body=req.body,parcelDescription=_req$body.parcelDescription,parcelWeight=_req$body.parcelWeight,fromAddress=_req$body.fromAddress,fromCity=_req$body.fromCity,fromCountry=_req$body.fromCountry,toAddress=_req$body.toAddress,toCity=_req$body.toCity,toCountry=_req$body.toCountry,receiver=_req$body.receiver,receiverPhone=_req$body.receiverPhone;cov_2hckn7e27g.s[30]++;orderPrice=parcelWeight*150;cov_2hckn7e27g.s[31]++;userId=parseInt(req.user.userId,0);cov_2hckn7e27g.s[32]++;presentLocation=fromAddress;cov_2hckn7e27g.s[33]++;queryText='INSERT INTO \n      orders(parcel_descrpt, parcel_wgt, price, from_address, from_city, from_country, to_address, to_city, to_country, receiver, receiver_phone, present_location, userid, created_on, updated_on) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) returning *';cov_2hckn7e27g.s[34]++;values=[parcelDescription,parcelWeight,orderPrice,fromAddress,fromCity,fromCountry,toAddress,toCity,toCountry,receiver,receiverPhone,presentLocation,userId,(0,_moment2.default)(new Date()),(0,_moment2.default)(new Date())];cov_2hckn7e27g.s[35]++;_context.prev=9;cov_2hckn7e27g.s[36]++;_context.next=12;cov_2hckn7e27g.s[37]++;return _model2.default.query(queryText,values);case 12:cov_2hckn7e27g.b[2][2]++;cov_2hckn7e27g.s[38]++;_ref2=_context.sent;cov_2hckn7e27g.s[39]++;rows=_ref2.rows;cov_2hckn7e27g.s[40]++;return _context.abrupt('return',res.status(201).json({status:'success',message:'parcel delivery order created successully',order:rows[0]}));case 17:cov_2hckn7e27g.b[2][3]++;cov_2hckn7e27g.s[41]++;_context.prev=17;cov_2hckn7e27g.s[42]++;_context.t0=_context['catch'](9);cov_2hckn7e27g.s[43]++;return _context.abrupt('return',res.status(400).json({status:'error',error:'order not created',err:_context.t0}));case 20:cov_2hckn7e27g.b[2][4]++;case'end':cov_2hckn7e27g.b[2][5]++;cov_2hckn7e27g.s[44]++;return _context.stop();}}},_callee,this,[[9,17]]);})));function createOrder(_x,_x2){cov_2hckn7e27g.f[6]++;cov_2hckn7e27g.s[45]++;return _ref.apply(this,arguments);}cov_2hckn7e27g.s[46]++;return createOrder;}()/**
     * @desc GET api/v1/parcels
     * @param {object} req
     * @param {object} res
     * @returns {object} all orders
     * @memberof Order
     */},{key:'getAllOrders',value:function(){cov_2hckn7e27g.f[7]++;var _ref3=(cov_2hckn7e27g.s[47]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee2(req,res){cov_2hckn7e27g.f[8]++;var queryText,_ref4,rows,rowCount;cov_2hckn7e27g.s[48]++;return _regenerator2.default.wrap(function _callee2$(_context2){cov_2hckn7e27g.f[9]++;cov_2hckn7e27g.s[49]++;while(1){cov_2hckn7e27g.s[50]++;switch(_context2.prev=_context2.next){case 0:cov_2hckn7e27g.b[4][0]++;cov_2hckn7e27g.s[51]++;queryText='SELECT * FROM orders';cov_2hckn7e27g.s[52]++;_context2.prev=1;cov_2hckn7e27g.s[53]++;_context2.next=4;cov_2hckn7e27g.s[54]++;return _model2.default.query(queryText);case 4:cov_2hckn7e27g.b[4][1]++;cov_2hckn7e27g.s[55]++;_ref4=_context2.sent;cov_2hckn7e27g.s[56]++;rows=_ref4.rows;cov_2hckn7e27g.s[57]++;rowCount=_ref4.rowCount;cov_2hckn7e27g.s[58]++;if(!(rows.length===0)){cov_2hckn7e27g.b[5][0]++;cov_2hckn7e27g.s[59]++;_context2.next=9;cov_2hckn7e27g.s[60]++;break;}else{cov_2hckn7e27g.b[5][1]++;}cov_2hckn7e27g.s[61]++;return _context2.abrupt('return',res.status(404).json({status:'failure',message:'orders not found'}));case 9:cov_2hckn7e27g.b[4][2]++;cov_2hckn7e27g.s[62]++;return _context2.abrupt('return',res.status(200).json({status:'success',message:'available orders',rows:rows,total:rowCount}));case 12:cov_2hckn7e27g.b[4][3]++;cov_2hckn7e27g.s[63]++;_context2.prev=12;cov_2hckn7e27g.s[64]++;_context2.t0=_context2['catch'](1);cov_2hckn7e27g.s[65]++;return _context2.abrupt('return',res.status(400).json({status:'error',error:'could not get the orders'}));case 15:cov_2hckn7e27g.b[4][4]++;case'end':cov_2hckn7e27g.b[4][5]++;cov_2hckn7e27g.s[66]++;return _context2.stop();}}},_callee2,this,[[1,12]]);})));function getAllOrders(_x3,_x4){cov_2hckn7e27g.f[10]++;cov_2hckn7e27g.s[67]++;return _ref3.apply(this,arguments);}cov_2hckn7e27g.s[68]++;return getAllOrders;}()/**
     * @desc GET api/v1/parcels/:parcelId
     * @param {object} req
     * @param {object} res
     * @returns {object} one order
     * @memberof Order
     */},{key:'getOneOrder',value:function(){cov_2hckn7e27g.f[11]++;var _ref5=(cov_2hckn7e27g.s[69]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee3(req,res){cov_2hckn7e27g.f[12]++;var parcelId,queryText,_ref6,rows;cov_2hckn7e27g.s[70]++;return _regenerator2.default.wrap(function _callee3$(_context3){cov_2hckn7e27g.f[13]++;cov_2hckn7e27g.s[71]++;while(1){cov_2hckn7e27g.s[72]++;switch(_context3.prev=_context3.next){case 0:cov_2hckn7e27g.b[6][0]++;cov_2hckn7e27g.s[73]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[74]++;queryText='SELECT * FROM orders WHERE id=$1';cov_2hckn7e27g.s[75]++;_context3.prev=2;cov_2hckn7e27g.s[76]++;_context3.next=5;cov_2hckn7e27g.s[77]++;return _model2.default.query(queryText,[parcelId]);case 5:cov_2hckn7e27g.b[6][1]++;cov_2hckn7e27g.s[78]++;_ref6=_context3.sent;cov_2hckn7e27g.s[79]++;rows=_ref6.rows;cov_2hckn7e27g.s[80]++;if(rows[0]){cov_2hckn7e27g.b[7][0]++;cov_2hckn7e27g.s[81]++;_context3.next=9;cov_2hckn7e27g.s[82]++;break;}else{cov_2hckn7e27g.b[7][1]++;}cov_2hckn7e27g.s[83]++;return _context3.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 9:cov_2hckn7e27g.b[6][2]++;cov_2hckn7e27g.s[84]++;return _context3.abrupt('return',res.status(200).json({status:'success',message:'user orders found',order:rows[0]}));case 12:cov_2hckn7e27g.b[6][3]++;cov_2hckn7e27g.s[85]++;_context3.prev=12;cov_2hckn7e27g.s[86]++;_context3.t0=_context3['catch'](2);cov_2hckn7e27g.s[87]++;return _context3.abrupt('return',res.status(400).json({status:'error',error:'could not get user orders'}));case 15:cov_2hckn7e27g.b[6][4]++;case'end':cov_2hckn7e27g.b[6][5]++;cov_2hckn7e27g.s[88]++;return _context3.stop();}}},_callee3,this,[[2,12]]);})));function getOneOrder(_x5,_x6){cov_2hckn7e27g.f[14]++;cov_2hckn7e27g.s[89]++;return _ref5.apply(this,arguments);}cov_2hckn7e27g.s[90]++;return getOneOrder;}()/**
     * @desc GET api/v1/users/:userId/parcels
     * @param {object} req
     * @param {object} res
     * @returns {object} user orders
     * @memberof Order
     */},{key:'getOrdersbyUser',value:function(){cov_2hckn7e27g.f[15]++;var _ref7=(cov_2hckn7e27g.s[91]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee4(req,res){cov_2hckn7e27g.f[16]++;var userId,queryText,_ref8,rows,rowCount;cov_2hckn7e27g.s[92]++;return _regenerator2.default.wrap(function _callee4$(_context4){cov_2hckn7e27g.f[17]++;cov_2hckn7e27g.s[93]++;while(1){cov_2hckn7e27g.s[94]++;switch(_context4.prev=_context4.next){case 0:cov_2hckn7e27g.b[8][0]++;cov_2hckn7e27g.s[95]++;userId=parseInt(req.params.userId,0);cov_2hckn7e27g.s[96]++;queryText='SELECT * FROM orders WHERE userid=$1';cov_2hckn7e27g.s[97]++;_context4.prev=2;cov_2hckn7e27g.s[98]++;_context4.next=5;cov_2hckn7e27g.s[99]++;return _model2.default.query(queryText,[userId]);case 5:cov_2hckn7e27g.b[8][1]++;cov_2hckn7e27g.s[100]++;_ref8=_context4.sent;cov_2hckn7e27g.s[101]++;rows=_ref8.rows;cov_2hckn7e27g.s[102]++;rowCount=_ref8.rowCount;cov_2hckn7e27g.s[103]++;if(!(rows.length===0)){cov_2hckn7e27g.b[9][0]++;cov_2hckn7e27g.s[104]++;_context4.next=10;cov_2hckn7e27g.s[105]++;break;}else{cov_2hckn7e27g.b[9][1]++;}cov_2hckn7e27g.s[106]++;return _context4.abrupt('return',res.status(404).json({status:'failure',error:'user orders not found'}));case 10:cov_2hckn7e27g.b[8][2]++;cov_2hckn7e27g.s[107]++;return _context4.abrupt('return',res.status(200).json({status:'success',message:'user orders',rows:rows,total:rowCount}));case 13:cov_2hckn7e27g.b[8][3]++;cov_2hckn7e27g.s[108]++;_context4.prev=13;cov_2hckn7e27g.s[109]++;_context4.t0=_context4['catch'](2);cov_2hckn7e27g.s[110]++;return _context4.abrupt('return',res.status(400).json({status:'error',error:'could not get the order'}));case 16:cov_2hckn7e27g.b[8][4]++;case'end':cov_2hckn7e27g.b[8][5]++;cov_2hckn7e27g.s[111]++;return _context4.stop();}}},_callee4,this,[[2,13]]);})));function getOrdersbyUser(_x7,_x8){cov_2hckn7e27g.f[18]++;cov_2hckn7e27g.s[112]++;return _ref7.apply(this,arguments);}cov_2hckn7e27g.s[113]++;return getOrdersbyUser;}()/**
     * @desc PUT api/v1/parcels/:parcelId/cancel
     * @param {object} req
     * @param {object} res
     * @returns {object} cancelled order
     * @memberof Order
     */},{key:'cancelOrder',value:function(){cov_2hckn7e27g.f[19]++;var _ref9=(cov_2hckn7e27g.s[114]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee5(req,res){cov_2hckn7e27g.f[20]++;var userId,parcelId,findText,updateText,_ref10,rows,values,result;cov_2hckn7e27g.s[115]++;return _regenerator2.default.wrap(function _callee5$(_context5){cov_2hckn7e27g.f[21]++;cov_2hckn7e27g.s[116]++;while(1){cov_2hckn7e27g.s[117]++;switch(_context5.prev=_context5.next){case 0:cov_2hckn7e27g.b[10][0]++;cov_2hckn7e27g.s[118]++;userId=parseInt(req.user.userId,0);cov_2hckn7e27g.s[119]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[120]++;findText='SELECT * FROM orders WHERE id=$1 AND userid=$2';cov_2hckn7e27g.s[121]++;updateText='UPDATE orders SET cancelled=$1, updated_on=$2 WHERE id=$3 AND userid=$4 returning *';cov_2hckn7e27g.s[122]++;console.log(req.headers['x-access-token']);cov_2hckn7e27g.s[123]++;_context5.prev=5;cov_2hckn7e27g.s[124]++;_context5.next=8;cov_2hckn7e27g.s[125]++;return _model2.default.query(findText,[parcelId,userId]);case 8:cov_2hckn7e27g.b[10][1]++;cov_2hckn7e27g.s[126]++;_ref10=_context5.sent;cov_2hckn7e27g.s[127]++;rows=_ref10.rows;cov_2hckn7e27g.s[128]++;if(rows[0]){cov_2hckn7e27g.b[11][0]++;cov_2hckn7e27g.s[129]++;_context5.next=12;cov_2hckn7e27g.s[130]++;break;}else{cov_2hckn7e27g.b[11][1]++;}cov_2hckn7e27g.s[131]++;return _context5.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 12:cov_2hckn7e27g.b[10][2]++;cov_2hckn7e27g.s[132]++;values=['true',(0,_moment2.default)(new Date()),parcelId,userId];cov_2hckn7e27g.s[133]++;_context5.next=15;cov_2hckn7e27g.s[134]++;return _model2.default.query(updateText,values);case 15:cov_2hckn7e27g.b[10][3]++;cov_2hckn7e27g.s[135]++;result=_context5.sent;cov_2hckn7e27g.s[136]++;return _context5.abrupt('return',res.status(200).json({status:'success',message:'order cancelled',order:result.rows[0]}));case 19:cov_2hckn7e27g.b[10][4]++;cov_2hckn7e27g.s[137]++;_context5.prev=19;cov_2hckn7e27g.s[138]++;_context5.t0=_context5['catch'](5);cov_2hckn7e27g.s[139]++;return _context5.abrupt('return',res.status(400).json({status:'error',error:'could not cancell order'}));case 22:cov_2hckn7e27g.b[10][5]++;case'end':cov_2hckn7e27g.b[10][6]++;cov_2hckn7e27g.s[140]++;return _context5.stop();}}},_callee5,this,[[5,19]]);})));function cancelOrder(_x9,_x10){cov_2hckn7e27g.f[22]++;cov_2hckn7e27g.s[141]++;return _ref9.apply(this,arguments);}cov_2hckn7e27g.s[142]++;return cancelOrder;}()/**
     * @desc PUT api/v1/parcels/:parcelId/destination
     * @param {object} req
     * @param {object} res
     * @returns {object} changed destination order
     * @memberof Order
     */},{key:'changeOrderDestination',value:function(){cov_2hckn7e27g.f[23]++;var _ref11=(cov_2hckn7e27g.s[143]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee6(req,res){cov_2hckn7e27g.f[24]++;var _req$body2,toAddress,toCity,toCountry,userId,parcelId,findText,updateText,_ref12,rows,values,result;cov_2hckn7e27g.s[144]++;return _regenerator2.default.wrap(function _callee6$(_context6){cov_2hckn7e27g.f[25]++;cov_2hckn7e27g.s[145]++;while(1){cov_2hckn7e27g.s[146]++;switch(_context6.prev=_context6.next){case 0:cov_2hckn7e27g.b[12][0]++;cov_2hckn7e27g.s[147]++;_req$body2=req.body,toAddress=_req$body2.toAddress,toCity=_req$body2.toCity,toCountry=_req$body2.toCountry;cov_2hckn7e27g.s[148]++;userId=parseInt(req.user.userId,0);cov_2hckn7e27g.s[149]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[150]++;findText='SELECT * FROM orders WHERE id=$1';cov_2hckn7e27g.s[151]++;updateText='UPDATE orders SET to_address=$1, to_city=$2, to_country=$3, updated_on=$4 WHERE id=$5 AND userid=$6 returning *';cov_2hckn7e27g.s[152]++;_context6.prev=5;cov_2hckn7e27g.s[153]++;_context6.next=8;cov_2hckn7e27g.s[154]++;return _model2.default.query(findText,[parcelId]);case 8:cov_2hckn7e27g.b[12][1]++;cov_2hckn7e27g.s[155]++;_ref12=_context6.sent;cov_2hckn7e27g.s[156]++;rows=_ref12.rows;cov_2hckn7e27g.s[157]++;if(rows[0]){cov_2hckn7e27g.b[13][0]++;cov_2hckn7e27g.s[158]++;_context6.next=12;cov_2hckn7e27g.s[159]++;break;}else{cov_2hckn7e27g.b[13][1]++;}cov_2hckn7e27g.s[160]++;return _context6.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 12:cov_2hckn7e27g.b[12][2]++;cov_2hckn7e27g.s[161]++;values=[(cov_2hckn7e27g.b[14][0]++,toAddress)||(cov_2hckn7e27g.b[14][1]++,rows[0].to_address),(cov_2hckn7e27g.b[15][0]++,toCity)||(cov_2hckn7e27g.b[15][1]++,rows[0].to_city),(cov_2hckn7e27g.b[16][0]++,toCountry)||(cov_2hckn7e27g.b[16][1]++,rows[0].to_country),(0,_moment2.default)(new Date()),parcelId,userId];cov_2hckn7e27g.s[162]++;_context6.next=15;cov_2hckn7e27g.s[163]++;return _model2.default.query(updateText,values);case 15:cov_2hckn7e27g.b[12][3]++;cov_2hckn7e27g.s[164]++;result=_context6.sent;cov_2hckn7e27g.s[165]++;return _context6.abrupt('return',res.status(200).json({status:'success',message:'order destination changed',order:result.rows[0]}));case 19:cov_2hckn7e27g.b[12][4]++;cov_2hckn7e27g.s[166]++;_context6.prev=19;cov_2hckn7e27g.s[167]++;_context6.t0=_context6['catch'](5);cov_2hckn7e27g.s[168]++;return _context6.abrupt('return',res.status(400).json({status:'error',error:'could not change order destination'}));case 22:cov_2hckn7e27g.b[12][5]++;case'end':cov_2hckn7e27g.b[12][6]++;cov_2hckn7e27g.s[169]++;return _context6.stop();}}},_callee6,this,[[5,19]]);})));function changeOrderDestination(_x11,_x12){cov_2hckn7e27g.f[26]++;cov_2hckn7e27g.s[170]++;return _ref11.apply(this,arguments);}cov_2hckn7e27g.s[171]++;return changeOrderDestination;}()/**
     * @desc PUT api/v1/parcels/:parcelId/status
     * @param {object} req
     * @param {object} res
     * @returns {object} changed status order
     * @memberof Order
     */},{key:'changeOrderStatus',value:function(){cov_2hckn7e27g.f[27]++;var _ref13=(cov_2hckn7e27g.s[172]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee7(req,res){cov_2hckn7e27g.f[28]++;var status,parcelId,findUser,findText,updateText,_ref14,rows,values,result,userInfo,to,subject,user,message;cov_2hckn7e27g.s[173]++;return _regenerator2.default.wrap(function _callee7$(_context7){cov_2hckn7e27g.f[29]++;cov_2hckn7e27g.s[174]++;while(1){cov_2hckn7e27g.s[175]++;switch(_context7.prev=_context7.next){case 0:cov_2hckn7e27g.b[17][0]++;cov_2hckn7e27g.s[176]++;status=req.body.status;cov_2hckn7e27g.s[177]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[178]++;findUser='SELECT * FROM users WHERE id=$1';cov_2hckn7e27g.s[179]++;findText='SELECT * FROM orders WHERE id=$1';cov_2hckn7e27g.s[180]++;updateText='UPDATE orders SET status=$1, updated_on=$2 WHERE id=$3 returning *';cov_2hckn7e27g.s[181]++;_context7.prev=5;cov_2hckn7e27g.s[182]++;_context7.next=8;cov_2hckn7e27g.s[183]++;return _model2.default.query(findText,[parcelId]);case 8:cov_2hckn7e27g.b[17][1]++;cov_2hckn7e27g.s[184]++;_ref14=_context7.sent;cov_2hckn7e27g.s[185]++;rows=_ref14.rows;cov_2hckn7e27g.s[186]++;if(rows[0]){cov_2hckn7e27g.b[18][0]++;cov_2hckn7e27g.s[187]++;_context7.next=12;cov_2hckn7e27g.s[188]++;break;}else{cov_2hckn7e27g.b[18][1]++;}cov_2hckn7e27g.s[189]++;return _context7.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 12:cov_2hckn7e27g.b[17][2]++;cov_2hckn7e27g.s[190]++;values=[(cov_2hckn7e27g.b[19][0]++,status.trim())||(cov_2hckn7e27g.b[19][1]++,rows[0].status),(0,_moment2.default)(new Date()),parcelId];cov_2hckn7e27g.s[191]++;_context7.next=15;cov_2hckn7e27g.s[192]++;return _model2.default.query(updateText,values);case 15:cov_2hckn7e27g.b[17][3]++;cov_2hckn7e27g.s[193]++;result=_context7.sent;cov_2hckn7e27g.s[194]++;_context7.next=18;cov_2hckn7e27g.s[195]++;return _model2.default.query(findUser,[rows[0].userid]);case 18:cov_2hckn7e27g.b[17][4]++;cov_2hckn7e27g.s[196]++;userInfo=_context7.sent;cov_2hckn7e27g.s[197]++;to=userInfo.rows[0].email;cov_2hckn7e27g.s[198]++;subject='Notification on parcel status';cov_2hckn7e27g.s[199]++;user=userInfo.rows[0].firstname;cov_2hckn7e27g.s[200]++;message='\n        <h3 style="text-transform:capitalize">Hello '+user+',</h3><p>Your parcel is '+status+'</p>';cov_2hckn7e27g.s[201]++;(0,_sendMail2.default)(to,subject,message,user,res);cov_2hckn7e27g.s[202]++;return _context7.abrupt('return',res.status(200).json({status:'success',message:'order status changed',order:result.rows[0]}));case 27:cov_2hckn7e27g.b[17][5]++;cov_2hckn7e27g.s[203]++;_context7.prev=27;cov_2hckn7e27g.s[204]++;_context7.t0=_context7['catch'](5);cov_2hckn7e27g.s[205]++;return _context7.abrupt('return',res.status(400).json({status:'error',error:'could not change order status'}));case 30:cov_2hckn7e27g.b[17][6]++;case'end':cov_2hckn7e27g.b[17][7]++;cov_2hckn7e27g.s[206]++;return _context7.stop();}}},_callee7,this,[[5,27]]);})));function changeOrderStatus(_x13,_x14){cov_2hckn7e27g.f[30]++;cov_2hckn7e27g.s[207]++;return _ref13.apply(this,arguments);}cov_2hckn7e27g.s[208]++;return changeOrderStatus;}()/**
     * @desc PUT api/v1/parcels/:parcelId/presentLocation
     * @param {object} req
     * @param {object} res
     * @returns {object} changed present location order
     * @memberof Order
     */},{key:'changeOrderPresentLocation',value:function(){cov_2hckn7e27g.f[31]++;var _ref15=(cov_2hckn7e27g.s[209]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee8(req,res){cov_2hckn7e27g.f[32]++;var _req$body3,fromAddress,fromCity,fromCountry,parcelId,findUser,findText,updateText,_ref16,rows,presentLocation,values,result,userInfo,to,subject,user,message;cov_2hckn7e27g.s[210]++;return _regenerator2.default.wrap(function _callee8$(_context8){cov_2hckn7e27g.f[33]++;cov_2hckn7e27g.s[211]++;while(1){cov_2hckn7e27g.s[212]++;switch(_context8.prev=_context8.next){case 0:cov_2hckn7e27g.b[20][0]++;cov_2hckn7e27g.s[213]++;_req$body3=req.body,fromAddress=_req$body3.fromAddress,fromCity=_req$body3.fromCity,fromCountry=_req$body3.fromCountry;cov_2hckn7e27g.s[214]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[215]++;findUser='SELECT * FROM users WHERE id=$1';cov_2hckn7e27g.s[216]++;findText='SELECT * FROM orders WHERE id=$1';cov_2hckn7e27g.s[217]++;updateText='UPDATE orders SET present_location=$1, updated_on=$2 WHERE id=$3 returning *';cov_2hckn7e27g.s[218]++;_context8.prev=5;cov_2hckn7e27g.s[219]++;_context8.next=8;cov_2hckn7e27g.s[220]++;return _model2.default.query(findText,[parcelId]);case 8:cov_2hckn7e27g.b[20][1]++;cov_2hckn7e27g.s[221]++;_ref16=_context8.sent;cov_2hckn7e27g.s[222]++;rows=_ref16.rows;cov_2hckn7e27g.s[223]++;if(rows[0]){cov_2hckn7e27g.b[21][0]++;cov_2hckn7e27g.s[224]++;_context8.next=12;cov_2hckn7e27g.s[225]++;break;}else{cov_2hckn7e27g.b[21][1]++;}cov_2hckn7e27g.s[226]++;return _context8.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 12:cov_2hckn7e27g.b[20][2]++;cov_2hckn7e27g.s[227]++;presentLocation=fromAddress+' '+fromCity+', '+fromCountry;cov_2hckn7e27g.s[228]++;values=[presentLocation,(0,_moment2.default)(new Date()),parcelId];cov_2hckn7e27g.s[229]++;_context8.next=16;cov_2hckn7e27g.s[230]++;return _model2.default.query(updateText,values);case 16:cov_2hckn7e27g.b[20][3]++;cov_2hckn7e27g.s[231]++;result=_context8.sent;cov_2hckn7e27g.s[232]++;_context8.next=19;cov_2hckn7e27g.s[233]++;return _model2.default.query(findUser,[rows[0].userid]);case 19:cov_2hckn7e27g.b[20][4]++;cov_2hckn7e27g.s[234]++;userInfo=_context8.sent;cov_2hckn7e27g.s[235]++;to=userInfo.rows[0].email;cov_2hckn7e27g.s[236]++;subject='Notification on parcel location';cov_2hckn7e27g.s[237]++;user=userInfo.rows[0].firstname;cov_2hckn7e27g.s[238]++;message='\n      <h3 style="text-transform:capitalize">Hello '+user+',</h3>\n      <p>Your parcel is currently at '+presentLocation+'</p>';cov_2hckn7e27g.s[239]++;(0,_sendMail2.default)(to,subject,message);cov_2hckn7e27g.s[240]++;return _context8.abrupt('return',res.status(200).json({status:'success',message:'order present location changed',order:result.rows[0]}));case 28:cov_2hckn7e27g.b[20][5]++;cov_2hckn7e27g.s[241]++;_context8.prev=28;cov_2hckn7e27g.s[242]++;_context8.t0=_context8['catch'](5);cov_2hckn7e27g.s[243]++;return _context8.abrupt('return',res.status(400).json({status:'error',err:_context8.t0,error:'could not change order present location'}));case 31:cov_2hckn7e27g.b[20][6]++;case'end':cov_2hckn7e27g.b[20][7]++;cov_2hckn7e27g.s[244]++;return _context8.stop();}}},_callee8,this,[[5,28]]);})));function changeOrderPresentLocation(_x15,_x16){cov_2hckn7e27g.f[34]++;cov_2hckn7e27g.s[245]++;return _ref15.apply(this,arguments);}cov_2hckn7e27g.s[246]++;return changeOrderPresentLocation;}()}]);cov_2hckn7e27g.s[247]++;return OrderController;}());cov_2hckn7e27g.s[248]++;exports.default=OrderController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9yZGVyQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJPcmRlckNvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJlcnJvcnMiLCJpc0VtcHR5Iiwic3RhdHVzIiwianNvbiIsImFycmF5IiwiYm9keSIsInBhcmNlbERlc2NyaXB0aW9uIiwicGFyY2VsV2VpZ2h0IiwiZnJvbUFkZHJlc3MiLCJmcm9tQ2l0eSIsImZyb21Db3VudHJ5IiwidG9BZGRyZXNzIiwidG9DaXR5IiwidG9Db3VudHJ5IiwicmVjZWl2ZXIiLCJyZWNlaXZlclBob25lIiwib3JkZXJQcmljZSIsInVzZXJJZCIsInBhcnNlSW50IiwidXNlciIsInByZXNlbnRMb2NhdGlvbiIsInF1ZXJ5VGV4dCIsInZhbHVlcyIsIkRhdGUiLCJkYiIsInF1ZXJ5Iiwicm93cyIsIm1lc3NhZ2UiLCJvcmRlciIsImVycm9yIiwiZXJyIiwicm93Q291bnQiLCJsZW5ndGgiLCJ0b3RhbCIsInBhcmNlbElkIiwicGFyYW1zIiwiZmluZFRleHQiLCJ1cGRhdGVUZXh0IiwiY29uc29sZSIsImxvZyIsImhlYWRlcnMiLCJyZXN1bHQiLCJ0b19hZGRyZXNzIiwidG9fY2l0eSIsInRvX2NvdW50cnkiLCJmaW5kVXNlciIsInRyaW0iLCJ1c2VyaWQiLCJ1c2VySW5mbyIsInRvIiwiZW1haWwiLCJzdWJqZWN0IiwiZmlyc3RuYW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7QUFDQTs7OztBQUVBOzs7Ozs7QUFFQTtJQUNxQkEsZTs7Ozs7Ozs7QUFDbkI7Ozs7Ozs7OzJHQU95QkMsRyxFQUFLQyxHOzs7Ozs7O0FBQ3RCQyxzQixHQUFTLDZCQUFpQkYsR0FBakIsQzs7b0JBQ1ZFLE9BQU9DLE9BQVAsRTs7Ozs7aURBQ0lGLElBQUlHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQkgsT0FBT0ksS0FBUCxFQUFyQixDOzs7NEJBY0xOLElBQUlPLEksRUFWTkMsaUIsYUFB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LEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkQsMEJBQVEsU0FEa0I7QUFFMUJ5QiwyQkFBUyxnQ0FGaUI7QUFHMUJDLHlCQUFPYSxPQUFPZixJQUFQLENBQVksQ0FBWjtBQUhtQixpQkFBckIsQzs7Ozs7a0RBTUEzQixJQUFJRyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDMUJELDBCQUFRLE9BRGtCO0FBRTFCNEIsbUNBRjBCO0FBRzFCRCx5QkFBTztBQUhtQixpQkFBckIsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0JBdlVRaEMsZSIsImZpbGUiOiJPcmRlckNvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiL2hvbWUvb2t3dWt3ZS9EZXNrdG9wL0FuZGVsYS9zZW5kSVQvc2VydmVyL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHsgdmFsaWRhdGlvblJlc3VsdCB9IGZyb20gJ2V4cHJlc3MtdmFsaWRhdG9yL2NoZWNrJztcbmltcG9ydCBzZW5kTm90aWZpY2F0aW9uIGZyb20gJy4uL21haWxlci9zZW5kTWFpbCc7XG5cbmltcG9ydCBkYiBmcm9tICcuLi9tb2RlbCc7XG5cbi8qKiBPcmRlcnMgQ29udHJvbGxlciBDbGFzcyAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3JkZXJDb250cm9sbGVyIHtcbiAgLyoqXG4gICAqIEBkZXNjIFBPU1QgYXBpL3YxL3BhcmNlbHNcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IGNyZWF0ZWQgb3JkZXJcbiAgICogQG1lbWJlcm9mIE9yZGVyXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY3JlYXRlT3JkZXIocmVxLCByZXMpIHtcbiAgICBjb25zdCBlcnJvcnMgPSB2YWxpZGF0aW9uUmVzdWx0KHJlcSk7XG4gICAgaWYgKCFlcnJvcnMuaXNFbXB0eSgpKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oZXJyb3JzLmFycmF5KCkpO1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIHBhcmNlbERlc2NyaXB0aW9uLFxuICAgICAgcGFyY2VsV2VpZ2h0LFxuICAgICAgZnJvbUFkZHJlc3MsXG4gICAgICBmcm9tQ2l0eSxcbiAgICAgIGZyb21Db3VudHJ5LFxuICAgICAgdG9BZGRyZXNzLFxuICAgICAgdG9DaXR5LFxuICAgICAgdG9Db3VudHJ5LFxuICAgICAgcmVjZWl2ZXIsXG4gICAgICByZWNlaXZlclBob25lXG4gICAgfSA9IHJlcS5ib2R5O1xuXG4gICAgY29uc3Qgb3JkZXJQcmljZSA9IHBhcmNlbFdlaWdodCAqIDE1MDtcbiAgICBjb25zdCB1c2VySWQgPSBwYXJzZUludChyZXEudXNlci51c2VySWQsIDApO1xuICAgIGNvbnN0IHByZXNlbnRMb2NhdGlvbiA9IGZyb21BZGRyZXNzO1xuICAgIGNvbnN0IHF1ZXJ5VGV4dCA9IGBJTlNFUlQgSU5UTyBcbiAgICAgIG9yZGVycyhwYXJjZWxfZGVzY3JwdCwgcGFyY2VsX3dndCwgcHJpY2UsIGZyb21fYWRkcmVzcywgZnJvbV9jaXR5LCBmcm9tX2NvdW50cnksIHRvX2FkZHJlc3MsIHRvX2NpdHksIHRvX2NvdW50cnksIHJlY2VpdmVyLCByZWNlaXZlcl9waG9uZSwgcHJlc2VudF9sb2NhdGlvbiwgdXNlcmlkLCBjcmVhdGVkX29uLCB1cGRhdGVkX29uKSBWQUxVRVMgKCQxLCAkMiwgJDMsICQ0LCAkNSwgJDYsICQ3LCAkOCwgJDksICQxMCwgJDExLCAkMTIsICQxMywgJDE0LCAkMTUpIHJldHVybmluZyAqYDtcblxuICAgIGNvbnN0IHZhbHVlcyA9IFtcbiAgICAgIHBhcmNlbERlc2NyaXB0aW9uLFxuICAgICAgcGFyY2VsV2VpZ2h0LFxuICAgICAgb3JkZXJQcmljZSxcbiAgICAgIGZyb21BZGRyZXNzLFxuICAgICAgZnJvbUNpdHksXG4gICAgICBmcm9tQ291bnRyeSxcbiAgICAgIHRvQWRkcmVzcyxcbiAgICAgIHRvQ2l0eSxcbiAgICAgIHRvQ291bnRyeSxcbiAgICAgIHJlY2VpdmVyLFxuICAgICAgcmVjZWl2ZXJQaG9uZSxcbiAgICAgIHByZXNlbnRMb2NhdGlvbixcbiAgICAgIHVzZXJJZCxcbiAgICAgIG1vbWVudChuZXcgRGF0ZSgpKSxcbiAgICAgIG1vbWVudChuZXcgRGF0ZSgpKVxuICAgIF07XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBkYi5xdWVyeShxdWVyeVRleHQsIHZhbHVlcyk7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgbWVzc2FnZTogJ3BhcmNlbCBkZWxpdmVyeSBvcmRlciBjcmVhdGVkIHN1Y2Nlc3N1bGx5JyxcbiAgICAgICAgb3JkZXI6IHJvd3NbMF1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBlcnJvcjogJ29yZGVyIG5vdCBjcmVhdGVkJyxcbiAgICAgICAgZXJyXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGRlc2MgR0VUIGFwaS92MS9wYXJjZWxzXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXFcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlc1xuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBhbGwgb3JkZXJzXG4gICAqIEBtZW1iZXJvZiBPcmRlclxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldEFsbE9yZGVycyhyZXEsIHJlcykge1xuICAgIGNvbnN0IHF1ZXJ5VGV4dCA9ICdTRUxFQ1QgKiBGUk9NIG9yZGVycyc7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcm93cywgcm93Q291bnQgfSA9IGF3YWl0IGRiLnF1ZXJ5KHF1ZXJ5VGV4dCk7XG4gICAgICBpZiAocm93cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICBzdGF0dXM6ICdmYWlsdXJlJyxcbiAgICAgICAgICBtZXNzYWdlOiAnb3JkZXJzIG5vdCBmb3VuZCdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgbWVzc2FnZTogJ2F2YWlsYWJsZSBvcmRlcnMnLFxuICAgICAgICByb3dzLFxuICAgICAgICB0b3RhbDogcm93Q291bnRcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBlcnJvcjogJ2NvdWxkIG5vdCBnZXQgdGhlIG9yZGVycydcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVzYyBHRVQgYXBpL3YxL3BhcmNlbHMvOnBhcmNlbElkXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXFcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlc1xuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBvbmUgb3JkZXJcbiAgICogQG1lbWJlcm9mIE9yZGVyXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0T25lT3JkZXIocmVxLCByZXMpIHtcbiAgICBjb25zdCBwYXJjZWxJZCA9IHBhcnNlSW50KHJlcS5wYXJhbXMucGFyY2VsSWQsIDApO1xuICAgIGNvbnN0IHF1ZXJ5VGV4dCA9ICdTRUxFQ1QgKiBGUk9NIG9yZGVycyBXSEVSRSBpZD0kMSc7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcm93cyB9ID0gYXdhaXQgZGIucXVlcnkocXVlcnlUZXh0LCBbcGFyY2VsSWRdKTtcbiAgICAgIGlmICghcm93c1swXSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgIHN0YXR1czogJ2ZhaWx1cmUnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdvcmRlciBub3QgZm91bmQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIG1lc3NhZ2U6ICd1c2VyIG9yZGVycyBmb3VuZCcsXG4gICAgICAgIG9yZGVyOiByb3dzWzBdXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgZXJyb3I6ICdjb3VsZCBub3QgZ2V0IHVzZXIgb3JkZXJzJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBkZXNjIEdFVCBhcGkvdjEvdXNlcnMvOnVzZXJJZC9wYXJjZWxzXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXFcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlc1xuICAgKiBAcmV0dXJucyB7b2JqZWN0fSB1c2VyIG9yZGVyc1xuICAgKiBAbWVtYmVyb2YgT3JkZXJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRPcmRlcnNieVVzZXIocmVxLCByZXMpIHtcbiAgICBjb25zdCB1c2VySWQgPSBwYXJzZUludChyZXEucGFyYW1zLnVzZXJJZCwgMCk7XG4gICAgY29uc3QgcXVlcnlUZXh0ID0gJ1NFTEVDVCAqIEZST00gb3JkZXJzIFdIRVJFIHVzZXJpZD0kMSc7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcm93cywgcm93Q291bnQgfSA9IGF3YWl0IGRiLnF1ZXJ5KHF1ZXJ5VGV4dCwgW3VzZXJJZF0pO1xuICAgICAgaWYgKHJvd3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgICAgc3RhdHVzOiAnZmFpbHVyZScsXG4gICAgICAgICAgZXJyb3I6ICd1c2VyIG9yZGVycyBub3QgZm91bmQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIG1lc3NhZ2U6ICd1c2VyIG9yZGVycycsXG4gICAgICAgIHJvd3MsXG4gICAgICAgIHRvdGFsOiByb3dDb3VudFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycm9yOiAnY291bGQgbm90IGdldCB0aGUgb3JkZXInXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGRlc2MgUFVUIGFwaS92MS9wYXJjZWxzLzpwYXJjZWxJZC9jYW5jZWxcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IGNhbmNlbGxlZCBvcmRlclxuICAgKiBAbWVtYmVyb2YgT3JkZXJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjYW5jZWxPcmRlcihyZXEsIHJlcykge1xuICAgIGNvbnN0IHVzZXJJZCA9IHBhcnNlSW50KHJlcS51c2VyLnVzZXJJZCwgMCk7XG4gICAgY29uc3QgcGFyY2VsSWQgPSBwYXJzZUludChyZXEucGFyYW1zLnBhcmNlbElkLCAwKTtcbiAgICBjb25zdCBmaW5kVGV4dCA9ICdTRUxFQ1QgKiBGUk9NIG9yZGVycyBXSEVSRSBpZD0kMSBBTkQgdXNlcmlkPSQyJztcbiAgICBjb25zdCB1cGRhdGVUZXh0ID0gJ1VQREFURSBvcmRlcnMgU0VUIGNhbmNlbGxlZD0kMSwgdXBkYXRlZF9vbj0kMiBXSEVSRSBpZD0kMyBBTkQgdXNlcmlkPSQ0IHJldHVybmluZyAqJztcbiAgICBjb25zb2xlLmxvZyhyZXEuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcm93cyB9ID0gYXdhaXQgZGIucXVlcnkoZmluZFRleHQsIFtwYXJjZWxJZCwgdXNlcklkXSk7XG4gICAgICBpZiAoIXJvd3NbMF0pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICBzdGF0dXM6ICdmYWlsdXJlJyxcbiAgICAgICAgICBtZXNzYWdlOiAnb3JkZXIgbm90IGZvdW5kJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IFsndHJ1ZScsIG1vbWVudChuZXcgRGF0ZSgpKSwgcGFyY2VsSWQsIHVzZXJJZF07XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5xdWVyeSh1cGRhdGVUZXh0LCB2YWx1ZXMpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIG1lc3NhZ2U6ICdvcmRlciBjYW5jZWxsZWQnLFxuICAgICAgICBvcmRlcjogcmVzdWx0LnJvd3NbMF1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBlcnJvcjogJ2NvdWxkIG5vdCBjYW5jZWxsIG9yZGVyJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBkZXNjIFBVVCBhcGkvdjEvcGFyY2Vscy86cGFyY2VsSWQvZGVzdGluYXRpb25cbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IGNoYW5nZWQgZGVzdGluYXRpb24gb3JkZXJcbiAgICogQG1lbWJlcm9mIE9yZGVyXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY2hhbmdlT3JkZXJEZXN0aW5hdGlvbihyZXEsIHJlcykge1xuICAgIGNvbnN0IHsgdG9BZGRyZXNzLCB0b0NpdHksIHRvQ291bnRyeSB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgdXNlcklkID0gcGFyc2VJbnQocmVxLnVzZXIudXNlcklkLCAwKTtcbiAgICBjb25zdCBwYXJjZWxJZCA9IHBhcnNlSW50KHJlcS5wYXJhbXMucGFyY2VsSWQsIDApO1xuICAgIGNvbnN0IGZpbmRUZXh0ID0gJ1NFTEVDVCAqIEZST00gb3JkZXJzIFdIRVJFIGlkPSQxJztcbiAgICBjb25zdCB1cGRhdGVUZXh0ID0gJ1VQREFURSBvcmRlcnMgU0VUIHRvX2FkZHJlc3M9JDEsIHRvX2NpdHk9JDIsIHRvX2NvdW50cnk9JDMsIHVwZGF0ZWRfb249JDQgV0hFUkUgaWQ9JDUgQU5EIHVzZXJpZD0kNiByZXR1cm5pbmcgKic7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcm93cyB9ID0gYXdhaXQgZGIucXVlcnkoZmluZFRleHQsIFtwYXJjZWxJZF0pO1xuICAgICAgaWYgKCFyb3dzWzBdKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgICAgc3RhdHVzOiAnZmFpbHVyZScsXG4gICAgICAgICAgbWVzc2FnZTogJ29yZGVyIG5vdCBmb3VuZCdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBbXG4gICAgICAgIHRvQWRkcmVzcyB8fCByb3dzWzBdLnRvX2FkZHJlc3MsXG4gICAgICAgIHRvQ2l0eSB8fCByb3dzWzBdLnRvX2NpdHksXG4gICAgICAgIHRvQ291bnRyeSB8fCByb3dzWzBdLnRvX2NvdW50cnksXG4gICAgICAgIG1vbWVudChuZXcgRGF0ZSgpKSxcbiAgICAgICAgcGFyY2VsSWQsXG4gICAgICAgIHVzZXJJZFxuICAgICAgXTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLnF1ZXJ5KHVwZGF0ZVRleHQsIHZhbHVlcyk7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgbWVzc2FnZTogJ29yZGVyIGRlc3RpbmF0aW9uIGNoYW5nZWQnLFxuICAgICAgICBvcmRlcjogcmVzdWx0LnJvd3NbMF1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBlcnJvcjogJ2NvdWxkIG5vdCBjaGFuZ2Ugb3JkZXIgZGVzdGluYXRpb24nXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGRlc2MgUFVUIGFwaS92MS9wYXJjZWxzLzpwYXJjZWxJZC9zdGF0dXNcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IGNoYW5nZWQgc3RhdHVzIG9yZGVyXG4gICAqIEBtZW1iZXJvZiBPcmRlclxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNoYW5nZU9yZGVyU3RhdHVzKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgeyBzdGF0dXMgfSA9IHJlcS5ib2R5O1xuICAgIGNvbnN0IHBhcmNlbElkID0gcGFyc2VJbnQocmVxLnBhcmFtcy5wYXJjZWxJZCwgMCk7XG4gICAgY29uc3QgZmluZFVzZXIgPSAnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZD0kMSc7XG4gICAgY29uc3QgZmluZFRleHQgPSAnU0VMRUNUICogRlJPTSBvcmRlcnMgV0hFUkUgaWQ9JDEnO1xuICAgIGNvbnN0IHVwZGF0ZVRleHQgPSAnVVBEQVRFIG9yZGVycyBTRVQgc3RhdHVzPSQxLCB1cGRhdGVkX29uPSQyIFdIRVJFIGlkPSQzIHJldHVybmluZyAqJztcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHJvd3MgfSA9IGF3YWl0IGRiLnF1ZXJ5KGZpbmRUZXh0LCBbcGFyY2VsSWRdKTtcbiAgICAgIGlmICghcm93c1swXSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgIHN0YXR1czogJ2ZhaWx1cmUnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdvcmRlciBub3QgZm91bmQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gW3N0YXR1cy50cmltKCkgfHwgcm93c1swXS5zdGF0dXMsIG1vbWVudChuZXcgRGF0ZSgpKSwgcGFyY2VsSWRdO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIucXVlcnkodXBkYXRlVGV4dCwgdmFsdWVzKTtcbiAgICAgIGNvbnN0IHVzZXJJbmZvID0gYXdhaXQgZGIucXVlcnkoZmluZFVzZXIsIFtyb3dzWzBdLnVzZXJpZF0pO1xuICAgICAgY29uc3QgdG8gPSB1c2VySW5mby5yb3dzWzBdLmVtYWlsO1xuICAgICAgY29uc3Qgc3ViamVjdCA9ICdOb3RpZmljYXRpb24gb24gcGFyY2VsIHN0YXR1cyc7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckluZm8ucm93c1swXS5maXJzdG5hbWU7XG4gICAgICBjb25zdCBtZXNzYWdlID0gYFxuICAgICAgICA8aDMgc3R5bGU9XCJ0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplXCI+SGVsbG8gJHt1c2VyfSw8L2gzPjxwPllvdXIgcGFyY2VsIGlzICR7c3RhdHVzfTwvcD5gO1xuXG4gICAgICBzZW5kTm90aWZpY2F0aW9uKHRvLCBzdWJqZWN0LCBtZXNzYWdlLCB1c2VyLCByZXMpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIG1lc3NhZ2U6ICdvcmRlciBzdGF0dXMgY2hhbmdlZCcsXG4gICAgICAgIG9yZGVyOiByZXN1bHQucm93c1swXVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycm9yOiAnY291bGQgbm90IGNoYW5nZSBvcmRlciBzdGF0dXMnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGRlc2MgUFVUIGFwaS92MS9wYXJjZWxzLzpwYXJjZWxJZC9wcmVzZW50TG9jYXRpb25cbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IGNoYW5nZWQgcHJlc2VudCBsb2NhdGlvbiBvcmRlclxuICAgKiBAbWVtYmVyb2YgT3JkZXJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjaGFuZ2VPcmRlclByZXNlbnRMb2NhdGlvbihyZXEsIHJlcykge1xuICAgIGNvbnN0IHsgZnJvbUFkZHJlc3MsIGZyb21DaXR5LCBmcm9tQ291bnRyeSB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgcGFyY2VsSWQgPSBwYXJzZUludChyZXEucGFyYW1zLnBhcmNlbElkLCAwKTtcbiAgICBjb25zdCBmaW5kVXNlciA9ICdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGlkPSQxJztcbiAgICBjb25zdCBmaW5kVGV4dCA9ICdTRUxFQ1QgKiBGUk9NIG9yZGVycyBXSEVSRSBpZD0kMSc7XG4gICAgY29uc3QgdXBkYXRlVGV4dCA9ICdVUERBVEUgb3JkZXJzIFNFVCBwcmVzZW50X2xvY2F0aW9uPSQxLCB1cGRhdGVkX29uPSQyIFdIRVJFIGlkPSQzIHJldHVybmluZyAqJztcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHJvd3MgfSA9IGF3YWl0IGRiLnF1ZXJ5KGZpbmRUZXh0LCBbcGFyY2VsSWRdKTtcbiAgICAgIGlmICghcm93c1swXSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgIHN0YXR1czogJ2ZhaWx1cmUnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdvcmRlciBub3QgZm91bmQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJlc2VudExvY2F0aW9uID0gYCR7ZnJvbUFkZHJlc3N9ICR7ZnJvbUNpdHl9LCAke2Zyb21Db3VudHJ5fWA7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBbcHJlc2VudExvY2F0aW9uLCBtb21lbnQobmV3IERhdGUoKSksIHBhcmNlbElkXTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLnF1ZXJ5KHVwZGF0ZVRleHQsIHZhbHVlcyk7XG4gICAgICBjb25zdCB1c2VySW5mbyA9IGF3YWl0IGRiLnF1ZXJ5KGZpbmRVc2VyLCBbcm93c1swXS51c2VyaWRdKTtcblxuICAgICAgY29uc3QgdG8gPSB1c2VySW5mby5yb3dzWzBdLmVtYWlsO1xuICAgICAgY29uc3Qgc3ViamVjdCA9ICdOb3RpZmljYXRpb24gb24gcGFyY2VsIGxvY2F0aW9uJztcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VySW5mby5yb3dzWzBdLmZpcnN0bmFtZTtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgXG4gICAgICA8aDMgc3R5bGU9XCJ0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplXCI+SGVsbG8gJHt1c2VyfSw8L2gzPlxuICAgICAgPHA+WW91ciBwYXJjZWwgaXMgY3VycmVudGx5IGF0ICR7cHJlc2VudExvY2F0aW9ufTwvcD5gO1xuXG4gICAgICBzZW5kTm90aWZpY2F0aW9uKHRvLCBzdWJqZWN0LCBtZXNzYWdlKTtcblxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIG1lc3NhZ2U6ICdvcmRlciBwcmVzZW50IGxvY2F0aW9uIGNoYW5nZWQnLFxuICAgICAgICBvcmRlcjogcmVzdWx0LnJvd3NbMF1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBlcnIsXG4gICAgICAgIGVycm9yOiAnY291bGQgbm90IGNoYW5nZSBvcmRlciBwcmVzZW50IGxvY2F0aW9uJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iXX0=