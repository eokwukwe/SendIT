'use strict';var cov_2hckn7e27g=function(){var path="/home/okwukwe/Desktop/Andela/sendIT/server/controllers/OrderController.js",hash="d112fc6e682a995e2b038bd9f5df6dc9f1803ff2",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/okwukwe/Desktop/Andela/sendIT/server/controllers/OrderController.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:19},end:{line:7,column:55}},"2":{start:{line:9,column:20},end:{line:9,column:56}},"3":{start:{line:11,column:23},end:{line:11,column:70}},"4":{start:{line:13,column:23},end:{line:13,column:63}},"5":{start:{line:15,column:25},end:{line:15,column:74}},"6":{start:{line:17,column:25},end:{line:17,column:67}},"7":{start:{line:19,column:23},end:{line:19,column:70}},"8":{start:{line:21,column:23},end:{line:21,column:63}},"9":{start:{line:23,column:20},end:{line:23,column:64}},"10":{start:{line:25,column:20},end:{line:25,column:57}},"11":{start:{line:27,column:14},end:{line:27,column:31}},"12":{start:{line:29,column:15},end:{line:29,column:46}},"13":{start:{line:31,column:13},end:{line:31,column:47}},"14":{start:{line:33,column:16},end:{line:33,column:45}},"15":{start:{line:35,column:17},end:{line:35,column:50}},"16":{start:{line:37,column:13},end:{line:37,column:32}},"17":{start:{line:39,column:14},end:{line:39,column:44}},"18":{start:{line:41,column:39},end:{line:41,column:93}},"19":{start:{line:44,column:22},end:{line:662,column:3}},"20":{start:{line:46,column:4},end:{line:46,column:57}},"21":{start:{line:49,column:2},end:{line:660,column:6}},"22":{start:{line:60,column:17},end:{line:110,column:9}},"23":{start:{line:63,column:8},end:{line:109,column:37}},"24":{start:{line:64,column:10},end:{line:108,column:11}},"25":{start:{line:65,column:12},end:{line:107,column:13}},"26":{start:{line:67,column:16},end:{line:67,column:59}},"27":{start:{line:69,column:16},end:{line:72,column:17}},"28":{start:{line:70,column:18},end:{line:70,column:36}},"29":{start:{line:71,column:18},end:{line:71,column:24}},"30":{start:{line:74,column:16},end:{line:74,column:87}},"31":{start:{line:77,column:16},end:{line:77,column:395}},"32":{start:{line:78,column:16},end:{line:78,column:48}},"33":{start:{line:79,column:16},end:{line:79,column:54}},"34":{start:{line:80,column:16},end:{line:80,column:46}},"35":{start:{line:81,column:16},end:{line:81,column:326}},"36":{start:{line:82,column:16},end:{line:82,column:257}},"37":{start:{line:83,column:16},end:{line:83,column:34}},"38":{start:{line:84,column:16},end:{line:84,column:35}},"39":{start:{line:85,column:16},end:{line:85,column:64}},"40":{start:{line:88,column:16},end:{line:88,column:38}},"41":{start:{line:89,column:16},end:{line:89,column:34}},"42":{start:{line:90,column:16},end:{line:94,column:20}},"43":{start:{line:97,column:16},end:{line:97,column:35}},"44":{start:{line:98,column:16},end:{line:98,column:51}},"45":{start:{line:99,column:16},end:{line:102,column:43}},"46":{start:{line:106,column:16},end:{line:106,column:39}},"47":{start:{line:113,column:8},end:{line:113,column:43}},"48":{start:{line:116,column:6},end:{line:116,column:25}},"49":{start:{line:130,column:18},end:{line:179,column:9}},"50":{start:{line:133,column:8},end:{line:178,column:38}},"51":{start:{line:134,column:10},end:{line:177,column:11}},"52":{start:{line:135,column:12},end:{line:176,column:13}},"53":{start:{line:137,column:16},end:{line:137,column:51}},"54":{start:{line:138,column:16},end:{line:138,column:35}},"55":{start:{line:139,column:16},end:{line:139,column:35}},"56":{start:{line:140,column:16},end:{line:140,column:56}},"57":{start:{line:143,column:16},end:{line:143,column:39}},"58":{start:{line:144,column:16},end:{line:144,column:34}},"59":{start:{line:145,column:16},end:{line:145,column:42}},"60":{start:{line:147,column:16},end:{line:150,column:17}},"61":{start:{line:148,column:18},end:{line:148,column:37}},"62":{start:{line:149,column:18},end:{line:149,column:24}},"63":{start:{line:152,column:16},end:{line:155,column:20}},"64":{start:{line:158,column:16},end:{line:163,column:20}},"65":{start:{line:166,column:16},end:{line:166,column:36}},"66":{start:{line:167,column:16},end:{line:167,column:53}},"67":{start:{line:168,column:16},end:{line:171,column:20}},"68":{start:{line:175,column:16},end:{line:175,column:40}},"69":{start:{line:182,column:8},end:{line:182,column:44}},"70":{start:{line:185,column:6},end:{line:185,column:26}},"71":{start:{line:199,column:18},end:{line:247,column:9}},"72":{start:{line:202,column:8},end:{line:246,column:38}},"73":{start:{line:203,column:10},end:{line:245,column:11}},"74":{start:{line:204,column:12},end:{line:244,column:13}},"75":{start:{line:206,column:16},end:{line:206,column:60}},"76":{start:{line:207,column:16},end:{line:207,column:63}},"77":{start:{line:208,column:16},end:{line:208,column:35}},"78":{start:{line:209,column:16},end:{line:209,column:35}},"79":{start:{line:210,column:16},end:{line:210,column:68}},"80":{start:{line:213,column:16},end:{line:213,column:39}},"81":{start:{line:214,column:16},end:{line:214,column:34}},"82":{start:{line:216,column:16},end:{line:219,column:17}},"83":{start:{line:217,column:18},end:{line:217,column:37}},"84":{start:{line:218,column:18},end:{line:218,column:24}},"85":{start:{line:221,column:16},end:{line:224,column:20}},"86":{start:{line:227,column:16},end:{line:231,column:20}},"87":{start:{line:234,column:16},end:{line:234,column:36}},"88":{start:{line:235,column:16},end:{line:235,column:53}},"89":{start:{line:236,column:16},end:{line:239,column:20}},"90":{start:{line:243,column:16},end:{line:243,column:40}},"91":{start:{line:250,column:8},end:{line:250,column:44}},"92":{start:{line:253,column:6},end:{line:253,column:25}},"93":{start:{line:267,column:18},end:{line:317,column:9}},"94":{start:{line:270,column:8},end:{line:316,column:38}},"95":{start:{line:271,column:10},end:{line:315,column:11}},"96":{start:{line:272,column:12},end:{line:314,column:13}},"97":{start:{line:274,column:16},end:{line:274,column:56}},"98":{start:{line:275,column:16},end:{line:275,column:67}},"99":{start:{line:276,column:16},end:{line:276,column:35}},"100":{start:{line:277,column:16},end:{line:277,column:35}},"101":{start:{line:278,column:16},end:{line:278,column:66}},"102":{start:{line:281,column:16},end:{line:281,column:39}},"103":{start:{line:282,column:16},end:{line:282,column:34}},"104":{start:{line:283,column:16},end:{line:283,column:42}},"105":{start:{line:285,column:16},end:{line:288,column:17}},"106":{start:{line:286,column:18},end:{line:286,column:38}},"107":{start:{line:287,column:18},end:{line:287,column:24}},"108":{start:{line:290,column:16},end:{line:293,column:20}},"109":{start:{line:296,column:16},end:{line:301,column:20}},"110":{start:{line:304,column:16},end:{line:304,column:36}},"111":{start:{line:305,column:16},end:{line:305,column:53}},"112":{start:{line:306,column:16},end:{line:309,column:20}},"113":{start:{line:313,column:16},end:{line:313,column:40}},"114":{start:{line:320,column:8},end:{line:320,column:44}},"115":{start:{line:323,column:6},end:{line:323,column:29}},"116":{start:{line:337,column:18},end:{line:395,column:9}},"117":{start:{line:340,column:8},end:{line:394,column:38}},"118":{start:{line:341,column:10},end:{line:393,column:11}},"119":{start:{line:342,column:12},end:{line:392,column:13}},"120":{start:{line:344,column:16},end:{line:344,column:54}},"121":{start:{line:345,column:16},end:{line:345,column:60}},"122":{start:{line:346,column:16},end:{line:346,column:76}},"123":{start:{line:347,column:16},end:{line:347,column:115}},"124":{start:{line:349,column:16},end:{line:349,column:59}},"125":{start:{line:350,column:16},end:{line:350,column:35}},"126":{start:{line:351,column:16},end:{line:351,column:35}},"127":{start:{line:352,column:16},end:{line:352,column:75}},"128":{start:{line:355,column:16},end:{line:355,column:40}},"129":{start:{line:356,column:16},end:{line:356,column:35}},"130":{start:{line:358,column:16},end:{line:361,column:17}},"131":{start:{line:359,column:18},end:{line:359,column:38}},"132":{start:{line:360,column:18},end:{line:360,column:24}},"133":{start:{line:363,column:16},end:{line:366,column:20}},"134":{start:{line:369,column:16},end:{line:369,column:87}},"135":{start:{line:370,column:16},end:{line:370,column:36}},"136":{start:{line:371,column:16},end:{line:371,column:65}},"137":{start:{line:374,column:16},end:{line:374,column:40}},"138":{start:{line:375,column:16},end:{line:379,column:20}},"139":{start:{line:382,column:16},end:{line:382,column:36}},"140":{start:{line:383,column:16},end:{line:383,column:53}},"141":{start:{line:384,column:16},end:{line:387,column:20}},"142":{start:{line:391,column:16},end:{line:391,column:40}},"143":{start:{line:398,column:8},end:{line:398,column:44}},"144":{start:{line:401,column:6},end:{line:401,column:25}},"145":{start:{line:415,column:19},end:{line:472,column:9}},"146":{start:{line:418,column:8},end:{line:471,column:38}},"147":{start:{line:419,column:10},end:{line:470,column:11}},"148":{start:{line:420,column:12},end:{line:469,column:13}},"149":{start:{line:422,column:16},end:{line:422,column:134}},"150":{start:{line:423,column:16},end:{line:423,column:54}},"151":{start:{line:424,column:16},end:{line:424,column:60}},"152":{start:{line:425,column:16},end:{line:425,column:62}},"153":{start:{line:426,column:16},end:{line:426,column:143}},"154":{start:{line:427,column:16},end:{line:427,column:35}},"155":{start:{line:428,column:16},end:{line:428,column:35}},"156":{start:{line:429,column:16},end:{line:429,column:67}},"157":{start:{line:432,column:16},end:{line:432,column:40}},"158":{start:{line:433,column:16},end:{line:433,column:35}},"159":{start:{line:435,column:16},end:{line:438,column:17}},"160":{start:{line:436,column:18},end:{line:436,column:38}},"161":{start:{line:437,column:18},end:{line:437,column:24}},"162":{start:{line:440,column:16},end:{line:443,column:20}},"163":{start:{line:446,column:16},end:{line:446,column:172}},"164":{start:{line:447,column:16},end:{line:447,column:36}},"165":{start:{line:448,column:16},end:{line:448,column:65}},"166":{start:{line:451,column:16},end:{line:451,column:40}},"167":{start:{line:452,column:16},end:{line:456,column:20}},"168":{start:{line:459,column:16},end:{line:459,column:36}},"169":{start:{line:460,column:16},end:{line:460,column:53}},"170":{start:{line:461,column:16},end:{line:464,column:20}},"171":{start:{line:468,column:16},end:{line:468,column:40}},"172":{start:{line:475,column:8},end:{line:475,column:45}},"173":{start:{line:478,column:6},end:{line:478,column:36}},"174":{start:{line:492,column:19},end:{line:561,column:9}},"175":{start:{line:495,column:8},end:{line:560,column:38}},"176":{start:{line:496,column:10},end:{line:559,column:11}},"177":{start:{line:497,column:12},end:{line:558,column:13}},"178":{start:{line:499,column:16},end:{line:499,column:41}},"179":{start:{line:500,column:16},end:{line:500,column:60}},"180":{start:{line:501,column:16},end:{line:501,column:61}},"181":{start:{line:502,column:16},end:{line:502,column:62}},"182":{start:{line:503,column:16},end:{line:503,column:98}},"183":{start:{line:504,column:16},end:{line:504,column:35}},"184":{start:{line:505,column:16},end:{line:505,column:35}},"185":{start:{line:506,column:16},end:{line:506,column:67}},"186":{start:{line:509,column:16},end:{line:509,column:40}},"187":{start:{line:510,column:16},end:{line:510,column:35}},"188":{start:{line:512,column:16},end:{line:515,column:17}},"189":{start:{line:513,column:18},end:{line:513,column:38}},"190":{start:{line:514,column:18},end:{line:514,column:24}},"191":{start:{line:517,column:16},end:{line:520,column:20}},"192":{start:{line:523,column:16},end:{line:523,column:104}},"193":{start:{line:524,column:16},end:{line:524,column:36}},"194":{start:{line:525,column:16},end:{line:525,column:65}},"195":{start:{line:528,column:16},end:{line:528,column:40}},"196":{start:{line:529,column:16},end:{line:529,column:36}},"197":{start:{line:530,column:16},end:{line:530,column:73}},"198":{start:{line:533,column:16},end:{line:533,column:42}},"199":{start:{line:534,column:16},end:{line:534,column:44}},"200":{start:{line:535,column:16},end:{line:535,column:58}},"201":{start:{line:536,column:16},end:{line:536,column:50}},"202":{start:{line:537,column:16},end:{line:537,column:137}},"203":{start:{line:540,column:16},end:{line:540,column:73}},"204":{start:{line:541,column:16},end:{line:545,column:20}},"205":{start:{line:548,column:16},end:{line:548,column:36}},"206":{start:{line:549,column:16},end:{line:549,column:53}},"207":{start:{line:550,column:16},end:{line:553,column:20}},"208":{start:{line:557,column:16},end:{line:557,column:40}},"209":{start:{line:564,column:8},end:{line:564,column:45}},"210":{start:{line:567,column:6},end:{line:567,column:31}},"211":{start:{line:581,column:19},end:{line:652,column:9}},"212":{start:{line:584,column:8},end:{line:651,column:38}},"213":{start:{line:585,column:10},end:{line:650,column:11}},"214":{start:{line:586,column:12},end:{line:649,column:13}},"215":{start:{line:588,column:16},end:{line:588,column:146}},"216":{start:{line:589,column:16},end:{line:589,column:60}},"217":{start:{line:590,column:16},end:{line:590,column:61}},"218":{start:{line:591,column:16},end:{line:591,column:62}},"219":{start:{line:592,column:16},end:{line:592,column:108}},"220":{start:{line:593,column:16},end:{line:593,column:35}},"221":{start:{line:594,column:16},end:{line:594,column:35}},"222":{start:{line:595,column:16},end:{line:595,column:67}},"223":{start:{line:598,column:16},end:{line:598,column:40}},"224":{start:{line:599,column:16},end:{line:599,column:35}},"225":{start:{line:601,column:16},end:{line:604,column:17}},"226":{start:{line:602,column:18},end:{line:602,column:38}},"227":{start:{line:603,column:18},end:{line:603,column:24}},"228":{start:{line:606,column:16},end:{line:609,column:20}},"229":{start:{line:612,column:16},end:{line:612,column:84}},"230":{start:{line:613,column:16},end:{line:613,column:88}},"231":{start:{line:614,column:16},end:{line:614,column:36}},"232":{start:{line:615,column:16},end:{line:615,column:65}},"233":{start:{line:618,column:16},end:{line:618,column:40}},"234":{start:{line:619,column:16},end:{line:619,column:36}},"235":{start:{line:620,column:16},end:{line:620,column:73}},"236":{start:{line:623,column:16},end:{line:623,column:42}},"237":{start:{line:624,column:16},end:{line:624,column:44}},"238":{start:{line:625,column:16},end:{line:625,column:60}},"239":{start:{line:626,column:16},end:{line:626,column:50}},"240":{start:{line:627,column:16},end:{line:627,column:165}},"241":{start:{line:630,column:16},end:{line:630,column:62}},"242":{start:{line:632,column:16},end:{line:636,column:20}},"243":{start:{line:639,column:16},end:{line:639,column:36}},"244":{start:{line:640,column:16},end:{line:640,column:53}},"245":{start:{line:641,column:16},end:{line:644,column:73}},"246":{start:{line:648,column:16},end:{line:648,column:40}},"247":{start:{line:655,column:8},end:{line:655,column:45}},"248":{start:{line:658,column:6},end:{line:658,column:40}},"249":{start:{line:661,column:2},end:{line:661,column:25}},"250":{start:{line:664,column:0},end:{line:664,column:34}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:41,column:9},end:{line:41,column:31}},loc:{start:{line:41,column:37},end:{line:41,column:95}},line:41},"1":{name:"(anonymous_1)",decl:{start:{line:44,column:22},end:{line:44,column:23}},loc:{start:{line:44,column:34},end:{line:662,column:1}},line:44},"2":{name:"OrderController",decl:{start:{line:45,column:11},end:{line:45,column:26}},loc:{start:{line:45,column:29},end:{line:47,column:3}},line:45},"3":{name:"(anonymous_3)",decl:{start:{line:59,column:11},end:{line:59,column:12}},loc:{start:{line:59,column:23},end:{line:117,column:5}},line:59},"4":{name:"_callee",decl:{start:{line:60,column:99},end:{line:60,column:106}},loc:{start:{line:60,column:117},end:{line:110,column:7}},line:60},"5":{name:"_callee$",decl:{start:{line:63,column:51},end:{line:63,column:59}},loc:{start:{line:63,column:70},end:{line:109,column:9}},line:63},"6":{name:"createOrder",decl:{start:{line:112,column:15},end:{line:112,column:26}},loc:{start:{line:112,column:36},end:{line:114,column:7}},line:112},"7":{name:"(anonymous_7)",decl:{start:{line:129,column:11},end:{line:129,column:12}},loc:{start:{line:129,column:23},end:{line:186,column:5}},line:129},"8":{name:"_callee2",decl:{start:{line:130,column:100},end:{line:130,column:108}},loc:{start:{line:130,column:119},end:{line:179,column:7}},line:130},"9":{name:"_callee2$",decl:{start:{line:133,column:51},end:{line:133,column:60}},loc:{start:{line:133,column:72},end:{line:178,column:9}},line:133},"10":{name:"getAllOrders",decl:{start:{line:181,column:15},end:{line:181,column:27}},loc:{start:{line:181,column:38},end:{line:183,column:7}},line:181},"11":{name:"(anonymous_11)",decl:{start:{line:198,column:11},end:{line:198,column:12}},loc:{start:{line:198,column:23},end:{line:254,column:5}},line:198},"12":{name:"_callee3",decl:{start:{line:199,column:100},end:{line:199,column:108}},loc:{start:{line:199,column:119},end:{line:247,column:7}},line:199},"13":{name:"_callee3$",decl:{start:{line:202,column:51},end:{line:202,column:60}},loc:{start:{line:202,column:72},end:{line:246,column:9}},line:202},"14":{name:"getOneOrder",decl:{start:{line:249,column:15},end:{line:249,column:26}},loc:{start:{line:249,column:37},end:{line:251,column:7}},line:249},"15":{name:"(anonymous_15)",decl:{start:{line:266,column:11},end:{line:266,column:12}},loc:{start:{line:266,column:23},end:{line:324,column:5}},line:266},"16":{name:"_callee4",decl:{start:{line:267,column:100},end:{line:267,column:108}},loc:{start:{line:267,column:119},end:{line:317,column:7}},line:267},"17":{name:"_callee4$",decl:{start:{line:270,column:51},end:{line:270,column:60}},loc:{start:{line:270,column:72},end:{line:316,column:9}},line:270},"18":{name:"getOrdersbyUser",decl:{start:{line:319,column:15},end:{line:319,column:30}},loc:{start:{line:319,column:41},end:{line:321,column:7}},line:319},"19":{name:"(anonymous_19)",decl:{start:{line:336,column:11},end:{line:336,column:12}},loc:{start:{line:336,column:23},end:{line:402,column:5}},line:336},"20":{name:"_callee5",decl:{start:{line:337,column:100},end:{line:337,column:108}},loc:{start:{line:337,column:119},end:{line:395,column:7}},line:337},"21":{name:"_callee5$",decl:{start:{line:340,column:51},end:{line:340,column:60}},loc:{start:{line:340,column:72},end:{line:394,column:9}},line:340},"22":{name:"cancelOrder",decl:{start:{line:397,column:15},end:{line:397,column:26}},loc:{start:{line:397,column:38},end:{line:399,column:7}},line:397},"23":{name:"(anonymous_23)",decl:{start:{line:414,column:11},end:{line:414,column:12}},loc:{start:{line:414,column:23},end:{line:479,column:5}},line:414},"24":{name:"_callee6",decl:{start:{line:415,column:101},end:{line:415,column:109}},loc:{start:{line:415,column:120},end:{line:472,column:7}},line:415},"25":{name:"_callee6$",decl:{start:{line:418,column:51},end:{line:418,column:60}},loc:{start:{line:418,column:72},end:{line:471,column:9}},line:418},"26":{name:"changeOrderDestination",decl:{start:{line:474,column:15},end:{line:474,column:37}},loc:{start:{line:474,column:50},end:{line:476,column:7}},line:474},"27":{name:"(anonymous_27)",decl:{start:{line:491,column:11},end:{line:491,column:12}},loc:{start:{line:491,column:23},end:{line:568,column:5}},line:491},"28":{name:"_callee7",decl:{start:{line:492,column:101},end:{line:492,column:109}},loc:{start:{line:492,column:120},end:{line:561,column:7}},line:492},"29":{name:"_callee7$",decl:{start:{line:495,column:51},end:{line:495,column:60}},loc:{start:{line:495,column:72},end:{line:560,column:9}},line:495},"30":{name:"changeOrderStatus",decl:{start:{line:563,column:15},end:{line:563,column:32}},loc:{start:{line:563,column:45},end:{line:565,column:7}},line:563},"31":{name:"(anonymous_31)",decl:{start:{line:580,column:11},end:{line:580,column:12}},loc:{start:{line:580,column:23},end:{line:659,column:5}},line:580},"32":{name:"_callee8",decl:{start:{line:581,column:101},end:{line:581,column:109}},loc:{start:{line:581,column:120},end:{line:652,column:7}},line:581},"33":{name:"_callee8$",decl:{start:{line:584,column:51},end:{line:584,column:60}},loc:{start:{line:584,column:72},end:{line:651,column:9}},line:584},"34":{name:"changeOrderPresentLocation",decl:{start:{line:654,column:15},end:{line:654,column:41}},loc:{start:{line:654,column:54},end:{line:656,column:7}},line:654}},branchMap:{"0":{loc:{start:{line:41,column:46},end:{line:41,column:92}},type:"cond-expr",locations:[{start:{line:41,column:70},end:{line:41,column:73}},{start:{line:41,column:76},end:{line:41,column:92}}],line:41},"1":{loc:{start:{line:41,column:46},end:{line:41,column:67}},type:"binary-expr",locations:[{start:{line:41,column:46},end:{line:41,column:49}},{start:{line:41,column:53},end:{line:41,column:67}}],line:41},"2":{loc:{start:{line:65,column:12},end:{line:107,column:13}},type:"switch",locations:[{start:{line:66,column:14},end:{line:74,column:87}},{start:{line:76,column:14},end:{line:85,column:64}},{start:{line:87,column:14},end:{line:94,column:20}},{start:{line:96,column:14},end:{line:102,column:43}},{start:{line:104,column:14},end:{line:104,column:22}},{start:{line:105,column:14},end:{line:106,column:39}}],line:65},"3":{loc:{start:{line:69,column:16},end:{line:72,column:17}},type:"if",locations:[{start:{line:69,column:16},end:{line:72,column:17}},{start:{line:69,column:16},end:{line:72,column:17}}],line:69},"4":{loc:{start:{line:135,column:12},end:{line:176,column:13}},type:"switch",locations:[{start:{line:136,column:14},end:{line:140,column:56}},{start:{line:142,column:14},end:{line:155,column:20}},{start:{line:157,column:14},end:{line:163,column:20}},{start:{line:165,column:14},end:{line:171,column:20}},{start:{line:173,column:14},end:{line:173,column:22}},{start:{line:174,column:14},end:{line:175,column:40}}],line:135},"5":{loc:{start:{line:147,column:16},end:{line:150,column:17}},type:"if",locations:[{start:{line:147,column:16},end:{line:150,column:17}},{start:{line:147,column:16},end:{line:150,column:17}}],line:147},"6":{loc:{start:{line:204,column:12},end:{line:244,column:13}},type:"switch",locations:[{start:{line:205,column:14},end:{line:210,column:68}},{start:{line:212,column:14},end:{line:224,column:20}},{start:{line:226,column:14},end:{line:231,column:20}},{start:{line:233,column:14},end:{line:239,column:20}},{start:{line:241,column:14},end:{line:241,column:22}},{start:{line:242,column:14},end:{line:243,column:40}}],line:204},"7":{loc:{start:{line:216,column:16},end:{line:219,column:17}},type:"if",locations:[{start:{line:216,column:16},end:{line:219,column:17}},{start:{line:216,column:16},end:{line:219,column:17}}],line:216},"8":{loc:{start:{line:272,column:12},end:{line:314,column:13}},type:"switch",locations:[{start:{line:273,column:14},end:{line:278,column:66}},{start:{line:280,column:14},end:{line:293,column:20}},{start:{line:295,column:14},end:{line:301,column:20}},{start:{line:303,column:14},end:{line:309,column:20}},{start:{line:311,column:14},end:{line:311,column:22}},{start:{line:312,column:14},end:{line:313,column:40}}],line:272},"9":{loc:{start:{line:285,column:16},end:{line:288,column:17}},type:"if",locations:[{start:{line:285,column:16},end:{line:288,column:17}},{start:{line:285,column:16},end:{line:288,column:17}}],line:285},"10":{loc:{start:{line:342,column:12},end:{line:392,column:13}},type:"switch",locations:[{start:{line:343,column:14},end:{line:352,column:75}},{start:{line:354,column:14},end:{line:366,column:20}},{start:{line:368,column:14},end:{line:371,column:65}},{start:{line:373,column:14},end:{line:379,column:20}},{start:{line:381,column:14},end:{line:387,column:20}},{start:{line:389,column:14},end:{line:389,column:22}},{start:{line:390,column:14},end:{line:391,column:40}}],line:342},"11":{loc:{start:{line:358,column:16},end:{line:361,column:17}},type:"if",locations:[{start:{line:358,column:16},end:{line:361,column:17}},{start:{line:358,column:16},end:{line:361,column:17}}],line:358},"12":{loc:{start:{line:420,column:12},end:{line:469,column:13}},type:"switch",locations:[{start:{line:421,column:14},end:{line:429,column:67}},{start:{line:431,column:14},end:{line:443,column:20}},{start:{line:445,column:14},end:{line:448,column:65}},{start:{line:450,column:14},end:{line:456,column:20}},{start:{line:458,column:14},end:{line:464,column:20}},{start:{line:466,column:14},end:{line:466,column:22}},{start:{line:467,column:14},end:{line:468,column:40}}],line:420},"13":{loc:{start:{line:435,column:16},end:{line:438,column:17}},type:"if",locations:[{start:{line:435,column:16},end:{line:438,column:17}},{start:{line:435,column:16},end:{line:438,column:17}}],line:435},"14":{loc:{start:{line:446,column:26},end:{line:446,column:57}},type:"binary-expr",locations:[{start:{line:446,column:26},end:{line:446,column:35}},{start:{line:446,column:39},end:{line:446,column:57}}],line:446},"15":{loc:{start:{line:446,column:59},end:{line:446,column:84}},type:"binary-expr",locations:[{start:{line:446,column:59},end:{line:446,column:65}},{start:{line:446,column:69},end:{line:446,column:84}}],line:446},"16":{loc:{start:{line:446,column:86},end:{line:446,column:117}},type:"binary-expr",locations:[{start:{line:446,column:86},end:{line:446,column:95}},{start:{line:446,column:99},end:{line:446,column:117}}],line:446},"17":{loc:{start:{line:497,column:12},end:{line:558,column:13}},type:"switch",locations:[{start:{line:498,column:14},end:{line:506,column:67}},{start:{line:508,column:14},end:{line:520,column:20}},{start:{line:522,column:14},end:{line:525,column:65}},{start:{line:527,column:14},end:{line:530,column:73}},{start:{line:532,column:14},end:{line:545,column:20}},{start:{line:547,column:14},end:{line:553,column:20}},{start:{line:555,column:14},end:{line:555,column:22}},{start:{line:556,column:14},end:{line:557,column:40}}],line:497},"18":{loc:{start:{line:512,column:16},end:{line:515,column:17}},type:"if",locations:[{start:{line:512,column:16},end:{line:515,column:17}},{start:{line:512,column:16},end:{line:515,column:17}}],line:512},"19":{loc:{start:{line:523,column:26},end:{line:523,column:57}},type:"binary-expr",locations:[{start:{line:523,column:26},end:{line:523,column:39}},{start:{line:523,column:43},end:{line:523,column:57}}],line:523},"20":{loc:{start:{line:586,column:12},end:{line:649,column:13}},type:"switch",locations:[{start:{line:587,column:14},end:{line:595,column:67}},{start:{line:597,column:14},end:{line:609,column:20}},{start:{line:611,column:14},end:{line:615,column:65}},{start:{line:617,column:14},end:{line:620,column:73}},{start:{line:622,column:14},end:{line:636,column:20}},{start:{line:638,column:14},end:{line:644,column:73}},{start:{line:646,column:14},end:{line:646,column:22}},{start:{line:647,column:14},end:{line:648,column:40}}],line:586},"21":{loc:{start:{line:601,column:16},end:{line:604,column:17}},type:"if",locations:[{start:{line:601,column:16},end:{line:604,column:17}},{start:{line:601,column:16},end:{line:604,column:17}}],line:601}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0},b:{"0":[0,0],"1":[0,0],"2":[0,0,0,0,0,0],"3":[0,0],"4":[0,0,0,0,0,0],"5":[0,0],"6":[0,0,0,0,0,0],"7":[0,0],"8":[0,0,0,0,0,0],"9":[0,0],"10":[0,0,0,0,0,0,0],"11":[0,0],"12":[0,0,0,0,0,0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0,0,0,0,0,0,0],"18":[0,0],"19":[0,0],"20":[0,0,0,0,0,0,0,0],"21":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_2hckn7e27g.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _regenerator=(cov_2hckn7e27g.s[1]++,require('babel-runtime/regenerator'));var _regenerator2=(cov_2hckn7e27g.s[2]++,_interopRequireDefault(_regenerator));var _defineProperty2=(cov_2hckn7e27g.s[3]++,require('babel-runtime/helpers/defineProperty'));var _defineProperty3=(cov_2hckn7e27g.s[4]++,_interopRequireDefault(_defineProperty2));var _asyncToGenerator2=(cov_2hckn7e27g.s[5]++,require('babel-runtime/helpers/asyncToGenerator'));var _asyncToGenerator3=(cov_2hckn7e27g.s[6]++,_interopRequireDefault(_asyncToGenerator2));var _classCallCheck2=(cov_2hckn7e27g.s[7]++,require('babel-runtime/helpers/classCallCheck'));var _classCallCheck3=(cov_2hckn7e27g.s[8]++,_interopRequireDefault(_classCallCheck2));var _createClass2=(cov_2hckn7e27g.s[9]++,require('babel-runtime/helpers/createClass'));var _createClass3=(cov_2hckn7e27g.s[10]++,_interopRequireDefault(_createClass2));var _moment=(cov_2hckn7e27g.s[11]++,require('moment'));var _moment2=(cov_2hckn7e27g.s[12]++,_interopRequireDefault(_moment));var _check=(cov_2hckn7e27g.s[13]++,require('express-validator/check'));var _sendMail=(cov_2hckn7e27g.s[14]++,require('../mailer/sendMail'));var _sendMail2=(cov_2hckn7e27g.s[15]++,_interopRequireDefault(_sendMail));var _model=(cov_2hckn7e27g.s[16]++,require('../model'));var _model2=(cov_2hckn7e27g.s[17]++,_interopRequireDefault(_model));function _interopRequireDefault(obj){cov_2hckn7e27g.f[0]++;cov_2hckn7e27g.s[18]++;return(cov_2hckn7e27g.b[1][0]++,obj)&&(cov_2hckn7e27g.b[1][1]++,obj.__esModule)?(cov_2hckn7e27g.b[0][0]++,obj):(cov_2hckn7e27g.b[0][1]++,{default:obj});}/** Orders Controller Class */var OrderController=(cov_2hckn7e27g.s[19]++,function(){cov_2hckn7e27g.f[1]++;function OrderController(){cov_2hckn7e27g.f[2]++;cov_2hckn7e27g.s[20]++;(0,_classCallCheck3.default)(this,OrderController);}cov_2hckn7e27g.s[21]++;(0,_createClass3.default)(OrderController,null,[{key:'createOrder',/**
     * @desc POST api/v1/parcels
     * @param {object} req
     * @param {object} res
     * @returns {object} created order
     * @memberof Order
     */value:function(){cov_2hckn7e27g.f[3]++;var _ref=(cov_2hckn7e27g.s[22]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee(req,res){cov_2hckn7e27g.f[4]++;var errors,_req$body,parcelDescription,parcelWeight,fromAddress,fromCity,fromCountry,toAddress,toCity,toCountry,receiver,receiverPhone,orderPrice,userId,presentLocation,queryText,values,_ref2,rows;cov_2hckn7e27g.s[23]++;return _regenerator2.default.wrap(function _callee$(_context){cov_2hckn7e27g.f[5]++;cov_2hckn7e27g.s[24]++;while(1){cov_2hckn7e27g.s[25]++;switch(_context.prev=_context.next){case 0:cov_2hckn7e27g.b[2][0]++;cov_2hckn7e27g.s[26]++;errors=(0,_check.validationResult)(req);cov_2hckn7e27g.s[27]++;if(errors.isEmpty()){cov_2hckn7e27g.b[3][0]++;cov_2hckn7e27g.s[28]++;_context.next=3;cov_2hckn7e27g.s[29]++;break;}else{cov_2hckn7e27g.b[3][1]++;}cov_2hckn7e27g.s[30]++;return _context.abrupt('return',res.status(400).json(errors.array()));case 3:cov_2hckn7e27g.b[2][1]++;cov_2hckn7e27g.s[31]++;_req$body=req.body,parcelDescription=_req$body.parcelDescription,parcelWeight=_req$body.parcelWeight,fromAddress=_req$body.fromAddress,fromCity=_req$body.fromCity,fromCountry=_req$body.fromCountry,toAddress=_req$body.toAddress,toCity=_req$body.toCity,toCountry=_req$body.toCountry,receiver=_req$body.receiver,receiverPhone=_req$body.receiverPhone;cov_2hckn7e27g.s[32]++;orderPrice=parcelWeight*150;cov_2hckn7e27g.s[33]++;userId=parseInt(req.user.userId,0);cov_2hckn7e27g.s[34]++;presentLocation=fromAddress;cov_2hckn7e27g.s[35]++;queryText='INSERT INTO \n      orders(parcel_descrpt, parcel_wgt, price, from_address, from_city, from_country, to_address, to_city, to_country, receiver, receiver_phone, present_location, userid, created_on, updated_on) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) returning *';cov_2hckn7e27g.s[36]++;values=[parcelDescription,parcelWeight,orderPrice,fromAddress,fromCity,fromCountry,toAddress,toCity,toCountry,receiver,receiverPhone,presentLocation,userId,(0,_moment2.default)(new Date()),(0,_moment2.default)(new Date())];cov_2hckn7e27g.s[37]++;_context.prev=9;cov_2hckn7e27g.s[38]++;_context.next=12;cov_2hckn7e27g.s[39]++;return _model2.default.query(queryText,values);case 12:cov_2hckn7e27g.b[2][2]++;cov_2hckn7e27g.s[40]++;_ref2=_context.sent;cov_2hckn7e27g.s[41]++;rows=_ref2.rows;cov_2hckn7e27g.s[42]++;return _context.abrupt('return',res.status(201).json({status:'success',message:'parcel delivery order created successully',order:rows[0]}));case 17:cov_2hckn7e27g.b[2][3]++;cov_2hckn7e27g.s[43]++;_context.prev=17;cov_2hckn7e27g.s[44]++;_context.t0=_context['catch'](9);cov_2hckn7e27g.s[45]++;return _context.abrupt('return',res.status(400).json((0,_defineProperty3.default)({status:'error',error:'order not created'},'error',_context.t0)));case 20:cov_2hckn7e27g.b[2][4]++;case'end':cov_2hckn7e27g.b[2][5]++;cov_2hckn7e27g.s[46]++;return _context.stop();}}},_callee,this,[[9,17]]);})));function createOrder(_x,_x2){cov_2hckn7e27g.f[6]++;cov_2hckn7e27g.s[47]++;return _ref.apply(this,arguments);}cov_2hckn7e27g.s[48]++;return createOrder;}()/**
     * @desc GET api/v1/parcels
     * @param {object} req
     * @param {object} res
     * @returns {object} all orders
     * @memberof Order
     */},{key:'getAllOrders',value:function(){cov_2hckn7e27g.f[7]++;var _ref3=(cov_2hckn7e27g.s[49]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee2(req,res){cov_2hckn7e27g.f[8]++;var queryText,_ref4,rows,rowCount;cov_2hckn7e27g.s[50]++;return _regenerator2.default.wrap(function _callee2$(_context2){cov_2hckn7e27g.f[9]++;cov_2hckn7e27g.s[51]++;while(1){cov_2hckn7e27g.s[52]++;switch(_context2.prev=_context2.next){case 0:cov_2hckn7e27g.b[4][0]++;cov_2hckn7e27g.s[53]++;queryText='SELECT * FROM orders';cov_2hckn7e27g.s[54]++;_context2.prev=1;cov_2hckn7e27g.s[55]++;_context2.next=4;cov_2hckn7e27g.s[56]++;return _model2.default.query(queryText);case 4:cov_2hckn7e27g.b[4][1]++;cov_2hckn7e27g.s[57]++;_ref4=_context2.sent;cov_2hckn7e27g.s[58]++;rows=_ref4.rows;cov_2hckn7e27g.s[59]++;rowCount=_ref4.rowCount;cov_2hckn7e27g.s[60]++;if(!(rows.length===0)){cov_2hckn7e27g.b[5][0]++;cov_2hckn7e27g.s[61]++;_context2.next=9;cov_2hckn7e27g.s[62]++;break;}else{cov_2hckn7e27g.b[5][1]++;}cov_2hckn7e27g.s[63]++;return _context2.abrupt('return',res.status(404).json({status:'failure',message:'orders not found'}));case 9:cov_2hckn7e27g.b[4][2]++;cov_2hckn7e27g.s[64]++;return _context2.abrupt('return',res.status(200).json({status:'success',message:'available orders',rows:rows,total:rowCount}));case 12:cov_2hckn7e27g.b[4][3]++;cov_2hckn7e27g.s[65]++;_context2.prev=12;cov_2hckn7e27g.s[66]++;_context2.t0=_context2['catch'](1);cov_2hckn7e27g.s[67]++;return _context2.abrupt('return',res.status(400).json({status:'error',error:'could not get the orders'}));case 15:cov_2hckn7e27g.b[4][4]++;case'end':cov_2hckn7e27g.b[4][5]++;cov_2hckn7e27g.s[68]++;return _context2.stop();}}},_callee2,this,[[1,12]]);})));function getAllOrders(_x3,_x4){cov_2hckn7e27g.f[10]++;cov_2hckn7e27g.s[69]++;return _ref3.apply(this,arguments);}cov_2hckn7e27g.s[70]++;return getAllOrders;}()/**
     * @desc GET api/v1/parcels/:parcelId
     * @param {object} req
     * @param {object} res
     * @returns {object} one order
     * @memberof Order
     */},{key:'getOneOrder',value:function(){cov_2hckn7e27g.f[11]++;var _ref5=(cov_2hckn7e27g.s[71]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee3(req,res){cov_2hckn7e27g.f[12]++;var parcelId,queryText,_ref6,rows;cov_2hckn7e27g.s[72]++;return _regenerator2.default.wrap(function _callee3$(_context3){cov_2hckn7e27g.f[13]++;cov_2hckn7e27g.s[73]++;while(1){cov_2hckn7e27g.s[74]++;switch(_context3.prev=_context3.next){case 0:cov_2hckn7e27g.b[6][0]++;cov_2hckn7e27g.s[75]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[76]++;queryText='SELECT * FROM orders WHERE id=$1';cov_2hckn7e27g.s[77]++;_context3.prev=2;cov_2hckn7e27g.s[78]++;_context3.next=5;cov_2hckn7e27g.s[79]++;return _model2.default.query(queryText,[parcelId]);case 5:cov_2hckn7e27g.b[6][1]++;cov_2hckn7e27g.s[80]++;_ref6=_context3.sent;cov_2hckn7e27g.s[81]++;rows=_ref6.rows;cov_2hckn7e27g.s[82]++;if(rows[0]){cov_2hckn7e27g.b[7][0]++;cov_2hckn7e27g.s[83]++;_context3.next=9;cov_2hckn7e27g.s[84]++;break;}else{cov_2hckn7e27g.b[7][1]++;}cov_2hckn7e27g.s[85]++;return _context3.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 9:cov_2hckn7e27g.b[6][2]++;cov_2hckn7e27g.s[86]++;return _context3.abrupt('return',res.status(200).json({status:'success',message:'user orders found',order:rows[0]}));case 12:cov_2hckn7e27g.b[6][3]++;cov_2hckn7e27g.s[87]++;_context3.prev=12;cov_2hckn7e27g.s[88]++;_context3.t0=_context3['catch'](2);cov_2hckn7e27g.s[89]++;return _context3.abrupt('return',res.status(400).json({status:'error',error:'could not get user orders'}));case 15:cov_2hckn7e27g.b[6][4]++;case'end':cov_2hckn7e27g.b[6][5]++;cov_2hckn7e27g.s[90]++;return _context3.stop();}}},_callee3,this,[[2,12]]);})));function getOneOrder(_x5,_x6){cov_2hckn7e27g.f[14]++;cov_2hckn7e27g.s[91]++;return _ref5.apply(this,arguments);}cov_2hckn7e27g.s[92]++;return getOneOrder;}()/**
     * @desc GET api/v1/users/:userId/parcels
     * @param {object} req
     * @param {object} res
     * @returns {object} user orders
     * @memberof Order
     */},{key:'getOrdersbyUser',value:function(){cov_2hckn7e27g.f[15]++;var _ref7=(cov_2hckn7e27g.s[93]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee4(req,res){cov_2hckn7e27g.f[16]++;var userId,queryText,_ref8,rows,rowCount;cov_2hckn7e27g.s[94]++;return _regenerator2.default.wrap(function _callee4$(_context4){cov_2hckn7e27g.f[17]++;cov_2hckn7e27g.s[95]++;while(1){cov_2hckn7e27g.s[96]++;switch(_context4.prev=_context4.next){case 0:cov_2hckn7e27g.b[8][0]++;cov_2hckn7e27g.s[97]++;userId=parseInt(req.params.userId,0);cov_2hckn7e27g.s[98]++;queryText='SELECT * FROM orders WHERE userid=$1';cov_2hckn7e27g.s[99]++;_context4.prev=2;cov_2hckn7e27g.s[100]++;_context4.next=5;cov_2hckn7e27g.s[101]++;return _model2.default.query(queryText,[userId]);case 5:cov_2hckn7e27g.b[8][1]++;cov_2hckn7e27g.s[102]++;_ref8=_context4.sent;cov_2hckn7e27g.s[103]++;rows=_ref8.rows;cov_2hckn7e27g.s[104]++;rowCount=_ref8.rowCount;cov_2hckn7e27g.s[105]++;if(!(rows.length===0)){cov_2hckn7e27g.b[9][0]++;cov_2hckn7e27g.s[106]++;_context4.next=10;cov_2hckn7e27g.s[107]++;break;}else{cov_2hckn7e27g.b[9][1]++;}cov_2hckn7e27g.s[108]++;return _context4.abrupt('return',res.status(404).json({status:'failure',error:'user orders not found'}));case 10:cov_2hckn7e27g.b[8][2]++;cov_2hckn7e27g.s[109]++;return _context4.abrupt('return',res.status(200).json({status:'success',message:'user orders',rows:rows,total:rowCount}));case 13:cov_2hckn7e27g.b[8][3]++;cov_2hckn7e27g.s[110]++;_context4.prev=13;cov_2hckn7e27g.s[111]++;_context4.t0=_context4['catch'](2);cov_2hckn7e27g.s[112]++;return _context4.abrupt('return',res.status(400).json({status:'error',error:'could not get the order'}));case 16:cov_2hckn7e27g.b[8][4]++;case'end':cov_2hckn7e27g.b[8][5]++;cov_2hckn7e27g.s[113]++;return _context4.stop();}}},_callee4,this,[[2,13]]);})));function getOrdersbyUser(_x7,_x8){cov_2hckn7e27g.f[18]++;cov_2hckn7e27g.s[114]++;return _ref7.apply(this,arguments);}cov_2hckn7e27g.s[115]++;return getOrdersbyUser;}()/**
     * @desc PUT api/v1/parcels/:parcelId/cancel
     * @param {object} req
     * @param {object} res
     * @returns {object} cancelled order
     * @memberof Order
     */},{key:'cancelOrder',value:function(){cov_2hckn7e27g.f[19]++;var _ref9=(cov_2hckn7e27g.s[116]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee5(req,res){cov_2hckn7e27g.f[20]++;var userId,parcelId,findText,updateText,_ref10,rows,values,result;cov_2hckn7e27g.s[117]++;return _regenerator2.default.wrap(function _callee5$(_context5){cov_2hckn7e27g.f[21]++;cov_2hckn7e27g.s[118]++;while(1){cov_2hckn7e27g.s[119]++;switch(_context5.prev=_context5.next){case 0:cov_2hckn7e27g.b[10][0]++;cov_2hckn7e27g.s[120]++;userId=parseInt(req.user.userId,0);cov_2hckn7e27g.s[121]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[122]++;findText='SELECT * FROM orders WHERE id=$1 AND userid=$2';cov_2hckn7e27g.s[123]++;updateText='UPDATE orders SET cancelled=$1, updated_on=$2 WHERE id=$3 AND userid=$4 returning *';cov_2hckn7e27g.s[124]++;console.log(req.headers['x-access-token']);cov_2hckn7e27g.s[125]++;_context5.prev=5;cov_2hckn7e27g.s[126]++;_context5.next=8;cov_2hckn7e27g.s[127]++;return _model2.default.query(findText,[parcelId,userId]);case 8:cov_2hckn7e27g.b[10][1]++;cov_2hckn7e27g.s[128]++;_ref10=_context5.sent;cov_2hckn7e27g.s[129]++;rows=_ref10.rows;cov_2hckn7e27g.s[130]++;if(rows[0]){cov_2hckn7e27g.b[11][0]++;cov_2hckn7e27g.s[131]++;_context5.next=12;cov_2hckn7e27g.s[132]++;break;}else{cov_2hckn7e27g.b[11][1]++;}cov_2hckn7e27g.s[133]++;return _context5.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 12:cov_2hckn7e27g.b[10][2]++;cov_2hckn7e27g.s[134]++;values=['true',(0,_moment2.default)(new Date()),parcelId,userId];cov_2hckn7e27g.s[135]++;_context5.next=15;cov_2hckn7e27g.s[136]++;return _model2.default.query(updateText,values);case 15:cov_2hckn7e27g.b[10][3]++;cov_2hckn7e27g.s[137]++;result=_context5.sent;cov_2hckn7e27g.s[138]++;return _context5.abrupt('return',res.status(200).json({status:'success',message:'order cancelled',order:result.rows[0]}));case 19:cov_2hckn7e27g.b[10][4]++;cov_2hckn7e27g.s[139]++;_context5.prev=19;cov_2hckn7e27g.s[140]++;_context5.t0=_context5['catch'](5);cov_2hckn7e27g.s[141]++;return _context5.abrupt('return',res.status(400).json({status:'error',error:'could not cancell order'}));case 22:cov_2hckn7e27g.b[10][5]++;case'end':cov_2hckn7e27g.b[10][6]++;cov_2hckn7e27g.s[142]++;return _context5.stop();}}},_callee5,this,[[5,19]]);})));function cancelOrder(_x9,_x10){cov_2hckn7e27g.f[22]++;cov_2hckn7e27g.s[143]++;return _ref9.apply(this,arguments);}cov_2hckn7e27g.s[144]++;return cancelOrder;}()/**
     * @desc PUT api/v1/parcels/:parcelId/destination
     * @param {object} req
     * @param {object} res
     * @returns {object} changed destination order
     * @memberof Order
     */},{key:'changeOrderDestination',value:function(){cov_2hckn7e27g.f[23]++;var _ref11=(cov_2hckn7e27g.s[145]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee6(req,res){cov_2hckn7e27g.f[24]++;var _req$body2,toAddress,toCity,toCountry,userId,parcelId,findText,updateText,_ref12,rows,values,result;cov_2hckn7e27g.s[146]++;return _regenerator2.default.wrap(function _callee6$(_context6){cov_2hckn7e27g.f[25]++;cov_2hckn7e27g.s[147]++;while(1){cov_2hckn7e27g.s[148]++;switch(_context6.prev=_context6.next){case 0:cov_2hckn7e27g.b[12][0]++;cov_2hckn7e27g.s[149]++;_req$body2=req.body,toAddress=_req$body2.toAddress,toCity=_req$body2.toCity,toCountry=_req$body2.toCountry;cov_2hckn7e27g.s[150]++;userId=parseInt(req.user.userId,0);cov_2hckn7e27g.s[151]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[152]++;findText='SELECT * FROM orders WHERE id=$1';cov_2hckn7e27g.s[153]++;updateText='UPDATE orders SET to_address=$1, to_city=$2, to_country=$3, updated_on=$4 WHERE id=$5 AND userid=$6 returning *';cov_2hckn7e27g.s[154]++;_context6.prev=5;cov_2hckn7e27g.s[155]++;_context6.next=8;cov_2hckn7e27g.s[156]++;return _model2.default.query(findText,[parcelId]);case 8:cov_2hckn7e27g.b[12][1]++;cov_2hckn7e27g.s[157]++;_ref12=_context6.sent;cov_2hckn7e27g.s[158]++;rows=_ref12.rows;cov_2hckn7e27g.s[159]++;if(rows[0]){cov_2hckn7e27g.b[13][0]++;cov_2hckn7e27g.s[160]++;_context6.next=12;cov_2hckn7e27g.s[161]++;break;}else{cov_2hckn7e27g.b[13][1]++;}cov_2hckn7e27g.s[162]++;return _context6.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 12:cov_2hckn7e27g.b[12][2]++;cov_2hckn7e27g.s[163]++;values=[(cov_2hckn7e27g.b[14][0]++,toAddress)||(cov_2hckn7e27g.b[14][1]++,rows[0].to_address),(cov_2hckn7e27g.b[15][0]++,toCity)||(cov_2hckn7e27g.b[15][1]++,rows[0].to_city),(cov_2hckn7e27g.b[16][0]++,toCountry)||(cov_2hckn7e27g.b[16][1]++,rows[0].to_country),(0,_moment2.default)(new Date()),parcelId,userId];cov_2hckn7e27g.s[164]++;_context6.next=15;cov_2hckn7e27g.s[165]++;return _model2.default.query(updateText,values);case 15:cov_2hckn7e27g.b[12][3]++;cov_2hckn7e27g.s[166]++;result=_context6.sent;cov_2hckn7e27g.s[167]++;return _context6.abrupt('return',res.status(200).json({status:'success',message:'order destination changed',order:result.rows[0]}));case 19:cov_2hckn7e27g.b[12][4]++;cov_2hckn7e27g.s[168]++;_context6.prev=19;cov_2hckn7e27g.s[169]++;_context6.t0=_context6['catch'](5);cov_2hckn7e27g.s[170]++;return _context6.abrupt('return',res.status(400).json({status:'error',error:'could not change order destination'}));case 22:cov_2hckn7e27g.b[12][5]++;case'end':cov_2hckn7e27g.b[12][6]++;cov_2hckn7e27g.s[171]++;return _context6.stop();}}},_callee6,this,[[5,19]]);})));function changeOrderDestination(_x11,_x12){cov_2hckn7e27g.f[26]++;cov_2hckn7e27g.s[172]++;return _ref11.apply(this,arguments);}cov_2hckn7e27g.s[173]++;return changeOrderDestination;}()/**
     * @desc PUT api/v1/parcels/:parcelId/status
     * @param {object} req
     * @param {object} res
     * @returns {object} changed status order
     * @memberof Order
     */},{key:'changeOrderStatus',value:function(){cov_2hckn7e27g.f[27]++;var _ref13=(cov_2hckn7e27g.s[174]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee7(req,res){cov_2hckn7e27g.f[28]++;var status,parcelId,findUser,findText,updateText,_ref14,rows,values,result,userInfo,to,subject,user,message;cov_2hckn7e27g.s[175]++;return _regenerator2.default.wrap(function _callee7$(_context7){cov_2hckn7e27g.f[29]++;cov_2hckn7e27g.s[176]++;while(1){cov_2hckn7e27g.s[177]++;switch(_context7.prev=_context7.next){case 0:cov_2hckn7e27g.b[17][0]++;cov_2hckn7e27g.s[178]++;status=req.body.status;cov_2hckn7e27g.s[179]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[180]++;findUser='SELECT * FROM users WHERE id=$1';cov_2hckn7e27g.s[181]++;findText='SELECT * FROM orders WHERE id=$1';cov_2hckn7e27g.s[182]++;updateText='UPDATE orders SET status=$1, updated_on=$2 WHERE id=$3 returning *';cov_2hckn7e27g.s[183]++;_context7.prev=5;cov_2hckn7e27g.s[184]++;_context7.next=8;cov_2hckn7e27g.s[185]++;return _model2.default.query(findText,[parcelId]);case 8:cov_2hckn7e27g.b[17][1]++;cov_2hckn7e27g.s[186]++;_ref14=_context7.sent;cov_2hckn7e27g.s[187]++;rows=_ref14.rows;cov_2hckn7e27g.s[188]++;if(rows[0]){cov_2hckn7e27g.b[18][0]++;cov_2hckn7e27g.s[189]++;_context7.next=12;cov_2hckn7e27g.s[190]++;break;}else{cov_2hckn7e27g.b[18][1]++;}cov_2hckn7e27g.s[191]++;return _context7.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 12:cov_2hckn7e27g.b[17][2]++;cov_2hckn7e27g.s[192]++;values=[(cov_2hckn7e27g.b[19][0]++,status.trim())||(cov_2hckn7e27g.b[19][1]++,rows[0].status),(0,_moment2.default)(new Date()),parcelId];cov_2hckn7e27g.s[193]++;_context7.next=15;cov_2hckn7e27g.s[194]++;return _model2.default.query(updateText,values);case 15:cov_2hckn7e27g.b[17][3]++;cov_2hckn7e27g.s[195]++;result=_context7.sent;cov_2hckn7e27g.s[196]++;_context7.next=18;cov_2hckn7e27g.s[197]++;return _model2.default.query(findUser,[rows[0].userid]);case 18:cov_2hckn7e27g.b[17][4]++;cov_2hckn7e27g.s[198]++;userInfo=_context7.sent;cov_2hckn7e27g.s[199]++;to=userInfo.rows[0].email;cov_2hckn7e27g.s[200]++;subject='Notification on parcel status';cov_2hckn7e27g.s[201]++;user=userInfo.rows[0].firstname;cov_2hckn7e27g.s[202]++;message='\n        <h3 style="text-transform:capitalize">Hello '+user+',</h3><p>Your parcel is '+status+'</p>';cov_2hckn7e27g.s[203]++;(0,_sendMail2.default)(to,subject,message,user,res);cov_2hckn7e27g.s[204]++;return _context7.abrupt('return',res.status(200).json({status:'success',message:'order status changed',order:result.rows[0]}));case 27:cov_2hckn7e27g.b[17][5]++;cov_2hckn7e27g.s[205]++;_context7.prev=27;cov_2hckn7e27g.s[206]++;_context7.t0=_context7['catch'](5);cov_2hckn7e27g.s[207]++;return _context7.abrupt('return',res.status(400).json({status:'error',error:'could not change order status'}));case 30:cov_2hckn7e27g.b[17][6]++;case'end':cov_2hckn7e27g.b[17][7]++;cov_2hckn7e27g.s[208]++;return _context7.stop();}}},_callee7,this,[[5,27]]);})));function changeOrderStatus(_x13,_x14){cov_2hckn7e27g.f[30]++;cov_2hckn7e27g.s[209]++;return _ref13.apply(this,arguments);}cov_2hckn7e27g.s[210]++;return changeOrderStatus;}()/**
     * @desc PUT api/v1/parcels/:parcelId/presentLocation
     * @param {object} req
     * @param {object} res
     * @returns {object} changed present location order
     * @memberof Order
     */},{key:'changeOrderPresentLocation',value:function(){cov_2hckn7e27g.f[31]++;var _ref15=(cov_2hckn7e27g.s[211]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee8(req,res){cov_2hckn7e27g.f[32]++;var _req$body3,fromAddress,fromCity,fromCountry,parcelId,findUser,findText,updateText,_ref16,rows,presentLocation,values,result,userInfo,to,subject,user,message;cov_2hckn7e27g.s[212]++;return _regenerator2.default.wrap(function _callee8$(_context8){cov_2hckn7e27g.f[33]++;cov_2hckn7e27g.s[213]++;while(1){cov_2hckn7e27g.s[214]++;switch(_context8.prev=_context8.next){case 0:cov_2hckn7e27g.b[20][0]++;cov_2hckn7e27g.s[215]++;_req$body3=req.body,fromAddress=_req$body3.fromAddress,fromCity=_req$body3.fromCity,fromCountry=_req$body3.fromCountry;cov_2hckn7e27g.s[216]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[217]++;findUser='SELECT * FROM users WHERE id=$1';cov_2hckn7e27g.s[218]++;findText='SELECT * FROM orders WHERE id=$1';cov_2hckn7e27g.s[219]++;updateText='UPDATE orders SET present_location=$1, updated_on=$2 WHERE id=$3 returning *';cov_2hckn7e27g.s[220]++;_context8.prev=5;cov_2hckn7e27g.s[221]++;_context8.next=8;cov_2hckn7e27g.s[222]++;return _model2.default.query(findText,[parcelId]);case 8:cov_2hckn7e27g.b[20][1]++;cov_2hckn7e27g.s[223]++;_ref16=_context8.sent;cov_2hckn7e27g.s[224]++;rows=_ref16.rows;cov_2hckn7e27g.s[225]++;if(rows[0]){cov_2hckn7e27g.b[21][0]++;cov_2hckn7e27g.s[226]++;_context8.next=12;cov_2hckn7e27g.s[227]++;break;}else{cov_2hckn7e27g.b[21][1]++;}cov_2hckn7e27g.s[228]++;return _context8.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 12:cov_2hckn7e27g.b[20][2]++;cov_2hckn7e27g.s[229]++;presentLocation=fromAddress+' '+fromCity+', '+fromCountry;cov_2hckn7e27g.s[230]++;values=[presentLocation,(0,_moment2.default)(new Date()),parcelId];cov_2hckn7e27g.s[231]++;_context8.next=16;cov_2hckn7e27g.s[232]++;return _model2.default.query(updateText,values);case 16:cov_2hckn7e27g.b[20][3]++;cov_2hckn7e27g.s[233]++;result=_context8.sent;cov_2hckn7e27g.s[234]++;_context8.next=19;cov_2hckn7e27g.s[235]++;return _model2.default.query(findUser,[rows[0].userid]);case 19:cov_2hckn7e27g.b[20][4]++;cov_2hckn7e27g.s[236]++;userInfo=_context8.sent;cov_2hckn7e27g.s[237]++;to=userInfo.rows[0].email;cov_2hckn7e27g.s[238]++;subject='Notification on parcel location';cov_2hckn7e27g.s[239]++;user=userInfo.rows[0].firstname;cov_2hckn7e27g.s[240]++;message='\n      <h3 style="text-transform:capitalize">Hello '+user+',</h3>\n      <p>Your parcel is currently at '+presentLocation+'</p>';cov_2hckn7e27g.s[241]++;(0,_sendMail2.default)(to,subject,message);cov_2hckn7e27g.s[242]++;return _context8.abrupt('return',res.status(200).json({status:'success',message:'order present location changed',order:result.rows[0]}));case 28:cov_2hckn7e27g.b[20][5]++;cov_2hckn7e27g.s[243]++;_context8.prev=28;cov_2hckn7e27g.s[244]++;_context8.t0=_context8['catch'](5);cov_2hckn7e27g.s[245]++;return _context8.abrupt('return',res.status(400).json((0,_defineProperty3.default)({status:'error',error:_context8.t0},'error','could not change order present location')));case 31:cov_2hckn7e27g.b[20][6]++;case'end':cov_2hckn7e27g.b[20][7]++;cov_2hckn7e27g.s[246]++;return _context8.stop();}}},_callee8,this,[[5,28]]);})));function changeOrderPresentLocation(_x15,_x16){cov_2hckn7e27g.f[34]++;cov_2hckn7e27g.s[247]++;return _ref15.apply(this,arguments);}cov_2hckn7e27g.s[248]++;return changeOrderPresentLocation;}()}]);cov_2hckn7e27g.s[249]++;return OrderController;}());cov_2hckn7e27g.s[250]++;exports.default=OrderController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9yZGVyQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJPcmRlckNvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJlcnJvcnMiLCJpc0VtcHR5Iiwic3RhdHVzIiwianNvbiIsImFycmF5IiwiYm9keSIsInBhcmNlbERlc2NyaXB0aW9uIiwicGFyY2VsV2VpZ2h0IiwiZnJvbUFkZHJlc3MiLCJmcm9tQ2l0eSIsImZyb21Db3VudHJ5IiwidG9BZGRyZXNzIiwidG9DaXR5IiwidG9Db3VudHJ5IiwicmVjZWl2ZXIiLCJyZWNlaXZlclBob25lIiwib3JkZXJQcmljZSIsInVzZXJJZCIsInBhcnNlSW50IiwidXNlciIsInByZXNlbnRMb2NhdGlvbiIsInF1ZXJ5VGV4dCIsInZhbHVlcyIsIkRhdGUiLCJkYiIsInF1ZXJ5Iiwicm93cyIsIm1lc3NhZ2UiLCJvcmRlciIsImVycm9yIiwicm93Q291bnQiLCJsZW5ndGgiLCJ0b3RhbCIsInBhcmNlbElkIiwicGFyYW1zIiwiZmluZFRleHQiLCJ1cGRhdGVUZXh0IiwiY29uc29sZSIsImxvZyIsImhlYWRlcnMiLCJyZXN1bHQiLCJ0b19hZGRyZXNzIiwidG9fY2l0eSIsInRvX2NvdW50cnkiLCJmaW5kVXNlciIsInRyaW0iLCJ1c2VyaWQiLCJ1c2VySW5mbyIsInRvIiwiZW1haWwiLCJzdWJqZWN0IiwiZmlyc3RuYW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7O0FBQ0E7Ozs7QUFFQTs7Ozs7O0FBRUE7SUFDcUJBLGU7Ozs7Ozs7O0FBQ25COzs7Ozs7OzsyR0FPeUJDLEcsRUFBS0MsRzs7Ozs7OztBQUN0QkMsc0IsR0FBUyw2QkFBaUJGLEdBQWpCLEM7O29CQUNWRSxPQUFPQyxPQUFQLEU7Ozs7O2lEQUNJRixJQUFJRyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJILE9BQU9JLEtBQVAsRUFBckIsQzs7OzRCQWNMTixJQUFJTyxJLEVBVk5DLGlCLGFBQUFB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QUFFMUJ5QiwyQkFBUyxnQ0FGaUI7QUFHMUJDLHlCQUFPWSxPQUFPZCxJQUFQLENBQVksQ0FBWjtBQUhtQixpQkFBckIsQzs7Ozs7a0RBTUEzQixJQUFJRyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEI7QUFDTEQsMEJBQVEsT0FESDtBQUVMMkI7QUFGSyw0QkFHRSx5Q0FIRixFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrQkF2VVFoQyxlIiwiZmlsZSI6Ik9yZGVyQ29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9va3d1a3dlL0Rlc2t0b3AvQW5kZWxhL3NlbmRJVC9zZXJ2ZXIvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyB2YWxpZGF0aW9uUmVzdWx0IH0gZnJvbSAnZXhwcmVzcy12YWxpZGF0b3IvY2hlY2snO1xuaW1wb3J0IHNlbmROb3RpZmljYXRpb24gZnJvbSAnLi4vbWFpbGVyL3NlbmRNYWlsJztcblxuaW1wb3J0IGRiIGZyb20gJy4uL21vZGVsJztcblxuLyoqIE9yZGVycyBDb250cm9sbGVyIENsYXNzICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcmRlckNvbnRyb2xsZXIge1xuICAvKipcbiAgICogQGRlc2MgUE9TVCBhcGkvdjEvcGFyY2Vsc1xuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXNcbiAgICogQHJldHVybnMge29iamVjdH0gY3JlYXRlZCBvcmRlclxuICAgKiBAbWVtYmVyb2YgT3JkZXJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVPcmRlcihyZXEsIHJlcykge1xuICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihlcnJvcnMuYXJyYXkoKSk7XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgcGFyY2VsRGVzY3JpcHRpb24sXG4gICAgICBwYXJjZWxXZWlnaHQsXG4gICAgICBmcm9tQWRkcmVzcyxcbiAgICAgIGZyb21DaXR5LFxuICAgICAgZnJvbUNvdW50cnksXG4gICAgICB0b0FkZHJlc3MsXG4gICAgICB0b0NpdHksXG4gICAgICB0b0NvdW50cnksXG4gICAgICByZWNlaXZlcixcbiAgICAgIHJlY2VpdmVyUGhvbmVcbiAgICB9ID0gcmVxLmJvZHk7XG5cbiAgICBjb25zdCBvcmRlclByaWNlID0gcGFyY2VsV2VpZ2h0ICogMTUwO1xuICAgIGNvbnN0IHVzZXJJZCA9IHBhcnNlSW50KHJlcS51c2VyLnVzZXJJZCwgMCk7XG4gICAgY29uc3QgcHJlc2VudExvY2F0aW9uID0gZnJvbUFkZHJlc3M7XG4gICAgY29uc3QgcXVlcnlUZXh0ID0gYElOU0VSVCBJTlRPIFxuICAgICAgb3JkZXJzKHBhcmNlbF9kZXNjcnB0LCBwYXJjZWxfd2d0LCBwcmljZSwgZnJvbV9hZGRyZXNzLCBmcm9tX2NpdHksIGZyb21fY291bnRyeSwgdG9fYWRkcmVzcywgdG9fY2l0eSwgdG9fY291bnRyeSwgcmVjZWl2ZXIsIHJlY2VpdmVyX3Bob25lLCBwcmVzZW50X2xvY2F0aW9uLCB1c2VyaWQsIGNyZWF0ZWRfb24sIHVwZGF0ZWRfb24pIFZBTFVFUyAoJDEsICQyLCAkMywgJDQsICQ1LCAkNiwgJDcsICQ4LCAkOSwgJDEwLCAkMTEsICQxMiwgJDEzLCAkMTQsICQxNSkgcmV0dXJuaW5nICpgO1xuXG4gICAgY29uc3QgdmFsdWVzID0gW1xuICAgICAgcGFyY2VsRGVzY3JpcHRpb24sXG4gICAgICBwYXJjZWxXZWlnaHQsXG4gICAgICBvcmRlclByaWNlLFxuICAgICAgZnJvbUFkZHJlc3MsXG4gICAgICBmcm9tQ2l0eSxcbiAgICAgIGZyb21Db3VudHJ5LFxuICAgICAgdG9BZGRyZXNzLFxuICAgICAgdG9DaXR5LFxuICAgICAgdG9Db3VudHJ5LFxuICAgICAgcmVjZWl2ZXIsXG4gICAgICByZWNlaXZlclBob25lLFxuICAgICAgcHJlc2VudExvY2F0aW9uLFxuICAgICAgdXNlcklkLFxuICAgICAgbW9tZW50KG5ldyBEYXRlKCkpLFxuICAgICAgbW9tZW50KG5ldyBEYXRlKCkpXG4gICAgXTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHJvd3MgfSA9IGF3YWl0IGRiLnF1ZXJ5KHF1ZXJ5VGV4dCwgdmFsdWVzKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICBtZXNzYWdlOiAncGFyY2VsIGRlbGl2ZXJ5IG9yZGVyIGNyZWF0ZWQgc3VjY2Vzc3VsbHknLFxuICAgICAgICBvcmRlcjogcm93c1swXVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgZXJyb3I6ICdvcmRlciBub3QgY3JlYXRlZCcsXG4gICAgICAgIGVycm9yXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGRlc2MgR0VUIGFwaS92MS9wYXJjZWxzXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXFcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlc1xuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBhbGwgb3JkZXJzXG4gICAqIEBtZW1iZXJvZiBPcmRlclxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldEFsbE9yZGVycyhyZXEsIHJlcykge1xuICAgIGNvbnN0IHF1ZXJ5VGV4dCA9ICdTRUxFQ1QgKiBGUk9NIG9yZGVycyc7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcm93cywgcm93Q291bnQgfSA9IGF3YWl0IGRiLnF1ZXJ5KHF1ZXJ5VGV4dCk7XG4gICAgICBpZiAocm93cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICBzdGF0dXM6ICdmYWlsdXJlJyxcbiAgICAgICAgICBtZXNzYWdlOiAnb3JkZXJzIG5vdCBmb3VuZCdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgbWVzc2FnZTogJ2F2YWlsYWJsZSBvcmRlcnMnLFxuICAgICAgICByb3dzLFxuICAgICAgICB0b3RhbDogcm93Q291bnRcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycm9yOiAnY291bGQgbm90IGdldCB0aGUgb3JkZXJzJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBkZXNjIEdFVCBhcGkvdjEvcGFyY2Vscy86cGFyY2VsSWRcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IG9uZSBvcmRlclxuICAgKiBAbWVtYmVyb2YgT3JkZXJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRPbmVPcmRlcihyZXEsIHJlcykge1xuICAgIGNvbnN0IHBhcmNlbElkID0gcGFyc2VJbnQocmVxLnBhcmFtcy5wYXJjZWxJZCwgMCk7XG4gICAgY29uc3QgcXVlcnlUZXh0ID0gJ1NFTEVDVCAqIEZST00gb3JkZXJzIFdIRVJFIGlkPSQxJztcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBkYi5xdWVyeShxdWVyeVRleHQsIFtwYXJjZWxJZF0pO1xuICAgICAgaWYgKCFyb3dzWzBdKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgICAgc3RhdHVzOiAnZmFpbHVyZScsXG4gICAgICAgICAgbWVzc2FnZTogJ29yZGVyIG5vdCBmb3VuZCdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgbWVzc2FnZTogJ3VzZXIgb3JkZXJzIGZvdW5kJyxcbiAgICAgICAgb3JkZXI6IHJvd3NbMF1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycm9yOiAnY291bGQgbm90IGdldCB1c2VyIG9yZGVycydcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVzYyBHRVQgYXBpL3YxL3VzZXJzLzp1c2VySWQvcGFyY2Vsc1xuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXNcbiAgICogQHJldHVybnMge29iamVjdH0gdXNlciBvcmRlcnNcbiAgICogQG1lbWJlcm9mIE9yZGVyXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0T3JkZXJzYnlVc2VyKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgdXNlcklkID0gcGFyc2VJbnQocmVxLnBhcmFtcy51c2VySWQsIDApO1xuICAgIGNvbnN0IHF1ZXJ5VGV4dCA9ICdTRUxFQ1QgKiBGUk9NIG9yZGVycyBXSEVSRSB1c2VyaWQ9JDEnO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHJvd3MsIHJvd0NvdW50IH0gPSBhd2FpdCBkYi5xdWVyeShxdWVyeVRleHQsIFt1c2VySWRdKTtcbiAgICAgIGlmIChyb3dzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgIHN0YXR1czogJ2ZhaWx1cmUnLFxuICAgICAgICAgIGVycm9yOiAndXNlciBvcmRlcnMgbm90IGZvdW5kJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICBtZXNzYWdlOiAndXNlciBvcmRlcnMnLFxuICAgICAgICByb3dzLFxuICAgICAgICB0b3RhbDogcm93Q291bnRcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycm9yOiAnY291bGQgbm90IGdldCB0aGUgb3JkZXInXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGRlc2MgUFVUIGFwaS92MS9wYXJjZWxzLzpwYXJjZWxJZC9jYW5jZWxcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IGNhbmNlbGxlZCBvcmRlclxuICAgKiBAbWVtYmVyb2YgT3JkZXJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjYW5jZWxPcmRlcihyZXEsIHJlcykge1xuICAgIGNvbnN0IHVzZXJJZCA9IHBhcnNlSW50KHJlcS51c2VyLnVzZXJJZCwgMCk7XG4gICAgY29uc3QgcGFyY2VsSWQgPSBwYXJzZUludChyZXEucGFyYW1zLnBhcmNlbElkLCAwKTtcbiAgICBjb25zdCBmaW5kVGV4dCA9ICdTRUxFQ1QgKiBGUk9NIG9yZGVycyBXSEVSRSBpZD0kMSBBTkQgdXNlcmlkPSQyJztcbiAgICBjb25zdCB1cGRhdGVUZXh0ID0gJ1VQREFURSBvcmRlcnMgU0VUIGNhbmNlbGxlZD0kMSwgdXBkYXRlZF9vbj0kMiBXSEVSRSBpZD0kMyBBTkQgdXNlcmlkPSQ0IHJldHVybmluZyAqJztcbiAgICBjb25zb2xlLmxvZyhyZXEuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcm93cyB9ID0gYXdhaXQgZGIucXVlcnkoZmluZFRleHQsIFtwYXJjZWxJZCwgdXNlcklkXSk7XG4gICAgICBpZiAoIXJvd3NbMF0pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICBzdGF0dXM6ICdmYWlsdXJlJyxcbiAgICAgICAgICBtZXNzYWdlOiAnb3JkZXIgbm90IGZvdW5kJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IFsndHJ1ZScsIG1vbWVudChuZXcgRGF0ZSgpKSwgcGFyY2VsSWQsIHVzZXJJZF07XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5xdWVyeSh1cGRhdGVUZXh0LCB2YWx1ZXMpO1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIG1lc3NhZ2U6ICdvcmRlciBjYW5jZWxsZWQnLFxuICAgICAgICBvcmRlcjogcmVzdWx0LnJvd3NbMF1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycm9yOiAnY291bGQgbm90IGNhbmNlbGwgb3JkZXInXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGRlc2MgUFVUIGFwaS92MS9wYXJjZWxzLzpwYXJjZWxJZC9kZXN0aW5hdGlvblxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXNcbiAgICogQHJldHVybnMge29iamVjdH0gY2hhbmdlZCBkZXN0aW5hdGlvbiBvcmRlclxuICAgKiBAbWVtYmVyb2YgT3JkZXJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjaGFuZ2VPcmRlckRlc3RpbmF0aW9uKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgeyB0b0FkZHJlc3MsIHRvQ2l0eSwgdG9Db3VudHJ5IH0gPSByZXEuYm9keTtcbiAgICBjb25zdCB1c2VySWQgPSBwYXJzZUludChyZXEudXNlci51c2VySWQsIDApO1xuICAgIGNvbnN0IHBhcmNlbElkID0gcGFyc2VJbnQocmVxLnBhcmFtcy5wYXJjZWxJZCwgMCk7XG4gICAgY29uc3QgZmluZFRleHQgPSAnU0VMRUNUICogRlJPTSBvcmRlcnMgV0hFUkUgaWQ9JDEnO1xuICAgIGNvbnN0IHVwZGF0ZVRleHQgPSAnVVBEQVRFIG9yZGVycyBTRVQgdG9fYWRkcmVzcz0kMSwgdG9fY2l0eT0kMiwgdG9fY291bnRyeT0kMywgdXBkYXRlZF9vbj0kNCBXSEVSRSBpZD0kNSBBTkQgdXNlcmlkPSQ2IHJldHVybmluZyAqJztcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBkYi5xdWVyeShmaW5kVGV4dCwgW3BhcmNlbElkXSk7XG4gICAgICBpZiAoIXJvd3NbMF0pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICBzdGF0dXM6ICdmYWlsdXJlJyxcbiAgICAgICAgICBtZXNzYWdlOiAnb3JkZXIgbm90IGZvdW5kJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IFtcbiAgICAgICAgdG9BZGRyZXNzIHx8IHJvd3NbMF0udG9fYWRkcmVzcyxcbiAgICAgICAgdG9DaXR5IHx8IHJvd3NbMF0udG9fY2l0eSxcbiAgICAgICAgdG9Db3VudHJ5IHx8IHJvd3NbMF0udG9fY291bnRyeSxcbiAgICAgICAgbW9tZW50KG5ldyBEYXRlKCkpLFxuICAgICAgICBwYXJjZWxJZCxcbiAgICAgICAgdXNlcklkXG4gICAgICBdO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIucXVlcnkodXBkYXRlVGV4dCwgdmFsdWVzKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICBtZXNzYWdlOiAnb3JkZXIgZGVzdGluYXRpb24gY2hhbmdlZCcsXG4gICAgICAgIG9yZGVyOiByZXN1bHQucm93c1swXVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgZXJyb3I6ICdjb3VsZCBub3QgY2hhbmdlIG9yZGVyIGRlc3RpbmF0aW9uJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBkZXNjIFBVVCBhcGkvdjEvcGFyY2Vscy86cGFyY2VsSWQvc3RhdHVzXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXFcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlc1xuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBjaGFuZ2VkIHN0YXR1cyBvcmRlclxuICAgKiBAbWVtYmVyb2YgT3JkZXJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjaGFuZ2VPcmRlclN0YXR1cyhyZXEsIHJlcykge1xuICAgIGNvbnN0IHsgc3RhdHVzIH0gPSByZXEuYm9keTtcbiAgICBjb25zdCBwYXJjZWxJZCA9IHBhcnNlSW50KHJlcS5wYXJhbXMucGFyY2VsSWQsIDApO1xuICAgIGNvbnN0IGZpbmRVc2VyID0gJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgaWQ9JDEnO1xuICAgIGNvbnN0IGZpbmRUZXh0ID0gJ1NFTEVDVCAqIEZST00gb3JkZXJzIFdIRVJFIGlkPSQxJztcbiAgICBjb25zdCB1cGRhdGVUZXh0ID0gJ1VQREFURSBvcmRlcnMgU0VUIHN0YXR1cz0kMSwgdXBkYXRlZF9vbj0kMiBXSEVSRSBpZD0kMyByZXR1cm5pbmcgKic7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBkYi5xdWVyeShmaW5kVGV4dCwgW3BhcmNlbElkXSk7XG4gICAgICBpZiAoIXJvd3NbMF0pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICBzdGF0dXM6ICdmYWlsdXJlJyxcbiAgICAgICAgICBtZXNzYWdlOiAnb3JkZXIgbm90IGZvdW5kJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IFtzdGF0dXMudHJpbSgpIHx8IHJvd3NbMF0uc3RhdHVzLCBtb21lbnQobmV3IERhdGUoKSksIHBhcmNlbElkXTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLnF1ZXJ5KHVwZGF0ZVRleHQsIHZhbHVlcyk7XG4gICAgICBjb25zdCB1c2VySW5mbyA9IGF3YWl0IGRiLnF1ZXJ5KGZpbmRVc2VyLCBbcm93c1swXS51c2VyaWRdKTtcbiAgICAgIGNvbnN0IHRvID0gdXNlckluZm8ucm93c1swXS5lbWFpbDtcbiAgICAgIGNvbnN0IHN1YmplY3QgPSAnTm90aWZpY2F0aW9uIG9uIHBhcmNlbCBzdGF0dXMnO1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJJbmZvLnJvd3NbMF0uZmlyc3RuYW1lO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGBcbiAgICAgICAgPGgzIHN0eWxlPVwidGV4dC10cmFuc2Zvcm06Y2FwaXRhbGl6ZVwiPkhlbGxvICR7dXNlcn0sPC9oMz48cD5Zb3VyIHBhcmNlbCBpcyAke3N0YXR1c308L3A+YDtcblxuICAgICAgc2VuZE5vdGlmaWNhdGlvbih0bywgc3ViamVjdCwgbWVzc2FnZSwgdXNlciwgcmVzKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICBtZXNzYWdlOiAnb3JkZXIgc3RhdHVzIGNoYW5nZWQnLFxuICAgICAgICBvcmRlcjogcmVzdWx0LnJvd3NbMF1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycm9yOiAnY291bGQgbm90IGNoYW5nZSBvcmRlciBzdGF0dXMnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGRlc2MgUFVUIGFwaS92MS9wYXJjZWxzLzpwYXJjZWxJZC9wcmVzZW50TG9jYXRpb25cbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IGNoYW5nZWQgcHJlc2VudCBsb2NhdGlvbiBvcmRlclxuICAgKiBAbWVtYmVyb2YgT3JkZXJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjaGFuZ2VPcmRlclByZXNlbnRMb2NhdGlvbihyZXEsIHJlcykge1xuICAgIGNvbnN0IHsgZnJvbUFkZHJlc3MsIGZyb21DaXR5LCBmcm9tQ291bnRyeSB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgcGFyY2VsSWQgPSBwYXJzZUludChyZXEucGFyYW1zLnBhcmNlbElkLCAwKTtcbiAgICBjb25zdCBmaW5kVXNlciA9ICdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGlkPSQxJztcbiAgICBjb25zdCBmaW5kVGV4dCA9ICdTRUxFQ1QgKiBGUk9NIG9yZGVycyBXSEVSRSBpZD0kMSc7XG4gICAgY29uc3QgdXBkYXRlVGV4dCA9ICdVUERBVEUgb3JkZXJzIFNFVCBwcmVzZW50X2xvY2F0aW9uPSQxLCB1cGRhdGVkX29uPSQyIFdIRVJFIGlkPSQzIHJldHVybmluZyAqJztcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHJvd3MgfSA9IGF3YWl0IGRiLnF1ZXJ5KGZpbmRUZXh0LCBbcGFyY2VsSWRdKTtcbiAgICAgIGlmICghcm93c1swXSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgIHN0YXR1czogJ2ZhaWx1cmUnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdvcmRlciBub3QgZm91bmQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgcHJlc2VudExvY2F0aW9uID0gYCR7ZnJvbUFkZHJlc3N9ICR7ZnJvbUNpdHl9LCAke2Zyb21Db3VudHJ5fWA7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBbcHJlc2VudExvY2F0aW9uLCBtb21lbnQobmV3IERhdGUoKSksIHBhcmNlbElkXTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLnF1ZXJ5KHVwZGF0ZVRleHQsIHZhbHVlcyk7XG4gICAgICBjb25zdCB1c2VySW5mbyA9IGF3YWl0IGRiLnF1ZXJ5KGZpbmRVc2VyLCBbcm93c1swXS51c2VyaWRdKTtcblxuICAgICAgY29uc3QgdG8gPSB1c2VySW5mby5yb3dzWzBdLmVtYWlsO1xuICAgICAgY29uc3Qgc3ViamVjdCA9ICdOb3RpZmljYXRpb24gb24gcGFyY2VsIGxvY2F0aW9uJztcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VySW5mby5yb3dzWzBdLmZpcnN0bmFtZTtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgXG4gICAgICA8aDMgc3R5bGU9XCJ0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplXCI+SGVsbG8gJHt1c2VyfSw8L2gzPlxuICAgICAgPHA+WW91ciBwYXJjZWwgaXMgY3VycmVudGx5IGF0ICR7cHJlc2VudExvY2F0aW9ufTwvcD5gO1xuXG4gICAgICBzZW5kTm90aWZpY2F0aW9uKHRvLCBzdWJqZWN0LCBtZXNzYWdlKTtcblxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXG4gICAgICAgIG1lc3NhZ2U6ICdvcmRlciBwcmVzZW50IGxvY2F0aW9uIGNoYW5nZWQnLFxuICAgICAgICBvcmRlcjogcmVzdWx0LnJvd3NbMF1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycm9yLFxuICAgICAgICBlcnJvcjogJ2NvdWxkIG5vdCBjaGFuZ2Ugb3JkZXIgcHJlc2VudCBsb2NhdGlvbidcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIl19