'use strict';var cov_2hckn7e27g=function(){var path="/home/okwukwe/Desktop/Andela/sendIT/server/controllers/OrderController.js",hash="2a5e16e6655da1728013aba14b0d2bbcc1eb2cd1",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/home/okwukwe/Desktop/Andela/sendIT/server/controllers/OrderController.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:19},end:{line:7,column:55}},"2":{start:{line:9,column:20},end:{line:9,column:56}},"3":{start:{line:11,column:25},end:{line:11,column:74}},"4":{start:{line:13,column:25},end:{line:13,column:67}},"5":{start:{line:15,column:23},end:{line:15,column:70}},"6":{start:{line:17,column:23},end:{line:17,column:63}},"7":{start:{line:19,column:20},end:{line:19,column:64}},"8":{start:{line:21,column:20},end:{line:21,column:57}},"9":{start:{line:23,column:14},end:{line:23,column:31}},"10":{start:{line:25,column:15},end:{line:25,column:46}},"11":{start:{line:27,column:13},end:{line:27,column:47}},"12":{start:{line:29,column:16},end:{line:29,column:45}},"13":{start:{line:31,column:17},end:{line:31,column:50}},"14":{start:{line:33,column:13},end:{line:33,column:32}},"15":{start:{line:35,column:14},end:{line:35,column:44}},"16":{start:{line:37,column:39},end:{line:37,column:93}},"17":{start:{line:40,column:22},end:{line:658,column:3}},"18":{start:{line:42,column:4},end:{line:42,column:57}},"19":{start:{line:45,column:2},end:{line:656,column:6}},"20":{start:{line:56,column:17},end:{line:107,column:9}},"21":{start:{line:59,column:8},end:{line:106,column:37}},"22":{start:{line:60,column:10},end:{line:105,column:11}},"23":{start:{line:61,column:12},end:{line:104,column:13}},"24":{start:{line:63,column:16},end:{line:63,column:59}},"25":{start:{line:65,column:16},end:{line:68,column:17}},"26":{start:{line:66,column:18},end:{line:66,column:36}},"27":{start:{line:67,column:18},end:{line:67,column:24}},"28":{start:{line:70,column:16},end:{line:70,column:87}},"29":{start:{line:73,column:16},end:{line:73,column:395}},"30":{start:{line:74,column:16},end:{line:74,column:48}},"31":{start:{line:75,column:16},end:{line:75,column:54}},"32":{start:{line:76,column:16},end:{line:76,column:46}},"33":{start:{line:77,column:16},end:{line:77,column:326}},"34":{start:{line:78,column:16},end:{line:78,column:257}},"35":{start:{line:79,column:16},end:{line:79,column:34}},"36":{start:{line:80,column:16},end:{line:80,column:35}},"37":{start:{line:81,column:16},end:{line:81,column:64}},"38":{start:{line:84,column:16},end:{line:84,column:38}},"39":{start:{line:85,column:16},end:{line:85,column:34}},"40":{start:{line:86,column:16},end:{line:90,column:20}},"41":{start:{line:93,column:16},end:{line:93,column:35}},"42":{start:{line:94,column:16},end:{line:94,column:51}},"43":{start:{line:95,column:16},end:{line:99,column:20}},"44":{start:{line:103,column:16},end:{line:103,column:39}},"45":{start:{line:110,column:8},end:{line:110,column:43}},"46":{start:{line:113,column:6},end:{line:113,column:25}},"47":{start:{line:127,column:18},end:{line:176,column:9}},"48":{start:{line:130,column:8},end:{line:175,column:38}},"49":{start:{line:131,column:10},end:{line:174,column:11}},"50":{start:{line:132,column:12},end:{line:173,column:13}},"51":{start:{line:134,column:16},end:{line:134,column:51}},"52":{start:{line:135,column:16},end:{line:135,column:35}},"53":{start:{line:136,column:16},end:{line:136,column:35}},"54":{start:{line:137,column:16},end:{line:137,column:56}},"55":{start:{line:140,column:16},end:{line:140,column:39}},"56":{start:{line:141,column:16},end:{line:141,column:34}},"57":{start:{line:142,column:16},end:{line:142,column:42}},"58":{start:{line:144,column:16},end:{line:147,column:17}},"59":{start:{line:145,column:18},end:{line:145,column:37}},"60":{start:{line:146,column:18},end:{line:146,column:24}},"61":{start:{line:149,column:16},end:{line:152,column:20}},"62":{start:{line:155,column:16},end:{line:160,column:20}},"63":{start:{line:163,column:16},end:{line:163,column:36}},"64":{start:{line:164,column:16},end:{line:164,column:53}},"65":{start:{line:165,column:16},end:{line:168,column:20}},"66":{start:{line:172,column:16},end:{line:172,column:40}},"67":{start:{line:179,column:8},end:{line:179,column:44}},"68":{start:{line:182,column:6},end:{line:182,column:26}},"69":{start:{line:196,column:18},end:{line:244,column:9}},"70":{start:{line:199,column:8},end:{line:243,column:38}},"71":{start:{line:200,column:10},end:{line:242,column:11}},"72":{start:{line:201,column:12},end:{line:241,column:13}},"73":{start:{line:203,column:16},end:{line:203,column:60}},"74":{start:{line:204,column:16},end:{line:204,column:63}},"75":{start:{line:205,column:16},end:{line:205,column:35}},"76":{start:{line:206,column:16},end:{line:206,column:35}},"77":{start:{line:207,column:16},end:{line:207,column:68}},"78":{start:{line:210,column:16},end:{line:210,column:39}},"79":{start:{line:211,column:16},end:{line:211,column:34}},"80":{start:{line:213,column:16},end:{line:216,column:17}},"81":{start:{line:214,column:18},end:{line:214,column:37}},"82":{start:{line:215,column:18},end:{line:215,column:24}},"83":{start:{line:218,column:16},end:{line:221,column:20}},"84":{start:{line:224,column:16},end:{line:228,column:20}},"85":{start:{line:231,column:16},end:{line:231,column:36}},"86":{start:{line:232,column:16},end:{line:232,column:53}},"87":{start:{line:233,column:16},end:{line:236,column:20}},"88":{start:{line:240,column:16},end:{line:240,column:40}},"89":{start:{line:247,column:8},end:{line:247,column:44}},"90":{start:{line:250,column:6},end:{line:250,column:25}},"91":{start:{line:264,column:18},end:{line:314,column:9}},"92":{start:{line:267,column:8},end:{line:313,column:38}},"93":{start:{line:268,column:10},end:{line:312,column:11}},"94":{start:{line:269,column:12},end:{line:311,column:13}},"95":{start:{line:271,column:16},end:{line:271,column:56}},"96":{start:{line:272,column:16},end:{line:272,column:67}},"97":{start:{line:273,column:16},end:{line:273,column:35}},"98":{start:{line:274,column:16},end:{line:274,column:35}},"99":{start:{line:275,column:16},end:{line:275,column:66}},"100":{start:{line:278,column:16},end:{line:278,column:39}},"101":{start:{line:279,column:16},end:{line:279,column:34}},"102":{start:{line:280,column:16},end:{line:280,column:42}},"103":{start:{line:282,column:16},end:{line:285,column:17}},"104":{start:{line:283,column:18},end:{line:283,column:38}},"105":{start:{line:284,column:18},end:{line:284,column:24}},"106":{start:{line:287,column:16},end:{line:290,column:20}},"107":{start:{line:293,column:16},end:{line:298,column:20}},"108":{start:{line:301,column:16},end:{line:301,column:36}},"109":{start:{line:302,column:16},end:{line:302,column:53}},"110":{start:{line:303,column:16},end:{line:306,column:20}},"111":{start:{line:310,column:16},end:{line:310,column:40}},"112":{start:{line:317,column:8},end:{line:317,column:44}},"113":{start:{line:320,column:6},end:{line:320,column:29}},"114":{start:{line:334,column:18},end:{line:390,column:9}},"115":{start:{line:337,column:8},end:{line:389,column:38}},"116":{start:{line:338,column:10},end:{line:388,column:11}},"117":{start:{line:339,column:12},end:{line:387,column:13}},"118":{start:{line:341,column:16},end:{line:341,column:54}},"119":{start:{line:342,column:16},end:{line:342,column:60}},"120":{start:{line:343,column:16},end:{line:343,column:76}},"121":{start:{line:344,column:16},end:{line:344,column:115}},"122":{start:{line:345,column:16},end:{line:345,column:35}},"123":{start:{line:346,column:16},end:{line:346,column:35}},"124":{start:{line:347,column:16},end:{line:347,column:75}},"125":{start:{line:350,column:16},end:{line:350,column:40}},"126":{start:{line:351,column:16},end:{line:351,column:35}},"127":{start:{line:353,column:16},end:{line:356,column:17}},"128":{start:{line:354,column:18},end:{line:354,column:38}},"129":{start:{line:355,column:18},end:{line:355,column:24}},"130":{start:{line:358,column:16},end:{line:361,column:20}},"131":{start:{line:364,column:16},end:{line:364,column:87}},"132":{start:{line:365,column:16},end:{line:365,column:36}},"133":{start:{line:366,column:16},end:{line:366,column:65}},"134":{start:{line:369,column:16},end:{line:369,column:40}},"135":{start:{line:370,column:16},end:{line:374,column:20}},"136":{start:{line:377,column:16},end:{line:377,column:36}},"137":{start:{line:378,column:16},end:{line:378,column:53}},"138":{start:{line:379,column:16},end:{line:382,column:20}},"139":{start:{line:386,column:16},end:{line:386,column:40}},"140":{start:{line:393,column:8},end:{line:393,column:44}},"141":{start:{line:396,column:6},end:{line:396,column:25}},"142":{start:{line:410,column:19},end:{line:467,column:9}},"143":{start:{line:413,column:8},end:{line:466,column:38}},"144":{start:{line:414,column:10},end:{line:465,column:11}},"145":{start:{line:415,column:12},end:{line:464,column:13}},"146":{start:{line:417,column:16},end:{line:417,column:134}},"147":{start:{line:418,column:16},end:{line:418,column:54}},"148":{start:{line:419,column:16},end:{line:419,column:60}},"149":{start:{line:420,column:16},end:{line:420,column:62}},"150":{start:{line:421,column:16},end:{line:421,column:143}},"151":{start:{line:422,column:16},end:{line:422,column:35}},"152":{start:{line:423,column:16},end:{line:423,column:35}},"153":{start:{line:424,column:16},end:{line:424,column:67}},"154":{start:{line:427,column:16},end:{line:427,column:40}},"155":{start:{line:428,column:16},end:{line:428,column:35}},"156":{start:{line:430,column:16},end:{line:433,column:17}},"157":{start:{line:431,column:18},end:{line:431,column:38}},"158":{start:{line:432,column:18},end:{line:432,column:24}},"159":{start:{line:435,column:16},end:{line:438,column:20}},"160":{start:{line:441,column:16},end:{line:441,column:172}},"161":{start:{line:442,column:16},end:{line:442,column:36}},"162":{start:{line:443,column:16},end:{line:443,column:65}},"163":{start:{line:446,column:16},end:{line:446,column:40}},"164":{start:{line:447,column:16},end:{line:451,column:20}},"165":{start:{line:454,column:16},end:{line:454,column:36}},"166":{start:{line:455,column:16},end:{line:455,column:53}},"167":{start:{line:456,column:16},end:{line:459,column:20}},"168":{start:{line:463,column:16},end:{line:463,column:40}},"169":{start:{line:470,column:8},end:{line:470,column:45}},"170":{start:{line:473,column:6},end:{line:473,column:36}},"171":{start:{line:487,column:19},end:{line:556,column:9}},"172":{start:{line:490,column:8},end:{line:555,column:38}},"173":{start:{line:491,column:10},end:{line:554,column:11}},"174":{start:{line:492,column:12},end:{line:553,column:13}},"175":{start:{line:494,column:16},end:{line:494,column:41}},"176":{start:{line:495,column:16},end:{line:495,column:60}},"177":{start:{line:496,column:16},end:{line:496,column:61}},"178":{start:{line:497,column:16},end:{line:497,column:62}},"179":{start:{line:498,column:16},end:{line:498,column:98}},"180":{start:{line:499,column:16},end:{line:499,column:35}},"181":{start:{line:500,column:16},end:{line:500,column:35}},"182":{start:{line:501,column:16},end:{line:501,column:67}},"183":{start:{line:504,column:16},end:{line:504,column:40}},"184":{start:{line:505,column:16},end:{line:505,column:35}},"185":{start:{line:507,column:16},end:{line:510,column:17}},"186":{start:{line:508,column:18},end:{line:508,column:38}},"187":{start:{line:509,column:18},end:{line:509,column:24}},"188":{start:{line:512,column:16},end:{line:515,column:20}},"189":{start:{line:518,column:16},end:{line:518,column:104}},"190":{start:{line:519,column:16},end:{line:519,column:36}},"191":{start:{line:520,column:16},end:{line:520,column:65}},"192":{start:{line:523,column:16},end:{line:523,column:40}},"193":{start:{line:524,column:16},end:{line:524,column:36}},"194":{start:{line:525,column:16},end:{line:525,column:73}},"195":{start:{line:528,column:16},end:{line:528,column:42}},"196":{start:{line:529,column:16},end:{line:529,column:44}},"197":{start:{line:530,column:16},end:{line:530,column:58}},"198":{start:{line:531,column:16},end:{line:531,column:50}},"199":{start:{line:532,column:16},end:{line:532,column:137}},"200":{start:{line:535,column:16},end:{line:535,column:73}},"201":{start:{line:536,column:16},end:{line:540,column:20}},"202":{start:{line:543,column:16},end:{line:543,column:36}},"203":{start:{line:544,column:16},end:{line:544,column:53}},"204":{start:{line:545,column:16},end:{line:548,column:20}},"205":{start:{line:552,column:16},end:{line:552,column:40}},"206":{start:{line:559,column:8},end:{line:559,column:45}},"207":{start:{line:562,column:6},end:{line:562,column:31}},"208":{start:{line:576,column:19},end:{line:648,column:9}},"209":{start:{line:579,column:8},end:{line:647,column:38}},"210":{start:{line:580,column:10},end:{line:646,column:11}},"211":{start:{line:581,column:12},end:{line:645,column:13}},"212":{start:{line:583,column:16},end:{line:583,column:146}},"213":{start:{line:584,column:16},end:{line:584,column:60}},"214":{start:{line:585,column:16},end:{line:585,column:61}},"215":{start:{line:586,column:16},end:{line:586,column:62}},"216":{start:{line:587,column:16},end:{line:587,column:108}},"217":{start:{line:588,column:16},end:{line:588,column:35}},"218":{start:{line:589,column:16},end:{line:589,column:35}},"219":{start:{line:590,column:16},end:{line:590,column:67}},"220":{start:{line:593,column:16},end:{line:593,column:40}},"221":{start:{line:594,column:16},end:{line:594,column:35}},"222":{start:{line:596,column:16},end:{line:599,column:17}},"223":{start:{line:597,column:18},end:{line:597,column:38}},"224":{start:{line:598,column:18},end:{line:598,column:24}},"225":{start:{line:601,column:16},end:{line:604,column:20}},"226":{start:{line:607,column:16},end:{line:607,column:84}},"227":{start:{line:608,column:16},end:{line:608,column:88}},"228":{start:{line:609,column:16},end:{line:609,column:36}},"229":{start:{line:610,column:16},end:{line:610,column:65}},"230":{start:{line:613,column:16},end:{line:613,column:40}},"231":{start:{line:614,column:16},end:{line:614,column:36}},"232":{start:{line:615,column:16},end:{line:615,column:73}},"233":{start:{line:618,column:16},end:{line:618,column:42}},"234":{start:{line:619,column:16},end:{line:619,column:44}},"235":{start:{line:620,column:16},end:{line:620,column:60}},"236":{start:{line:621,column:16},end:{line:621,column:50}},"237":{start:{line:622,column:16},end:{line:622,column:165}},"238":{start:{line:625,column:16},end:{line:625,column:62}},"239":{start:{line:627,column:16},end:{line:631,column:20}},"240":{start:{line:634,column:16},end:{line:634,column:36}},"241":{start:{line:635,column:16},end:{line:635,column:53}},"242":{start:{line:636,column:16},end:{line:640,column:20}},"243":{start:{line:644,column:16},end:{line:644,column:40}},"244":{start:{line:651,column:8},end:{line:651,column:45}},"245":{start:{line:654,column:6},end:{line:654,column:40}},"246":{start:{line:657,column:2},end:{line:657,column:25}},"247":{start:{line:660,column:0},end:{line:660,column:34}}},fnMap:{"0":{name:"_interopRequireDefault",decl:{start:{line:37,column:9},end:{line:37,column:31}},loc:{start:{line:37,column:37},end:{line:37,column:95}},line:37},"1":{name:"(anonymous_1)",decl:{start:{line:40,column:22},end:{line:40,column:23}},loc:{start:{line:40,column:34},end:{line:658,column:1}},line:40},"2":{name:"OrderController",decl:{start:{line:41,column:11},end:{line:41,column:26}},loc:{start:{line:41,column:29},end:{line:43,column:3}},line:41},"3":{name:"(anonymous_3)",decl:{start:{line:55,column:11},end:{line:55,column:12}},loc:{start:{line:55,column:23},end:{line:114,column:5}},line:55},"4":{name:"_callee",decl:{start:{line:56,column:99},end:{line:56,column:106}},loc:{start:{line:56,column:117},end:{line:107,column:7}},line:56},"5":{name:"_callee$",decl:{start:{line:59,column:51},end:{line:59,column:59}},loc:{start:{line:59,column:70},end:{line:106,column:9}},line:59},"6":{name:"createOrder",decl:{start:{line:109,column:15},end:{line:109,column:26}},loc:{start:{line:109,column:36},end:{line:111,column:7}},line:109},"7":{name:"(anonymous_7)",decl:{start:{line:126,column:11},end:{line:126,column:12}},loc:{start:{line:126,column:23},end:{line:183,column:5}},line:126},"8":{name:"_callee2",decl:{start:{line:127,column:100},end:{line:127,column:108}},loc:{start:{line:127,column:119},end:{line:176,column:7}},line:127},"9":{name:"_callee2$",decl:{start:{line:130,column:51},end:{line:130,column:60}},loc:{start:{line:130,column:72},end:{line:175,column:9}},line:130},"10":{name:"getAllOrders",decl:{start:{line:178,column:15},end:{line:178,column:27}},loc:{start:{line:178,column:38},end:{line:180,column:7}},line:178},"11":{name:"(anonymous_11)",decl:{start:{line:195,column:11},end:{line:195,column:12}},loc:{start:{line:195,column:23},end:{line:251,column:5}},line:195},"12":{name:"_callee3",decl:{start:{line:196,column:100},end:{line:196,column:108}},loc:{start:{line:196,column:119},end:{line:244,column:7}},line:196},"13":{name:"_callee3$",decl:{start:{line:199,column:51},end:{line:199,column:60}},loc:{start:{line:199,column:72},end:{line:243,column:9}},line:199},"14":{name:"getOneOrder",decl:{start:{line:246,column:15},end:{line:246,column:26}},loc:{start:{line:246,column:37},end:{line:248,column:7}},line:246},"15":{name:"(anonymous_15)",decl:{start:{line:263,column:11},end:{line:263,column:12}},loc:{start:{line:263,column:23},end:{line:321,column:5}},line:263},"16":{name:"_callee4",decl:{start:{line:264,column:100},end:{line:264,column:108}},loc:{start:{line:264,column:119},end:{line:314,column:7}},line:264},"17":{name:"_callee4$",decl:{start:{line:267,column:51},end:{line:267,column:60}},loc:{start:{line:267,column:72},end:{line:313,column:9}},line:267},"18":{name:"getOrdersbyUser",decl:{start:{line:316,column:15},end:{line:316,column:30}},loc:{start:{line:316,column:41},end:{line:318,column:7}},line:316},"19":{name:"(anonymous_19)",decl:{start:{line:333,column:11},end:{line:333,column:12}},loc:{start:{line:333,column:23},end:{line:397,column:5}},line:333},"20":{name:"_callee5",decl:{start:{line:334,column:100},end:{line:334,column:108}},loc:{start:{line:334,column:119},end:{line:390,column:7}},line:334},"21":{name:"_callee5$",decl:{start:{line:337,column:51},end:{line:337,column:60}},loc:{start:{line:337,column:72},end:{line:389,column:9}},line:337},"22":{name:"cancelOrder",decl:{start:{line:392,column:15},end:{line:392,column:26}},loc:{start:{line:392,column:38},end:{line:394,column:7}},line:392},"23":{name:"(anonymous_23)",decl:{start:{line:409,column:11},end:{line:409,column:12}},loc:{start:{line:409,column:23},end:{line:474,column:5}},line:409},"24":{name:"_callee6",decl:{start:{line:410,column:101},end:{line:410,column:109}},loc:{start:{line:410,column:120},end:{line:467,column:7}},line:410},"25":{name:"_callee6$",decl:{start:{line:413,column:51},end:{line:413,column:60}},loc:{start:{line:413,column:72},end:{line:466,column:9}},line:413},"26":{name:"changeOrderDestination",decl:{start:{line:469,column:15},end:{line:469,column:37}},loc:{start:{line:469,column:50},end:{line:471,column:7}},line:469},"27":{name:"(anonymous_27)",decl:{start:{line:486,column:11},end:{line:486,column:12}},loc:{start:{line:486,column:23},end:{line:563,column:5}},line:486},"28":{name:"_callee7",decl:{start:{line:487,column:101},end:{line:487,column:109}},loc:{start:{line:487,column:120},end:{line:556,column:7}},line:487},"29":{name:"_callee7$",decl:{start:{line:490,column:51},end:{line:490,column:60}},loc:{start:{line:490,column:72},end:{line:555,column:9}},line:490},"30":{name:"changeOrderStatus",decl:{start:{line:558,column:15},end:{line:558,column:32}},loc:{start:{line:558,column:45},end:{line:560,column:7}},line:558},"31":{name:"(anonymous_31)",decl:{start:{line:575,column:11},end:{line:575,column:12}},loc:{start:{line:575,column:23},end:{line:655,column:5}},line:575},"32":{name:"_callee8",decl:{start:{line:576,column:101},end:{line:576,column:109}},loc:{start:{line:576,column:120},end:{line:648,column:7}},line:576},"33":{name:"_callee8$",decl:{start:{line:579,column:51},end:{line:579,column:60}},loc:{start:{line:579,column:72},end:{line:647,column:9}},line:579},"34":{name:"changeOrderPresentLocation",decl:{start:{line:650,column:15},end:{line:650,column:41}},loc:{start:{line:650,column:54},end:{line:652,column:7}},line:650}},branchMap:{"0":{loc:{start:{line:37,column:46},end:{line:37,column:92}},type:"cond-expr",locations:[{start:{line:37,column:70},end:{line:37,column:73}},{start:{line:37,column:76},end:{line:37,column:92}}],line:37},"1":{loc:{start:{line:37,column:46},end:{line:37,column:67}},type:"binary-expr",locations:[{start:{line:37,column:46},end:{line:37,column:49}},{start:{line:37,column:53},end:{line:37,column:67}}],line:37},"2":{loc:{start:{line:61,column:12},end:{line:104,column:13}},type:"switch",locations:[{start:{line:62,column:14},end:{line:70,column:87}},{start:{line:72,column:14},end:{line:81,column:64}},{start:{line:83,column:14},end:{line:90,column:20}},{start:{line:92,column:14},end:{line:99,column:20}},{start:{line:101,column:14},end:{line:101,column:22}},{start:{line:102,column:14},end:{line:103,column:39}}],line:61},"3":{loc:{start:{line:65,column:16},end:{line:68,column:17}},type:"if",locations:[{start:{line:65,column:16},end:{line:68,column:17}},{start:{line:65,column:16},end:{line:68,column:17}}],line:65},"4":{loc:{start:{line:132,column:12},end:{line:173,column:13}},type:"switch",locations:[{start:{line:133,column:14},end:{line:137,column:56}},{start:{line:139,column:14},end:{line:152,column:20}},{start:{line:154,column:14},end:{line:160,column:20}},{start:{line:162,column:14},end:{line:168,column:20}},{start:{line:170,column:14},end:{line:170,column:22}},{start:{line:171,column:14},end:{line:172,column:40}}],line:132},"5":{loc:{start:{line:144,column:16},end:{line:147,column:17}},type:"if",locations:[{start:{line:144,column:16},end:{line:147,column:17}},{start:{line:144,column:16},end:{line:147,column:17}}],line:144},"6":{loc:{start:{line:201,column:12},end:{line:241,column:13}},type:"switch",locations:[{start:{line:202,column:14},end:{line:207,column:68}},{start:{line:209,column:14},end:{line:221,column:20}},{start:{line:223,column:14},end:{line:228,column:20}},{start:{line:230,column:14},end:{line:236,column:20}},{start:{line:238,column:14},end:{line:238,column:22}},{start:{line:239,column:14},end:{line:240,column:40}}],line:201},"7":{loc:{start:{line:213,column:16},end:{line:216,column:17}},type:"if",locations:[{start:{line:213,column:16},end:{line:216,column:17}},{start:{line:213,column:16},end:{line:216,column:17}}],line:213},"8":{loc:{start:{line:269,column:12},end:{line:311,column:13}},type:"switch",locations:[{start:{line:270,column:14},end:{line:275,column:66}},{start:{line:277,column:14},end:{line:290,column:20}},{start:{line:292,column:14},end:{line:298,column:20}},{start:{line:300,column:14},end:{line:306,column:20}},{start:{line:308,column:14},end:{line:308,column:22}},{start:{line:309,column:14},end:{line:310,column:40}}],line:269},"9":{loc:{start:{line:282,column:16},end:{line:285,column:17}},type:"if",locations:[{start:{line:282,column:16},end:{line:285,column:17}},{start:{line:282,column:16},end:{line:285,column:17}}],line:282},"10":{loc:{start:{line:339,column:12},end:{line:387,column:13}},type:"switch",locations:[{start:{line:340,column:14},end:{line:347,column:75}},{start:{line:349,column:14},end:{line:361,column:20}},{start:{line:363,column:14},end:{line:366,column:65}},{start:{line:368,column:14},end:{line:374,column:20}},{start:{line:376,column:14},end:{line:382,column:20}},{start:{line:384,column:14},end:{line:384,column:22}},{start:{line:385,column:14},end:{line:386,column:40}}],line:339},"11":{loc:{start:{line:353,column:16},end:{line:356,column:17}},type:"if",locations:[{start:{line:353,column:16},end:{line:356,column:17}},{start:{line:353,column:16},end:{line:356,column:17}}],line:353},"12":{loc:{start:{line:415,column:12},end:{line:464,column:13}},type:"switch",locations:[{start:{line:416,column:14},end:{line:424,column:67}},{start:{line:426,column:14},end:{line:438,column:20}},{start:{line:440,column:14},end:{line:443,column:65}},{start:{line:445,column:14},end:{line:451,column:20}},{start:{line:453,column:14},end:{line:459,column:20}},{start:{line:461,column:14},end:{line:461,column:22}},{start:{line:462,column:14},end:{line:463,column:40}}],line:415},"13":{loc:{start:{line:430,column:16},end:{line:433,column:17}},type:"if",locations:[{start:{line:430,column:16},end:{line:433,column:17}},{start:{line:430,column:16},end:{line:433,column:17}}],line:430},"14":{loc:{start:{line:441,column:26},end:{line:441,column:57}},type:"binary-expr",locations:[{start:{line:441,column:26},end:{line:441,column:35}},{start:{line:441,column:39},end:{line:441,column:57}}],line:441},"15":{loc:{start:{line:441,column:59},end:{line:441,column:84}},type:"binary-expr",locations:[{start:{line:441,column:59},end:{line:441,column:65}},{start:{line:441,column:69},end:{line:441,column:84}}],line:441},"16":{loc:{start:{line:441,column:86},end:{line:441,column:117}},type:"binary-expr",locations:[{start:{line:441,column:86},end:{line:441,column:95}},{start:{line:441,column:99},end:{line:441,column:117}}],line:441},"17":{loc:{start:{line:492,column:12},end:{line:553,column:13}},type:"switch",locations:[{start:{line:493,column:14},end:{line:501,column:67}},{start:{line:503,column:14},end:{line:515,column:20}},{start:{line:517,column:14},end:{line:520,column:65}},{start:{line:522,column:14},end:{line:525,column:73}},{start:{line:527,column:14},end:{line:540,column:20}},{start:{line:542,column:14},end:{line:548,column:20}},{start:{line:550,column:14},end:{line:550,column:22}},{start:{line:551,column:14},end:{line:552,column:40}}],line:492},"18":{loc:{start:{line:507,column:16},end:{line:510,column:17}},type:"if",locations:[{start:{line:507,column:16},end:{line:510,column:17}},{start:{line:507,column:16},end:{line:510,column:17}}],line:507},"19":{loc:{start:{line:518,column:26},end:{line:518,column:57}},type:"binary-expr",locations:[{start:{line:518,column:26},end:{line:518,column:39}},{start:{line:518,column:43},end:{line:518,column:57}}],line:518},"20":{loc:{start:{line:581,column:12},end:{line:645,column:13}},type:"switch",locations:[{start:{line:582,column:14},end:{line:590,column:67}},{start:{line:592,column:14},end:{line:604,column:20}},{start:{line:606,column:14},end:{line:610,column:65}},{start:{line:612,column:14},end:{line:615,column:73}},{start:{line:617,column:14},end:{line:631,column:20}},{start:{line:633,column:14},end:{line:640,column:20}},{start:{line:642,column:14},end:{line:642,column:22}},{start:{line:643,column:14},end:{line:644,column:40}}],line:581},"21":{loc:{start:{line:596,column:16},end:{line:599,column:17}},type:"if",locations:[{start:{line:596,column:16},end:{line:599,column:17}},{start:{line:596,column:16},end:{line:599,column:17}}],line:596}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0},b:{"0":[0,0],"1":[0,0],"2":[0,0,0,0,0,0],"3":[0,0],"4":[0,0,0,0,0,0],"5":[0,0],"6":[0,0,0,0,0,0],"7":[0,0],"8":[0,0,0,0,0,0],"9":[0,0],"10":[0,0,0,0,0,0,0],"11":[0,0],"12":[0,0,0,0,0,0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0,0,0,0,0,0,0],"18":[0,0],"19":[0,0],"20":[0,0,0,0,0,0,0,0],"21":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_2hckn7e27g.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _regenerator=(cov_2hckn7e27g.s[1]++,require('babel-runtime/regenerator'));var _regenerator2=(cov_2hckn7e27g.s[2]++,_interopRequireDefault(_regenerator));var _asyncToGenerator2=(cov_2hckn7e27g.s[3]++,require('babel-runtime/helpers/asyncToGenerator'));var _asyncToGenerator3=(cov_2hckn7e27g.s[4]++,_interopRequireDefault(_asyncToGenerator2));var _classCallCheck2=(cov_2hckn7e27g.s[5]++,require('babel-runtime/helpers/classCallCheck'));var _classCallCheck3=(cov_2hckn7e27g.s[6]++,_interopRequireDefault(_classCallCheck2));var _createClass2=(cov_2hckn7e27g.s[7]++,require('babel-runtime/helpers/createClass'));var _createClass3=(cov_2hckn7e27g.s[8]++,_interopRequireDefault(_createClass2));var _moment=(cov_2hckn7e27g.s[9]++,require('moment'));var _moment2=(cov_2hckn7e27g.s[10]++,_interopRequireDefault(_moment));var _check=(cov_2hckn7e27g.s[11]++,require('express-validator/check'));var _sendMail=(cov_2hckn7e27g.s[12]++,require('../mailer/sendMail'));var _sendMail2=(cov_2hckn7e27g.s[13]++,_interopRequireDefault(_sendMail));var _model=(cov_2hckn7e27g.s[14]++,require('../model'));var _model2=(cov_2hckn7e27g.s[15]++,_interopRequireDefault(_model));function _interopRequireDefault(obj){cov_2hckn7e27g.f[0]++;cov_2hckn7e27g.s[16]++;return(cov_2hckn7e27g.b[1][0]++,obj)&&(cov_2hckn7e27g.b[1][1]++,obj.__esModule)?(cov_2hckn7e27g.b[0][0]++,obj):(cov_2hckn7e27g.b[0][1]++,{default:obj});}/** Orders Controller Class */var OrderController=(cov_2hckn7e27g.s[17]++,function(){cov_2hckn7e27g.f[1]++;function OrderController(){cov_2hckn7e27g.f[2]++;cov_2hckn7e27g.s[18]++;(0,_classCallCheck3.default)(this,OrderController);}cov_2hckn7e27g.s[19]++;(0,_createClass3.default)(OrderController,null,[{key:'createOrder',/**
     * @desc POST api/v1/parcels
     * @param {object} req
     * @param {object} res
     * @returns {object} created order
     * @memberof Order
     */value:function(){cov_2hckn7e27g.f[3]++;var _ref=(cov_2hckn7e27g.s[20]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee(req,res){cov_2hckn7e27g.f[4]++;var errors,_req$body,parcelDescription,parcelWeight,fromAddress,fromCity,fromCountry,toAddress,toCity,toCountry,receiver,receiverPhone,orderPrice,userId,presentLocation,queryText,values,_ref2,rows;cov_2hckn7e27g.s[21]++;return _regenerator2.default.wrap(function _callee$(_context){cov_2hckn7e27g.f[5]++;cov_2hckn7e27g.s[22]++;while(1){cov_2hckn7e27g.s[23]++;switch(_context.prev=_context.next){case 0:cov_2hckn7e27g.b[2][0]++;cov_2hckn7e27g.s[24]++;errors=(0,_check.validationResult)(req);cov_2hckn7e27g.s[25]++;if(errors.isEmpty()){cov_2hckn7e27g.b[3][0]++;cov_2hckn7e27g.s[26]++;_context.next=3;cov_2hckn7e27g.s[27]++;break;}else{cov_2hckn7e27g.b[3][1]++;}cov_2hckn7e27g.s[28]++;return _context.abrupt('return',res.status(400).json(errors.array()));case 3:cov_2hckn7e27g.b[2][1]++;cov_2hckn7e27g.s[29]++;_req$body=req.body,parcelDescription=_req$body.parcelDescription,parcelWeight=_req$body.parcelWeight,fromAddress=_req$body.fromAddress,fromCity=_req$body.fromCity,fromCountry=_req$body.fromCountry,toAddress=_req$body.toAddress,toCity=_req$body.toCity,toCountry=_req$body.toCountry,receiver=_req$body.receiver,receiverPhone=_req$body.receiverPhone;cov_2hckn7e27g.s[30]++;orderPrice=parcelWeight*150;cov_2hckn7e27g.s[31]++;userId=parseInt(req.user.userId,0);cov_2hckn7e27g.s[32]++;presentLocation=fromAddress;cov_2hckn7e27g.s[33]++;queryText='INSERT INTO \n      orders(parcel_descrpt, parcel_wgt, price, from_address, from_city, from_country, to_address, to_city, to_country, receiver, receiver_phone, present_location, userid, created_on, updated_on) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15) returning *';cov_2hckn7e27g.s[34]++;values=[parcelDescription,parcelWeight,orderPrice,fromAddress,fromCity,fromCountry,toAddress,toCity,toCountry,receiver,receiverPhone,presentLocation,userId,(0,_moment2.default)(new Date()),(0,_moment2.default)(new Date())];cov_2hckn7e27g.s[35]++;_context.prev=9;cov_2hckn7e27g.s[36]++;_context.next=12;cov_2hckn7e27g.s[37]++;return _model2.default.query(queryText,values);case 12:cov_2hckn7e27g.b[2][2]++;cov_2hckn7e27g.s[38]++;_ref2=_context.sent;cov_2hckn7e27g.s[39]++;rows=_ref2.rows;cov_2hckn7e27g.s[40]++;return _context.abrupt('return',res.status(201).json({status:'success',message:'parcel delivery order created successully',order:rows[0]}));case 17:cov_2hckn7e27g.b[2][3]++;cov_2hckn7e27g.s[41]++;_context.prev=17;cov_2hckn7e27g.s[42]++;_context.t0=_context['catch'](9);cov_2hckn7e27g.s[43]++;return _context.abrupt('return',res.status(400).json({status:'error',error:'order not created',err:_context.t0}));case 20:cov_2hckn7e27g.b[2][4]++;case'end':cov_2hckn7e27g.b[2][5]++;cov_2hckn7e27g.s[44]++;return _context.stop();}}},_callee,this,[[9,17]]);})));function createOrder(_x,_x2){cov_2hckn7e27g.f[6]++;cov_2hckn7e27g.s[45]++;return _ref.apply(this,arguments);}cov_2hckn7e27g.s[46]++;return createOrder;}()/**
     * @desc GET api/v1/parcels
     * @param {object} req
     * @param {object} res
     * @returns {object} all orders
     * @memberof Order
     */},{key:'getAllOrders',value:function(){cov_2hckn7e27g.f[7]++;var _ref3=(cov_2hckn7e27g.s[47]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee2(req,res){cov_2hckn7e27g.f[8]++;var queryText,_ref4,rows,rowCount;cov_2hckn7e27g.s[48]++;return _regenerator2.default.wrap(function _callee2$(_context2){cov_2hckn7e27g.f[9]++;cov_2hckn7e27g.s[49]++;while(1){cov_2hckn7e27g.s[50]++;switch(_context2.prev=_context2.next){case 0:cov_2hckn7e27g.b[4][0]++;cov_2hckn7e27g.s[51]++;queryText='SELECT * FROM orders';cov_2hckn7e27g.s[52]++;_context2.prev=1;cov_2hckn7e27g.s[53]++;_context2.next=4;cov_2hckn7e27g.s[54]++;return _model2.default.query(queryText);case 4:cov_2hckn7e27g.b[4][1]++;cov_2hckn7e27g.s[55]++;_ref4=_context2.sent;cov_2hckn7e27g.s[56]++;rows=_ref4.rows;cov_2hckn7e27g.s[57]++;rowCount=_ref4.rowCount;cov_2hckn7e27g.s[58]++;if(!(rows.length===0)){cov_2hckn7e27g.b[5][0]++;cov_2hckn7e27g.s[59]++;_context2.next=9;cov_2hckn7e27g.s[60]++;break;}else{cov_2hckn7e27g.b[5][1]++;}cov_2hckn7e27g.s[61]++;return _context2.abrupt('return',res.status(404).json({status:'failure',message:'orders not found'}));case 9:cov_2hckn7e27g.b[4][2]++;cov_2hckn7e27g.s[62]++;return _context2.abrupt('return',res.status(200).json({status:'success',message:'available orders',rows:rows,total:rowCount}));case 12:cov_2hckn7e27g.b[4][3]++;cov_2hckn7e27g.s[63]++;_context2.prev=12;cov_2hckn7e27g.s[64]++;_context2.t0=_context2['catch'](1);cov_2hckn7e27g.s[65]++;return _context2.abrupt('return',res.status(400).json({status:'error',error:'could not get the orders'}));case 15:cov_2hckn7e27g.b[4][4]++;case'end':cov_2hckn7e27g.b[4][5]++;cov_2hckn7e27g.s[66]++;return _context2.stop();}}},_callee2,this,[[1,12]]);})));function getAllOrders(_x3,_x4){cov_2hckn7e27g.f[10]++;cov_2hckn7e27g.s[67]++;return _ref3.apply(this,arguments);}cov_2hckn7e27g.s[68]++;return getAllOrders;}()/**
     * @desc GET api/v1/parcels/:parcelId
     * @param {object} req
     * @param {object} res
     * @returns {object} one order
     * @memberof Order
     */},{key:'getOneOrder',value:function(){cov_2hckn7e27g.f[11]++;var _ref5=(cov_2hckn7e27g.s[69]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee3(req,res){cov_2hckn7e27g.f[12]++;var parcelId,queryText,_ref6,rows;cov_2hckn7e27g.s[70]++;return _regenerator2.default.wrap(function _callee3$(_context3){cov_2hckn7e27g.f[13]++;cov_2hckn7e27g.s[71]++;while(1){cov_2hckn7e27g.s[72]++;switch(_context3.prev=_context3.next){case 0:cov_2hckn7e27g.b[6][0]++;cov_2hckn7e27g.s[73]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[74]++;queryText='SELECT * FROM orders WHERE id=$1';cov_2hckn7e27g.s[75]++;_context3.prev=2;cov_2hckn7e27g.s[76]++;_context3.next=5;cov_2hckn7e27g.s[77]++;return _model2.default.query(queryText,[parcelId]);case 5:cov_2hckn7e27g.b[6][1]++;cov_2hckn7e27g.s[78]++;_ref6=_context3.sent;cov_2hckn7e27g.s[79]++;rows=_ref6.rows;cov_2hckn7e27g.s[80]++;if(rows[0]){cov_2hckn7e27g.b[7][0]++;cov_2hckn7e27g.s[81]++;_context3.next=9;cov_2hckn7e27g.s[82]++;break;}else{cov_2hckn7e27g.b[7][1]++;}cov_2hckn7e27g.s[83]++;return _context3.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 9:cov_2hckn7e27g.b[6][2]++;cov_2hckn7e27g.s[84]++;return _context3.abrupt('return',res.status(200).json({status:'success',message:'user orders found',order:rows[0]}));case 12:cov_2hckn7e27g.b[6][3]++;cov_2hckn7e27g.s[85]++;_context3.prev=12;cov_2hckn7e27g.s[86]++;_context3.t0=_context3['catch'](2);cov_2hckn7e27g.s[87]++;return _context3.abrupt('return',res.status(400).json({status:'error',error:'could not get user orders'}));case 15:cov_2hckn7e27g.b[6][4]++;case'end':cov_2hckn7e27g.b[6][5]++;cov_2hckn7e27g.s[88]++;return _context3.stop();}}},_callee3,this,[[2,12]]);})));function getOneOrder(_x5,_x6){cov_2hckn7e27g.f[14]++;cov_2hckn7e27g.s[89]++;return _ref5.apply(this,arguments);}cov_2hckn7e27g.s[90]++;return getOneOrder;}()/**
     * @desc GET api/v1/users/:userId/parcels
     * @param {object} req
     * @param {object} res
     * @returns {object} user orders
     * @memberof Order
     */},{key:'getOrdersbyUser',value:function(){cov_2hckn7e27g.f[15]++;var _ref7=(cov_2hckn7e27g.s[91]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee4(req,res){cov_2hckn7e27g.f[16]++;var userId,queryText,_ref8,rows,rowCount;cov_2hckn7e27g.s[92]++;return _regenerator2.default.wrap(function _callee4$(_context4){cov_2hckn7e27g.f[17]++;cov_2hckn7e27g.s[93]++;while(1){cov_2hckn7e27g.s[94]++;switch(_context4.prev=_context4.next){case 0:cov_2hckn7e27g.b[8][0]++;cov_2hckn7e27g.s[95]++;userId=parseInt(req.params.userId,0);cov_2hckn7e27g.s[96]++;queryText='SELECT * FROM orders WHERE userid=$1';cov_2hckn7e27g.s[97]++;_context4.prev=2;cov_2hckn7e27g.s[98]++;_context4.next=5;cov_2hckn7e27g.s[99]++;return _model2.default.query(queryText,[userId]);case 5:cov_2hckn7e27g.b[8][1]++;cov_2hckn7e27g.s[100]++;_ref8=_context4.sent;cov_2hckn7e27g.s[101]++;rows=_ref8.rows;cov_2hckn7e27g.s[102]++;rowCount=_ref8.rowCount;cov_2hckn7e27g.s[103]++;if(!(rows.length===0)){cov_2hckn7e27g.b[9][0]++;cov_2hckn7e27g.s[104]++;_context4.next=10;cov_2hckn7e27g.s[105]++;break;}else{cov_2hckn7e27g.b[9][1]++;}cov_2hckn7e27g.s[106]++;return _context4.abrupt('return',res.status(404).json({status:'failure',message:'user orders not found'}));case 10:cov_2hckn7e27g.b[8][2]++;cov_2hckn7e27g.s[107]++;return _context4.abrupt('return',res.status(200).json({status:'success',message:'user orders',rows:rows,total:rowCount}));case 13:cov_2hckn7e27g.b[8][3]++;cov_2hckn7e27g.s[108]++;_context4.prev=13;cov_2hckn7e27g.s[109]++;_context4.t0=_context4['catch'](2);cov_2hckn7e27g.s[110]++;return _context4.abrupt('return',res.status(400).json({status:'error',error:'could not get the order'}));case 16:cov_2hckn7e27g.b[8][4]++;case'end':cov_2hckn7e27g.b[8][5]++;cov_2hckn7e27g.s[111]++;return _context4.stop();}}},_callee4,this,[[2,13]]);})));function getOrdersbyUser(_x7,_x8){cov_2hckn7e27g.f[18]++;cov_2hckn7e27g.s[112]++;return _ref7.apply(this,arguments);}cov_2hckn7e27g.s[113]++;return getOrdersbyUser;}()/**
     * @desc PUT api/v1/parcels/:parcelId/cancel
     * @param {object} req
     * @param {object} res
     * @returns {object} cancelled order
     * @memberof Order
     */},{key:'cancelOrder',value:function(){cov_2hckn7e27g.f[19]++;var _ref9=(cov_2hckn7e27g.s[114]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee5(req,res){cov_2hckn7e27g.f[20]++;var userId,parcelId,findText,updateText,_ref10,rows,values,result;cov_2hckn7e27g.s[115]++;return _regenerator2.default.wrap(function _callee5$(_context5){cov_2hckn7e27g.f[21]++;cov_2hckn7e27g.s[116]++;while(1){cov_2hckn7e27g.s[117]++;switch(_context5.prev=_context5.next){case 0:cov_2hckn7e27g.b[10][0]++;cov_2hckn7e27g.s[118]++;userId=parseInt(req.user.userId,0);cov_2hckn7e27g.s[119]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[120]++;findText='SELECT * FROM orders WHERE id=$1 AND userid=$2';cov_2hckn7e27g.s[121]++;updateText='UPDATE orders SET cancelled=$1, updated_on=$2 WHERE id=$3 AND userid=$4 returning *';cov_2hckn7e27g.s[122]++;_context5.prev=4;cov_2hckn7e27g.s[123]++;_context5.next=7;cov_2hckn7e27g.s[124]++;return _model2.default.query(findText,[parcelId,userId]);case 7:cov_2hckn7e27g.b[10][1]++;cov_2hckn7e27g.s[125]++;_ref10=_context5.sent;cov_2hckn7e27g.s[126]++;rows=_ref10.rows;cov_2hckn7e27g.s[127]++;if(rows[0]){cov_2hckn7e27g.b[11][0]++;cov_2hckn7e27g.s[128]++;_context5.next=11;cov_2hckn7e27g.s[129]++;break;}else{cov_2hckn7e27g.b[11][1]++;}cov_2hckn7e27g.s[130]++;return _context5.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 11:cov_2hckn7e27g.b[10][2]++;cov_2hckn7e27g.s[131]++;values=['true',(0,_moment2.default)(new Date()),parcelId,userId];cov_2hckn7e27g.s[132]++;_context5.next=14;cov_2hckn7e27g.s[133]++;return _model2.default.query(updateText,values);case 14:cov_2hckn7e27g.b[10][3]++;cov_2hckn7e27g.s[134]++;result=_context5.sent;cov_2hckn7e27g.s[135]++;return _context5.abrupt('return',res.status(200).json({status:'success',message:'order cancelled',order:result.rows[0]}));case 18:cov_2hckn7e27g.b[10][4]++;cov_2hckn7e27g.s[136]++;_context5.prev=18;cov_2hckn7e27g.s[137]++;_context5.t0=_context5['catch'](4);cov_2hckn7e27g.s[138]++;return _context5.abrupt('return',res.status(400).json({status:'error',error:'could not cancell order'}));case 21:cov_2hckn7e27g.b[10][5]++;case'end':cov_2hckn7e27g.b[10][6]++;cov_2hckn7e27g.s[139]++;return _context5.stop();}}},_callee5,this,[[4,18]]);})));function cancelOrder(_x9,_x10){cov_2hckn7e27g.f[22]++;cov_2hckn7e27g.s[140]++;return _ref9.apply(this,arguments);}cov_2hckn7e27g.s[141]++;return cancelOrder;}()/**
     * @desc PUT api/v1/parcels/:parcelId/destination
     * @param {object} req
     * @param {object} res
     * @returns {object} changed destination order
     * @memberof Order
     */},{key:'changeOrderDestination',value:function(){cov_2hckn7e27g.f[23]++;var _ref11=(cov_2hckn7e27g.s[142]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee6(req,res){cov_2hckn7e27g.f[24]++;var _req$body2,toAddress,toCity,toCountry,userId,parcelId,findText,updateText,_ref12,rows,values,result;cov_2hckn7e27g.s[143]++;return _regenerator2.default.wrap(function _callee6$(_context6){cov_2hckn7e27g.f[25]++;cov_2hckn7e27g.s[144]++;while(1){cov_2hckn7e27g.s[145]++;switch(_context6.prev=_context6.next){case 0:cov_2hckn7e27g.b[12][0]++;cov_2hckn7e27g.s[146]++;_req$body2=req.body,toAddress=_req$body2.toAddress,toCity=_req$body2.toCity,toCountry=_req$body2.toCountry;cov_2hckn7e27g.s[147]++;userId=parseInt(req.user.userId,0);cov_2hckn7e27g.s[148]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[149]++;findText='SELECT * FROM orders WHERE id=$1';cov_2hckn7e27g.s[150]++;updateText='UPDATE orders SET to_address=$1, to_city=$2, to_country=$3, updated_on=$4 WHERE id=$5 AND userid=$6 returning *';cov_2hckn7e27g.s[151]++;_context6.prev=5;cov_2hckn7e27g.s[152]++;_context6.next=8;cov_2hckn7e27g.s[153]++;return _model2.default.query(findText,[parcelId]);case 8:cov_2hckn7e27g.b[12][1]++;cov_2hckn7e27g.s[154]++;_ref12=_context6.sent;cov_2hckn7e27g.s[155]++;rows=_ref12.rows;cov_2hckn7e27g.s[156]++;if(rows[0]){cov_2hckn7e27g.b[13][0]++;cov_2hckn7e27g.s[157]++;_context6.next=12;cov_2hckn7e27g.s[158]++;break;}else{cov_2hckn7e27g.b[13][1]++;}cov_2hckn7e27g.s[159]++;return _context6.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 12:cov_2hckn7e27g.b[12][2]++;cov_2hckn7e27g.s[160]++;values=[(cov_2hckn7e27g.b[14][0]++,toAddress)||(cov_2hckn7e27g.b[14][1]++,rows[0].to_address),(cov_2hckn7e27g.b[15][0]++,toCity)||(cov_2hckn7e27g.b[15][1]++,rows[0].to_city),(cov_2hckn7e27g.b[16][0]++,toCountry)||(cov_2hckn7e27g.b[16][1]++,rows[0].to_country),(0,_moment2.default)(new Date()),parcelId,userId];cov_2hckn7e27g.s[161]++;_context6.next=15;cov_2hckn7e27g.s[162]++;return _model2.default.query(updateText,values);case 15:cov_2hckn7e27g.b[12][3]++;cov_2hckn7e27g.s[163]++;result=_context6.sent;cov_2hckn7e27g.s[164]++;return _context6.abrupt('return',res.status(200).json({status:'success',message:'order destination changed',order:result.rows[0]}));case 19:cov_2hckn7e27g.b[12][4]++;cov_2hckn7e27g.s[165]++;_context6.prev=19;cov_2hckn7e27g.s[166]++;_context6.t0=_context6['catch'](5);cov_2hckn7e27g.s[167]++;return _context6.abrupt('return',res.status(400).json({status:'error',error:'could not change order destination'}));case 22:cov_2hckn7e27g.b[12][5]++;case'end':cov_2hckn7e27g.b[12][6]++;cov_2hckn7e27g.s[168]++;return _context6.stop();}}},_callee6,this,[[5,19]]);})));function changeOrderDestination(_x11,_x12){cov_2hckn7e27g.f[26]++;cov_2hckn7e27g.s[169]++;return _ref11.apply(this,arguments);}cov_2hckn7e27g.s[170]++;return changeOrderDestination;}()/**
     * @desc PUT api/v1/parcels/:parcelId/status
     * @param {object} req
     * @param {object} res
     * @returns {object} changed status order
     * @memberof Order
     */},{key:'changeOrderStatus',value:function(){cov_2hckn7e27g.f[27]++;var _ref13=(cov_2hckn7e27g.s[171]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee7(req,res){cov_2hckn7e27g.f[28]++;var status,parcelId,findUser,findText,updateText,_ref14,rows,values,result,userInfo,to,subject,user,message;cov_2hckn7e27g.s[172]++;return _regenerator2.default.wrap(function _callee7$(_context7){cov_2hckn7e27g.f[29]++;cov_2hckn7e27g.s[173]++;while(1){cov_2hckn7e27g.s[174]++;switch(_context7.prev=_context7.next){case 0:cov_2hckn7e27g.b[17][0]++;cov_2hckn7e27g.s[175]++;status=req.body.status;cov_2hckn7e27g.s[176]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[177]++;findUser='SELECT * FROM users WHERE id=$1';cov_2hckn7e27g.s[178]++;findText='SELECT * FROM orders WHERE id=$1';cov_2hckn7e27g.s[179]++;updateText='UPDATE orders SET status=$1, updated_on=$2 WHERE id=$3 returning *';cov_2hckn7e27g.s[180]++;_context7.prev=5;cov_2hckn7e27g.s[181]++;_context7.next=8;cov_2hckn7e27g.s[182]++;return _model2.default.query(findText,[parcelId]);case 8:cov_2hckn7e27g.b[17][1]++;cov_2hckn7e27g.s[183]++;_ref14=_context7.sent;cov_2hckn7e27g.s[184]++;rows=_ref14.rows;cov_2hckn7e27g.s[185]++;if(rows[0]){cov_2hckn7e27g.b[18][0]++;cov_2hckn7e27g.s[186]++;_context7.next=12;cov_2hckn7e27g.s[187]++;break;}else{cov_2hckn7e27g.b[18][1]++;}cov_2hckn7e27g.s[188]++;return _context7.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 12:cov_2hckn7e27g.b[17][2]++;cov_2hckn7e27g.s[189]++;values=[(cov_2hckn7e27g.b[19][0]++,status.trim())||(cov_2hckn7e27g.b[19][1]++,rows[0].status),(0,_moment2.default)(new Date()),parcelId];cov_2hckn7e27g.s[190]++;_context7.next=15;cov_2hckn7e27g.s[191]++;return _model2.default.query(updateText,values);case 15:cov_2hckn7e27g.b[17][3]++;cov_2hckn7e27g.s[192]++;result=_context7.sent;cov_2hckn7e27g.s[193]++;_context7.next=18;cov_2hckn7e27g.s[194]++;return _model2.default.query(findUser,[rows[0].userid]);case 18:cov_2hckn7e27g.b[17][4]++;cov_2hckn7e27g.s[195]++;userInfo=_context7.sent;cov_2hckn7e27g.s[196]++;to=userInfo.rows[0].email;cov_2hckn7e27g.s[197]++;subject='Notification on parcel status';cov_2hckn7e27g.s[198]++;user=userInfo.rows[0].firstname;cov_2hckn7e27g.s[199]++;message='\n        <h3 style="text-transform:capitalize">Hello '+user+',</h3><p>Your parcel is '+status+'</p>';cov_2hckn7e27g.s[200]++;(0,_sendMail2.default)(to,subject,message,user,res);cov_2hckn7e27g.s[201]++;return _context7.abrupt('return',res.status(200).json({status:'success',message:'order status changed',order:result.rows[0]}));case 27:cov_2hckn7e27g.b[17][5]++;cov_2hckn7e27g.s[202]++;_context7.prev=27;cov_2hckn7e27g.s[203]++;_context7.t0=_context7['catch'](5);cov_2hckn7e27g.s[204]++;return _context7.abrupt('return',res.status(400).json({status:'error',error:'could not change order status'}));case 30:cov_2hckn7e27g.b[17][6]++;case'end':cov_2hckn7e27g.b[17][7]++;cov_2hckn7e27g.s[205]++;return _context7.stop();}}},_callee7,this,[[5,27]]);})));function changeOrderStatus(_x13,_x14){cov_2hckn7e27g.f[30]++;cov_2hckn7e27g.s[206]++;return _ref13.apply(this,arguments);}cov_2hckn7e27g.s[207]++;return changeOrderStatus;}()/**
     * @desc PUT api/v1/parcels/:parcelId/presentLocation
     * @param {object} req
     * @param {object} res
     * @returns {object} changed present location order
     * @memberof Order
     */},{key:'changeOrderPresentLocation',value:function(){cov_2hckn7e27g.f[31]++;var _ref15=(cov_2hckn7e27g.s[208]++,(0,_asyncToGenerator3.default)(/*#__PURE__*/_regenerator2.default.mark(function _callee8(req,res){cov_2hckn7e27g.f[32]++;var _req$body3,fromAddress,fromCity,fromCountry,parcelId,findUser,findText,updateText,_ref16,rows,presentLocation,values,result,userInfo,to,subject,user,message;cov_2hckn7e27g.s[209]++;return _regenerator2.default.wrap(function _callee8$(_context8){cov_2hckn7e27g.f[33]++;cov_2hckn7e27g.s[210]++;while(1){cov_2hckn7e27g.s[211]++;switch(_context8.prev=_context8.next){case 0:cov_2hckn7e27g.b[20][0]++;cov_2hckn7e27g.s[212]++;_req$body3=req.body,fromAddress=_req$body3.fromAddress,fromCity=_req$body3.fromCity,fromCountry=_req$body3.fromCountry;cov_2hckn7e27g.s[213]++;parcelId=parseInt(req.params.parcelId,0);cov_2hckn7e27g.s[214]++;findUser='SELECT * FROM users WHERE id=$1';cov_2hckn7e27g.s[215]++;findText='SELECT * FROM orders WHERE id=$1';cov_2hckn7e27g.s[216]++;updateText='UPDATE orders SET present_location=$1, updated_on=$2 WHERE id=$3 returning *';cov_2hckn7e27g.s[217]++;_context8.prev=5;cov_2hckn7e27g.s[218]++;_context8.next=8;cov_2hckn7e27g.s[219]++;return _model2.default.query(findText,[parcelId]);case 8:cov_2hckn7e27g.b[20][1]++;cov_2hckn7e27g.s[220]++;_ref16=_context8.sent;cov_2hckn7e27g.s[221]++;rows=_ref16.rows;cov_2hckn7e27g.s[222]++;if(rows[0]){cov_2hckn7e27g.b[21][0]++;cov_2hckn7e27g.s[223]++;_context8.next=12;cov_2hckn7e27g.s[224]++;break;}else{cov_2hckn7e27g.b[21][1]++;}cov_2hckn7e27g.s[225]++;return _context8.abrupt('return',res.status(404).json({status:'failure',message:'order not found'}));case 12:cov_2hckn7e27g.b[20][2]++;cov_2hckn7e27g.s[226]++;presentLocation=fromAddress+' '+fromCity+', '+fromCountry;cov_2hckn7e27g.s[227]++;values=[presentLocation,(0,_moment2.default)(new Date()),parcelId];cov_2hckn7e27g.s[228]++;_context8.next=16;cov_2hckn7e27g.s[229]++;return _model2.default.query(updateText,values);case 16:cov_2hckn7e27g.b[20][3]++;cov_2hckn7e27g.s[230]++;result=_context8.sent;cov_2hckn7e27g.s[231]++;_context8.next=19;cov_2hckn7e27g.s[232]++;return _model2.default.query(findUser,[rows[0].userid]);case 19:cov_2hckn7e27g.b[20][4]++;cov_2hckn7e27g.s[233]++;userInfo=_context8.sent;cov_2hckn7e27g.s[234]++;to=userInfo.rows[0].email;cov_2hckn7e27g.s[235]++;subject='Notification on parcel location';cov_2hckn7e27g.s[236]++;user=userInfo.rows[0].firstname;cov_2hckn7e27g.s[237]++;message='\n      <h3 style="text-transform:capitalize">Hello '+user+',</h3>\n      <p>Your parcel is currently at '+presentLocation+'</p>';cov_2hckn7e27g.s[238]++;(0,_sendMail2.default)(to,subject,message);cov_2hckn7e27g.s[239]++;return _context8.abrupt('return',res.status(200).json({status:'success',message:'order present location changed',order:result.rows[0]}));case 28:cov_2hckn7e27g.b[20][5]++;cov_2hckn7e27g.s[240]++;_context8.prev=28;cov_2hckn7e27g.s[241]++;_context8.t0=_context8['catch'](5);cov_2hckn7e27g.s[242]++;return _context8.abrupt('return',res.status(400).json({status:'error',err:_context8.t0,error:'could not change order present location'}));case 31:cov_2hckn7e27g.b[20][6]++;case'end':cov_2hckn7e27g.b[20][7]++;cov_2hckn7e27g.s[243]++;return _context8.stop();}}},_callee8,this,[[5,28]]);})));function changeOrderPresentLocation(_x15,_x16){cov_2hckn7e27g.f[34]++;cov_2hckn7e27g.s[244]++;return _ref15.apply(this,arguments);}cov_2hckn7e27g.s[245]++;return changeOrderPresentLocation;}()}]);cov_2hckn7e27g.s[246]++;return OrderController;}());cov_2hckn7e27g.s[247]++;exports.default=OrderController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9yZGVyQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJPcmRlckNvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJlcnJvcnMiLCJpc0VtcHR5Iiwic3RhdHVzIiwianNvbiIsImFycmF5IiwiYm9keSIsInBhcmNlbERlc2NyaXB0aW9uIiwicGFyY2VsV2VpZ2h0IiwiZnJvbUFkZHJlc3MiLCJmcm9tQ2l0eSIsImZyb21Db3VudHJ5IiwidG9BZGRyZXNzIiwidG9DaXR5IiwidG9Db3VudHJ5IiwicmVjZWl2ZXIiLCJyZWNlaXZlclBob25lIiwib3JkZXJQcmljZSIsInVzZXJJZCIsInBhcnNlSW50IiwidXNlciIsInByZXNlbnRMb2NhdGlvbiIsInF1ZXJ5VGV4dCIsInZhbHVlcyIsIkRhdGUiLCJkYiIsInF1ZXJ5Iiwicm93cyIsIm1lc3NhZ2UiLCJvcmRlciIsImVycm9yIiwiZXJyIiwicm93Q291bnQiLCJsZW5ndGgiLCJ0b3RhbCIsInBhcmNlbElkIiwicGFyYW1zIiwiZmluZFRleHQiLCJ1cGRhdGVUZXh0IiwicmVzdWx0IiwidG9fYWRkcmVzcyIsInRvX2NpdHkiLCJ0b19jb3VudHJ5IiwiZmluZFVzZXIiLCJ0cmltIiwidXNlcmlkIiwidXNlckluZm8iLCJ0byIsImVtYWlsIiwic3ViamVjdCIsImZpcnN0bmFtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBQ0E7O0FBQ0E7Ozs7QUFFQTs7Ozs7O0FBRUE7SUFDcUJBLGU7Ozs7Ozs7O0FBQ25COzs7Ozs7OzsyR0FPeUJDLEcsRUFBS0MsRzs7Ozs7OztBQUN0QkMsc0IsR0FBUyw2QkFBaUJGLEdBQWpCLEM7O29CQUNWRSxPQUFPQyxPQUFQLEU7Ozs7O2lEQUNJRixJQUFJRyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUJILE9BQU9JLEtBQVAsRUFBckIsQzs7OzRCQWNMTixJQUFJTyxJLEVBVk5DLGlCLGFBQUFBLGlCLEVBQ0FDLFksYUFBQUEsWSxFQUNB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WSxDQUFaO0FBSG1CLGlCQUFyQixDOzs7OztrREFNQTNCLElBQUlHLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkQsMEJBQVEsT0FEa0I7QUFFMUI0QixtQ0FGMEI7QUFHMUJELHlCQUFPO0FBSG1CLGlCQUFyQixDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrQkF2VVFoQyxlIiwiZmlsZSI6Ik9yZGVyQ29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS9va3d1a3dlL0Rlc2t0b3AvQW5kZWxhL3NlbmRJVC9zZXJ2ZXIvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyB2YWxpZGF0aW9uUmVzdWx0IH0gZnJvbSAnZXhwcmVzcy12YWxpZGF0b3IvY2hlY2snO1xuaW1wb3J0IHNlbmROb3RpZmljYXRpb24gZnJvbSAnLi4vbWFpbGVyL3NlbmRNYWlsJztcblxuaW1wb3J0IGRiIGZyb20gJy4uL21vZGVsJztcblxuLyoqIE9yZGVycyBDb250cm9sbGVyIENsYXNzICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcmRlckNvbnRyb2xsZXIge1xuICAvKipcbiAgICogQGRlc2MgUE9TVCBhcGkvdjEvcGFyY2Vsc1xuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXNcbiAgICogQHJldHVybnMge29iamVjdH0gY3JlYXRlZCBvcmRlclxuICAgKiBAbWVtYmVyb2YgT3JkZXJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGVPcmRlcihyZXEsIHJlcykge1xuICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICBpZiAoIWVycm9ycy5pc0VtcHR5KCkpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihlcnJvcnMuYXJyYXkoKSk7XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgcGFyY2VsRGVzY3JpcHRpb24sXG4gICAgICBwYXJjZWxXZWlnaHQsXG4gICAgICBmcm9tQWRkcmVzcyxcbiAgICAgIGZyb21DaXR5LFxuICAgICAgZnJvbUNvdW50cnksXG4gICAgICB0b0FkZHJlc3MsXG4gICAgICB0b0NpdHksXG4gICAgICB0b0NvdW50cnksXG4gICAgICByZWNlaXZlcixcbiAgICAgIHJlY2VpdmVyUGhvbmVcbiAgICB9ID0gcmVxLmJvZHk7XG5cbiAgICBjb25zdCBvcmRlclByaWNlID0gcGFyY2VsV2VpZ2h0ICogMTUwO1xuICAgIGNvbnN0IHVzZXJJZCA9IHBhcnNlSW50KHJlcS51c2VyLnVzZXJJZCwgMCk7XG4gICAgY29uc3QgcHJlc2VudExvY2F0aW9uID0gZnJvbUFkZHJlc3M7XG4gICAgY29uc3QgcXVlcnlUZXh0ID0gYElOU0VSVCBJTlRPIFxuICAgICAgb3JkZXJzKHBhcmNlbF9kZXNjcnB0LCBwYXJjZWxfd2d0LCBwcmljZSwgZnJvbV9hZGRyZXNzLCBmcm9tX2NpdHksIGZyb21fY291bnRyeSwgdG9fYWRkcmVzcywgdG9fY2l0eSwgdG9fY291bnRyeSwgcmVjZWl2ZXIsIHJlY2VpdmVyX3Bob25lLCBwcmVzZW50X2xvY2F0aW9uLCB1c2VyaWQsIGNyZWF0ZWRfb24sIHVwZGF0ZWRfb24pIFZBTFVFUyAoJDEsICQyLCAkMywgJDQsICQ1LCAkNiwgJDcsICQ4LCAkOSwgJDEwLCAkMTEsICQxMiwgJDEzLCAkMTQsICQxNSkgcmV0dXJuaW5nICpgO1xuXG4gICAgY29uc3QgdmFsdWVzID0gW1xuICAgICAgcGFyY2VsRGVzY3JpcHRpb24sXG4gICAgICBwYXJjZWxXZWlnaHQsXG4gICAgICBvcmRlclByaWNlLFxuICAgICAgZnJvbUFkZHJlc3MsXG4gICAgICBmcm9tQ2l0eSxcbiAgICAgIGZyb21Db3VudHJ5LFxuICAgICAgdG9BZGRyZXNzLFxuICAgICAgdG9DaXR5LFxuICAgICAgdG9Db3VudHJ5LFxuICAgICAgcmVjZWl2ZXIsXG4gICAgICByZWNlaXZlclBob25lLFxuICAgICAgcHJlc2VudExvY2F0aW9uLFxuICAgICAgdXNlcklkLFxuICAgICAgbW9tZW50KG5ldyBEYXRlKCkpLFxuICAgICAgbW9tZW50KG5ldyBEYXRlKCkpXG4gICAgXTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHJvd3MgfSA9IGF3YWl0IGRiLnF1ZXJ5KHF1ZXJ5VGV4dCwgdmFsdWVzKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICBtZXNzYWdlOiAncGFyY2VsIGRlbGl2ZXJ5IG9yZGVyIGNyZWF0ZWQgc3VjY2Vzc3VsbHknLFxuICAgICAgICBvcmRlcjogcm93c1swXVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycm9yOiAnb3JkZXIgbm90IGNyZWF0ZWQnLFxuICAgICAgICBlcnJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVzYyBHRVQgYXBpL3YxL3BhcmNlbHNcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IGFsbCBvcmRlcnNcbiAgICogQG1lbWJlcm9mIE9yZGVyXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgZ2V0QWxsT3JkZXJzKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgcXVlcnlUZXh0ID0gJ1NFTEVDVCAqIEZST00gb3JkZXJzJztcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyByb3dzLCByb3dDb3VudCB9ID0gYXdhaXQgZGIucXVlcnkocXVlcnlUZXh0KTtcbiAgICAgIGlmIChyb3dzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgIHN0YXR1czogJ2ZhaWx1cmUnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdvcmRlcnMgbm90IGZvdW5kJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICBtZXNzYWdlOiAnYXZhaWxhYmxlIG9yZGVycycsXG4gICAgICAgIHJvd3MsXG4gICAgICAgIHRvdGFsOiByb3dDb3VudFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycm9yOiAnY291bGQgbm90IGdldCB0aGUgb3JkZXJzJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBkZXNjIEdFVCBhcGkvdjEvcGFyY2Vscy86cGFyY2VsSWRcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IG9uZSBvcmRlclxuICAgKiBAbWVtYmVyb2YgT3JkZXJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBnZXRPbmVPcmRlcihyZXEsIHJlcykge1xuICAgIGNvbnN0IHBhcmNlbElkID0gcGFyc2VJbnQocmVxLnBhcmFtcy5wYXJjZWxJZCwgMCk7XG4gICAgY29uc3QgcXVlcnlUZXh0ID0gJ1NFTEVDVCAqIEZST00gb3JkZXJzIFdIRVJFIGlkPSQxJztcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBkYi5xdWVyeShxdWVyeVRleHQsIFtwYXJjZWxJZF0pO1xuICAgICAgaWYgKCFyb3dzWzBdKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgICAgc3RhdHVzOiAnZmFpbHVyZScsXG4gICAgICAgICAgbWVzc2FnZTogJ29yZGVyIG5vdCBmb3VuZCdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgbWVzc2FnZTogJ3VzZXIgb3JkZXJzIGZvdW5kJyxcbiAgICAgICAgb3JkZXI6IHJvd3NbMF1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBlcnJvcjogJ2NvdWxkIG5vdCBnZXQgdXNlciBvcmRlcnMnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGRlc2MgR0VUIGFwaS92MS91c2Vycy86dXNlcklkL3BhcmNlbHNcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVzXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHVzZXIgb3JkZXJzXG4gICAqIEBtZW1iZXJvZiBPcmRlclxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGdldE9yZGVyc2J5VXNlcihyZXEsIHJlcykge1xuICAgIGNvbnN0IHVzZXJJZCA9IHBhcnNlSW50KHJlcS5wYXJhbXMudXNlcklkLCAwKTtcbiAgICBjb25zdCBxdWVyeVRleHQgPSAnU0VMRUNUICogRlJPTSBvcmRlcnMgV0hFUkUgdXNlcmlkPSQxJztcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyByb3dzLCByb3dDb3VudCB9ID0gYXdhaXQgZGIucXVlcnkocXVlcnlUZXh0LCBbdXNlcklkXSk7XG4gICAgICBpZiAocm93cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICBzdGF0dXM6ICdmYWlsdXJlJyxcbiAgICAgICAgICBtZXNzYWdlOiAndXNlciBvcmRlcnMgbm90IGZvdW5kJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICBtZXNzYWdlOiAndXNlciBvcmRlcnMnLFxuICAgICAgICByb3dzLFxuICAgICAgICB0b3RhbDogcm93Q291bnRcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICBlcnJvcjogJ2NvdWxkIG5vdCBnZXQgdGhlIG9yZGVyJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBkZXNjIFBVVCBhcGkvdjEvcGFyY2Vscy86cGFyY2VsSWQvY2FuY2VsXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXFcbiAgICogQHBhcmFtIHtvYmplY3R9IHJlc1xuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBjYW5jZWxsZWQgb3JkZXJcbiAgICogQG1lbWJlcm9mIE9yZGVyXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY2FuY2VsT3JkZXIocmVxLCByZXMpIHtcbiAgICBjb25zdCB1c2VySWQgPSBwYXJzZUludChyZXEudXNlci51c2VySWQsIDApO1xuICAgIGNvbnN0IHBhcmNlbElkID0gcGFyc2VJbnQocmVxLnBhcmFtcy5wYXJjZWxJZCwgMCk7XG4gICAgY29uc3QgZmluZFRleHQgPSAnU0VMRUNUICogRlJPTSBvcmRlcnMgV0hFUkUgaWQ9JDEgQU5EIHVzZXJpZD0kMic7XG4gICAgY29uc3QgdXBkYXRlVGV4dCA9ICdVUERBVEUgb3JkZXJzIFNFVCBjYW5jZWxsZWQ9JDEsIHVwZGF0ZWRfb249JDIgV0hFUkUgaWQ9JDMgQU5EIHVzZXJpZD0kNCByZXR1cm5pbmcgKic7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBkYi5xdWVyeShmaW5kVGV4dCwgW3BhcmNlbElkLCB1c2VySWRdKTtcbiAgICAgIGlmICghcm93c1swXSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgIHN0YXR1czogJ2ZhaWx1cmUnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdvcmRlciBub3QgZm91bmQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWVzID0gWyd0cnVlJywgbW9tZW50KG5ldyBEYXRlKCkpLCBwYXJjZWxJZCwgdXNlcklkXTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLnF1ZXJ5KHVwZGF0ZVRleHQsIHZhbHVlcyk7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgbWVzc2FnZTogJ29yZGVyIGNhbmNlbGxlZCcsXG4gICAgICAgIG9yZGVyOiByZXN1bHQucm93c1swXVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycm9yOiAnY291bGQgbm90IGNhbmNlbGwgb3JkZXInXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGRlc2MgUFVUIGFwaS92MS9wYXJjZWxzLzpwYXJjZWxJZC9kZXN0aW5hdGlvblxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXNcbiAgICogQHJldHVybnMge29iamVjdH0gY2hhbmdlZCBkZXN0aW5hdGlvbiBvcmRlclxuICAgKiBAbWVtYmVyb2YgT3JkZXJcbiAgICovXG4gIHN0YXRpYyBhc3luYyBjaGFuZ2VPcmRlckRlc3RpbmF0aW9uKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgeyB0b0FkZHJlc3MsIHRvQ2l0eSwgdG9Db3VudHJ5IH0gPSByZXEuYm9keTtcbiAgICBjb25zdCB1c2VySWQgPSBwYXJzZUludChyZXEudXNlci51c2VySWQsIDApO1xuICAgIGNvbnN0IHBhcmNlbElkID0gcGFyc2VJbnQocmVxLnBhcmFtcy5wYXJjZWxJZCwgMCk7XG4gICAgY29uc3QgZmluZFRleHQgPSAnU0VMRUNUICogRlJPTSBvcmRlcnMgV0hFUkUgaWQ9JDEnO1xuICAgIGNvbnN0IHVwZGF0ZVRleHQgPSAnVVBEQVRFIG9yZGVycyBTRVQgdG9fYWRkcmVzcz0kMSwgdG9fY2l0eT0kMiwgdG9fY291bnRyeT0kMywgdXBkYXRlZF9vbj0kNCBXSEVSRSBpZD0kNSBBTkQgdXNlcmlkPSQ2IHJldHVybmluZyAqJztcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBkYi5xdWVyeShmaW5kVGV4dCwgW3BhcmNlbElkXSk7XG4gICAgICBpZiAoIXJvd3NbMF0pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICBzdGF0dXM6ICdmYWlsdXJlJyxcbiAgICAgICAgICBtZXNzYWdlOiAnb3JkZXIgbm90IGZvdW5kJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IFtcbiAgICAgICAgdG9BZGRyZXNzIHx8IHJvd3NbMF0udG9fYWRkcmVzcyxcbiAgICAgICAgdG9DaXR5IHx8IHJvd3NbMF0udG9fY2l0eSxcbiAgICAgICAgdG9Db3VudHJ5IHx8IHJvd3NbMF0udG9fY291bnRyeSxcbiAgICAgICAgbW9tZW50KG5ldyBEYXRlKCkpLFxuICAgICAgICBwYXJjZWxJZCxcbiAgICAgICAgdXNlcklkXG4gICAgICBdO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIucXVlcnkodXBkYXRlVGV4dCwgdmFsdWVzKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICBtZXNzYWdlOiAnb3JkZXIgZGVzdGluYXRpb24gY2hhbmdlZCcsXG4gICAgICAgIG9yZGVyOiByZXN1bHQucm93c1swXVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycm9yOiAnY291bGQgbm90IGNoYW5nZSBvcmRlciBkZXN0aW5hdGlvbidcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVzYyBQVVQgYXBpL3YxL3BhcmNlbHMvOnBhcmNlbElkL3N0YXR1c1xuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXNcbiAgICogQHJldHVybnMge29iamVjdH0gY2hhbmdlZCBzdGF0dXMgb3JkZXJcbiAgICogQG1lbWJlcm9mIE9yZGVyXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgY2hhbmdlT3JkZXJTdGF0dXMocmVxLCByZXMpIHtcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgcGFyY2VsSWQgPSBwYXJzZUludChyZXEucGFyYW1zLnBhcmNlbElkLCAwKTtcbiAgICBjb25zdCBmaW5kVXNlciA9ICdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIGlkPSQxJztcbiAgICBjb25zdCBmaW5kVGV4dCA9ICdTRUxFQ1QgKiBGUk9NIG9yZGVycyBXSEVSRSBpZD0kMSc7XG4gICAgY29uc3QgdXBkYXRlVGV4dCA9ICdVUERBVEUgb3JkZXJzIFNFVCBzdGF0dXM9JDEsIHVwZGF0ZWRfb249JDIgV0hFUkUgaWQ9JDMgcmV0dXJuaW5nIConO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcm93cyB9ID0gYXdhaXQgZGIucXVlcnkoZmluZFRleHQsIFtwYXJjZWxJZF0pO1xuICAgICAgaWYgKCFyb3dzWzBdKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgICAgc3RhdHVzOiAnZmFpbHVyZScsXG4gICAgICAgICAgbWVzc2FnZTogJ29yZGVyIG5vdCBmb3VuZCdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZXMgPSBbc3RhdHVzLnRyaW0oKSB8fCByb3dzWzBdLnN0YXR1cywgbW9tZW50KG5ldyBEYXRlKCkpLCBwYXJjZWxJZF07XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5xdWVyeSh1cGRhdGVUZXh0LCB2YWx1ZXMpO1xuICAgICAgY29uc3QgdXNlckluZm8gPSBhd2FpdCBkYi5xdWVyeShmaW5kVXNlciwgW3Jvd3NbMF0udXNlcmlkXSk7XG4gICAgICBjb25zdCB0byA9IHVzZXJJbmZvLnJvd3NbMF0uZW1haWw7XG4gICAgICBjb25zdCBzdWJqZWN0ID0gJ05vdGlmaWNhdGlvbiBvbiBwYXJjZWwgc3RhdHVzJztcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VySW5mby5yb3dzWzBdLmZpcnN0bmFtZTtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgXG4gICAgICAgIDxoMyBzdHlsZT1cInRleHQtdHJhbnNmb3JtOmNhcGl0YWxpemVcIj5IZWxsbyAke3VzZXJ9LDwvaDM+PHA+WW91ciBwYXJjZWwgaXMgJHtzdGF0dXN9PC9wPmA7XG5cbiAgICAgIHNlbmROb3RpZmljYXRpb24odG8sIHN1YmplY3QsIG1lc3NhZ2UsIHVzZXIsIHJlcyk7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgbWVzc2FnZTogJ29yZGVyIHN0YXR1cyBjaGFuZ2VkJyxcbiAgICAgICAgb3JkZXI6IHJlc3VsdC5yb3dzWzBdXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgZXJyb3I6ICdjb3VsZCBub3QgY2hhbmdlIG9yZGVyIHN0YXR1cydcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVzYyBQVVQgYXBpL3YxL3BhcmNlbHMvOnBhcmNlbElkL3ByZXNlbnRMb2NhdGlvblxuICAgKiBAcGFyYW0ge29iamVjdH0gcmVxXG4gICAqIEBwYXJhbSB7b2JqZWN0fSByZXNcbiAgICogQHJldHVybnMge29iamVjdH0gY2hhbmdlZCBwcmVzZW50IGxvY2F0aW9uIG9yZGVyXG4gICAqIEBtZW1iZXJvZiBPcmRlclxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGNoYW5nZU9yZGVyUHJlc2VudExvY2F0aW9uKHJlcSwgcmVzKSB7XG4gICAgY29uc3QgeyBmcm9tQWRkcmVzcywgZnJvbUNpdHksIGZyb21Db3VudHJ5IH0gPSByZXEuYm9keTtcbiAgICBjb25zdCBwYXJjZWxJZCA9IHBhcnNlSW50KHJlcS5wYXJhbXMucGFyY2VsSWQsIDApO1xuICAgIGNvbnN0IGZpbmRVc2VyID0gJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgaWQ9JDEnO1xuICAgIGNvbnN0IGZpbmRUZXh0ID0gJ1NFTEVDVCAqIEZST00gb3JkZXJzIFdIRVJFIGlkPSQxJztcbiAgICBjb25zdCB1cGRhdGVUZXh0ID0gJ1VQREFURSBvcmRlcnMgU0VUIHByZXNlbnRfbG9jYXRpb249JDEsIHVwZGF0ZWRfb249JDIgV0hFUkUgaWQ9JDMgcmV0dXJuaW5nIConO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcm93cyB9ID0gYXdhaXQgZGIucXVlcnkoZmluZFRleHQsIFtwYXJjZWxJZF0pO1xuICAgICAgaWYgKCFyb3dzWzBdKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgICAgc3RhdHVzOiAnZmFpbHVyZScsXG4gICAgICAgICAgbWVzc2FnZTogJ29yZGVyIG5vdCBmb3VuZCdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBwcmVzZW50TG9jYXRpb24gPSBgJHtmcm9tQWRkcmVzc30gJHtmcm9tQ2l0eX0sICR7ZnJvbUNvdW50cnl9YDtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IFtwcmVzZW50TG9jYXRpb24sIG1vbWVudChuZXcgRGF0ZSgpKSwgcGFyY2VsSWRdO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIucXVlcnkodXBkYXRlVGV4dCwgdmFsdWVzKTtcbiAgICAgIGNvbnN0IHVzZXJJbmZvID0gYXdhaXQgZGIucXVlcnkoZmluZFVzZXIsIFtyb3dzWzBdLnVzZXJpZF0pO1xuXG4gICAgICBjb25zdCB0byA9IHVzZXJJbmZvLnJvd3NbMF0uZW1haWw7XG4gICAgICBjb25zdCBzdWJqZWN0ID0gJ05vdGlmaWNhdGlvbiBvbiBwYXJjZWwgbG9jYXRpb24nO1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJJbmZvLnJvd3NbMF0uZmlyc3RuYW1lO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGBcbiAgICAgIDxoMyBzdHlsZT1cInRleHQtdHJhbnNmb3JtOmNhcGl0YWxpemVcIj5IZWxsbyAke3VzZXJ9LDwvaDM+XG4gICAgICA8cD5Zb3VyIHBhcmNlbCBpcyBjdXJyZW50bHkgYXQgJHtwcmVzZW50TG9jYXRpb259PC9wPmA7XG5cbiAgICAgIHNlbmROb3RpZmljYXRpb24odG8sIHN1YmplY3QsIG1lc3NhZ2UpO1xuXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdzdWNjZXNzJyxcbiAgICAgICAgbWVzc2FnZTogJ29yZGVyIHByZXNlbnQgbG9jYXRpb24gY2hhbmdlZCcsXG4gICAgICAgIG9yZGVyOiByZXN1bHQucm93c1swXVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xuICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgIGVycixcbiAgICAgICAgZXJyb3I6ICdjb3VsZCBub3QgY2hhbmdlIG9yZGVyIHByZXNlbnQgbG9jYXRpb24nXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==