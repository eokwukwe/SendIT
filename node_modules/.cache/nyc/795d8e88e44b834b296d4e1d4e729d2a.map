{"version":3,"sources":["verifyToken.js"],"names":["dotenv","config","verifyToken","req","res","next","token","headers","authorization","status","json","Message","jwt","verify","process","env","JWT_SECRET","decoded","user"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;;;;;AAEAA,iBAAOC,MAAP;;AAEA,IAAMC;AAAA,sFAAc,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACZC,iBADY,GACJH,IAAII,OAAJ,CAAYC,aADR;;AAAA,gBAEbF,KAFa;AAAA;AAAA;AAAA;;AAAA,6CAGTF,IAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,uBAAS;AADiB,aAArB,CAHS;;AAAA;AAAA;AAAA,mBAOIC,uBAAIC,MAAJ,CAAWP,KAAX,EAAkBQ,QAAQC,GAAR,CAAYC,UAA9B,CAPJ;;AAAA;AAOZC,mBAPY;;AAQlBd,gBAAIe,IAAJ,GAAWD,OAAX;AACAZ;;AATkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAd;;AAAA;AAAA;AAAA;AAAA,GAAN;;kBAYeH,W","file":"verifyToken.js","sourceRoot":"/home/okwukwe/Desktop/Andela/sendIT/server/middleware","sourcesContent":["import jwt from 'jsonwebtoken';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nconst verifyToken = async (req, res, next) => {\n  const token = req.headers.authorization;\n  if (!token) {\n    return res.status(401).json({\n      Message: 'No valid token provided'\n    });\n  }\n  const decoded = await jwt.verify(token, process.env.JWT_SECRET);\n  req.user = decoded;\n  next();\n};\n\nexport default verifyToken;\n"]}